
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../02-simplicial-type-theory.rzk/">
      
      
        <link rel="next" href="../04-right-orthogonal.rzk/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Extension Types - Simplicial HoTT</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.9f615399.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.649f08f9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/rzk-render.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4-equivalences-involving-extension-types" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Simplicial HoTT" class="md-header__button md-logo" aria-label="Simplicial HoTT" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Simplicial HoTT
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Extension Types
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/rzk-lang/sHoTT" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    rzk-lang/sHoTT
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Simplicial HoTT" class="md-nav__button md-logo" aria-label="Simplicial HoTT" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Simplicial HoTT
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rzk-lang/sHoTT" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    rzk-lang/sHoTT
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    General
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            General
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../STYLEGUIDE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code style
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../CONTRIBUTORS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HoTT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            HoTT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/00-common.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/01-paths.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paths
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/02-homotopies.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homotopies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/03-equivalences.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Equivalences
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/04-half-adjoint-equivalences.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Half Adjoint Equivalences
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/05-sigma.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sigma types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/06-contractible.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contractible
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/07-fibers.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fibers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/08-families-of-maps.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Families of maps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/09-propositions.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Propositions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/10-trivial-fibrations.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trivial fibrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/11-homotopy-pullbacks.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homotopy pullbacks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Simplicial HoTT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Simplicial HoTT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../02-simplicial-type-theory.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simplicial Type Theory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Extension Types
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Extension Types
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-up-to-homotopy" class="md-nav__link">
    Extension up to homotopy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commutation-of-arguments-and-currying" class="md-nav__link">
    Commutation of arguments and currying
  </a>
  
    <nav class="md-nav" aria-label="Commutation of arguments and currying">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functorial-instances" class="md-nav__link">
    Functorial instances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-into-types-the-non-axiom-of-choice" class="md-nav__link">
    Extending into Σ-types (the non-axiom of choice)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composites-and-unions-of-cofibrations" class="md-nav__link">
    Composites and unions of cofibrations
  </a>
  
    <nav class="md-nav" aria-label="Composites and unions of cofibrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functorial-instances_1" class="md-nav__link">
    Functorial instances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-extensionality" class="md-nav__link">
    Extension extensionality
  </a>
  
    <nav class="md-nav" aria-label="Extension extensionality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naive-extension-extensionality" class="md-nav__link">
    Naive extension extensionality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weak-extension-extensionality-implies-extension-extensionality" class="md-nav__link">
    Weak extension extensionality implies extension extensionality
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#homotopy-extension-property" class="md-nav__link">
    Homotopy extension property
  </a>
  
    <nav class="md-nav" aria-label="Homotopy extension property">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#homotopy-extension-property-and-naiveextext-imply-weakextext" class="md-nav__link">
    Homotopy extension property and NaiveExtExt imply WeakExtExt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications-of-extension-extensionality" class="md-nav__link">
    Applications of extension extensionality
  </a>
  
    <nav class="md-nav" aria-label="Applications of extension extensionality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointwise-homotopy-extension-types" class="md-nav__link">
    Pointwise homotopy extension types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relative-extension-types" class="md-nav__link">
    Relative extension types
  </a>
  
    <nav class="md-nav" aria-label="Relative extension types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generalized-relative-extension-types" class="md-nav__link">
    Generalized relative extension types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functoriality-of-extension-types" class="md-nav__link">
    Functoriality of extension types
  </a>
  
    <nav class="md-nav" aria-label="Functoriality of extension types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#equivalences-induce-equivalences-of-extension-types" class="md-nav__link">
    Equivalences induce equivalences of extension types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retracts-induce-retracts-of-extension-types" class="md-nav__link">
    Retracts induce retracts of extension types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../04-right-orthogonal.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Right Orthogonal Fibrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../05-segal-types.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Segal Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../06-2cat-of-segal-types.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2-Category of Segal Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../07-discrete.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discrete Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../08-covariant.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Covariant Families
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../09-yoneda.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Yoneda Lemma
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../10-rezk-types.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rezk Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../11-adjunctions.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adjunctions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../12-cocartesian.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cocartesian Families
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../13-limits.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limits and Colimits
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-up-to-homotopy" class="md-nav__link">
    Extension up to homotopy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#commutation-of-arguments-and-currying" class="md-nav__link">
    Commutation of arguments and currying
  </a>
  
    <nav class="md-nav" aria-label="Commutation of arguments and currying">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functorial-instances" class="md-nav__link">
    Functorial instances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-into-types-the-non-axiom-of-choice" class="md-nav__link">
    Extending into Σ-types (the non-axiom of choice)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#composites-and-unions-of-cofibrations" class="md-nav__link">
    Composites and unions of cofibrations
  </a>
  
    <nav class="md-nav" aria-label="Composites and unions of cofibrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functorial-instances_1" class="md-nav__link">
    Functorial instances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extension-extensionality" class="md-nav__link">
    Extension extensionality
  </a>
  
    <nav class="md-nav" aria-label="Extension extensionality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naive-extension-extensionality" class="md-nav__link">
    Naive extension extensionality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#weak-extension-extensionality-implies-extension-extensionality" class="md-nav__link">
    Weak extension extensionality implies extension extensionality
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#homotopy-extension-property" class="md-nav__link">
    Homotopy extension property
  </a>
  
    <nav class="md-nav" aria-label="Homotopy extension property">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#homotopy-extension-property-and-naiveextext-imply-weakextext" class="md-nav__link">
    Homotopy extension property and NaiveExtExt imply WeakExtExt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications-of-extension-extensionality" class="md-nav__link">
    Applications of extension extensionality
  </a>
  
    <nav class="md-nav" aria-label="Applications of extension extensionality">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pointwise-homotopy-extension-types" class="md-nav__link">
    Pointwise homotopy extension types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relative-extension-types" class="md-nav__link">
    Relative extension types
  </a>
  
    <nav class="md-nav" aria-label="Relative extension types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generalized-relative-extension-types" class="md-nav__link">
    Generalized relative extension types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functoriality-of-extension-types" class="md-nav__link">
    Functoriality of extension types
  </a>
  
    <nav class="md-nav" aria-label="Functoriality of extension types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#equivalences-induce-equivalences-of-extension-types" class="md-nav__link">
    Equivalences induce equivalences of extension types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retracts-induce-retracts-of-extension-types" class="md-nav__link">
    Retracts induce retracts of extension types
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/rzk-lang/sHoTT/edit/main/src/simplicial-hott/03-extension-types.rzk.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  


<h1 id="4-equivalences-involving-extension-types">4. Equivalences involving extension types<a class="headerlink" href="#4-equivalences-involving-extension-types" title="Permanent link">&para;</a></h1>
<p>These formalisations correspond to Section 3 of the RS17 paper.</p>
<p>This is a literate <code>rzk</code> file:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nd">#lang</span><span class="p"> </span><span class="s">rzk-1</span>
</span></code></pre></div>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li><code>hott/03-equivalences.rzk.md</code> — contains the definitions of <code class="language-rzk highlight"><span class="err">Equiv</span></code> and
  <code class="language-rzk highlight"><span class="err">comp-equiv</span></code></li>
</ul>
<h2 id="extension-up-to-homotopy">Extension up to homotopy<a class="headerlink" href="#extension-up-to-homotopy" title="Permanent link">&para;</a></h2>
<p>For a shape inclusion <code>ϕ ⊂ ψ</code> and any type <code>A</code>, we have the inbuilt extension
types <code>(t : ψ) → A [ϕ t ↦ σ t]</code> (for every <code>σ : ϕ → A</code>).</p>
<p>We show that these extension types are equivalent to the fibers of the canonical
restriction map <code>(ψ → A) → (ϕ → A)</code>, which we can view as the types of
"extension up to homotopy".</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nd">#section</span><span class="n"> extensions-up-to-homotopy</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kr">#variable</span><span class="p"> </span>I<span class="err"> : CUBE</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kr">#variable</span><span class="p"> </span>ψ<span class="err"> : I → TOPE</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kr">#variable</span><span class="p"> </span>ϕ<span class="err"> : ψ → TOPE</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="kr">#variable</span><span class="p"> </span>A<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → U</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:extension-type" id="define:extension-type" style="visibility: visible; position: relative; color: inherit">extension-type</a></span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="err">  : U</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="err">  := </span><span class="p">( </span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ σ t]</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:homotopy-extension-type" id="define:homotopy-extension-type" style="visibility: visible; position: relative; color: inherit">homotopy-extension-type</a></span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="err">  : U</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="err">  := fib </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → A t) </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ϕ) → A t) (</span><span class="p">\ </span>τ t <span class="err">→ τ t) (σ)</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:extension-type-weakening-map" id="define:extension-type-weakening-map" style="visibility: visible; position: relative; color: inherit">extension-type-weakening-map</a></span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="err">  : extension-type σ → homotopy-extension-type σ</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a><span class="err">  := </span><span class="p">\ </span>τ <span class="err">→ ( τ, </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:section-extension-type-weakening&#39;" id="define:section-extension-type-weakening&#39;" style="visibility: visible; position: relative; color: inherit">section-extension-type-weakening&#39;</a></span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="err">  : </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="err">  → </span><span class="p">( </span>th <span class="p">:</span><span class="err"> homotopy-extension-type σ)</span>
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="err">  → </span><span class="kt">Σ</span><span class="err"> </span><span class="p">(</span>τ <span class="p">:</span><span class="err"> extension-type σ), (( τ, </span><span class="s">refl</span><span class="err">) =_{homotopy-extension-type σ} th)</span>
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="err">  :=</span>
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a><span class="err">    ind-fib </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → A t) </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ϕ) → A t) (</span><span class="p">\ </span>τ t <span class="err">→ τ t)</span>
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="err">      </span><span class="p">( </span>\ σ th →
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>          Σ (τ <span class="p">:</span><span class="err"> extension-type σ),</span>
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="err">            ( τ, </span><span class="s">refl</span><span class="err">) =_{homotopy-extension-type σ} th)</span>
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="err">      </span><span class="p">( </span>\ (τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t) → (τ, </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:extension-strictification" id="define:extension-strictification" style="visibility: visible; position: relative; color: inherit">extension-strictification</a></span>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="err">  : (homotopy-extension-type σ) → (extension-type σ)</span>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a><span class="err">  :=</span>
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="err">    </span><span class="p">\ </span>th <span class="err">→ </span><span class="s">first</span><span class="err"> (section-extension-type-weakening&#39; σ th)</span>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-section-extension-type-weakening" id="define:has-section-extension-type-weakening" style="visibility: visible; position: relative; color: inherit">has-section-extension-type-weakening</a></span>
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a><span class="err">  : has-section (extension-type σ) (homotopy-extension-type σ)</span>
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a><span class="err">      (extension-type-weakening-map σ)</span>
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a><span class="err">  :=</span>
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a><span class="err">    ( extension-strictification σ</span>
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a><span class="err">    , </span><span class="p">\ </span>th <span class="err">→ ( </span><span class="s">second</span><span class="err"> (section-extension-type-weakening&#39; σ th)))</span>
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a>
</span><span id="__span-1-48"><a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-equiv-extension-type-weakening" id="define:is-equiv-extension-type-weakening" style="visibility: visible; position: relative; color: inherit">is-equiv-extension-type-weakening</a></span>
</span><span id="__span-1-49"><a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-1-50"><a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a><span class="err">  : is-equiv (extension-type σ) (homotopy-extension-type σ)</span>
</span><span id="__span-1-51"><a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a><span class="err">      (extension-type-weakening-map σ)</span>
</span><span id="__span-1-52"><a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a><span class="err">  :=</span>
</span><span id="__span-1-53"><a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a><span class="err">    ( ( extension-strictification σ, </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-1-54"><a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a><span class="err">    , has-section-extension-type-weakening σ)</span>
</span><span id="__span-1-55"><a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a>
</span><span id="__span-1-56"><a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:extension-type-weakening" id="define:extension-type-weakening" style="visibility: visible; position: relative; color: inherit">extension-type-weakening</a></span>
</span><span id="__span-1-57"><a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-1-58"><a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a><span class="err">  : Equiv (extension-type σ) (homotopy-extension-type σ)</span>
</span><span id="__span-1-59"><a id="__codelineno-1-59" name="__codelineno-1-59" href="#__codelineno-1-59"></a><span class="err">  := ( extension-type-weakening-map σ , is-equiv-extension-type-weakening σ)</span>
</span><span id="__span-1-60"><a id="__codelineno-1-60" name="__codelineno-1-60" href="#__codelineno-1-60"></a>
</span><span id="__span-1-61"><a id="__codelineno-1-61" name="__codelineno-1-61" href="#__codelineno-1-61"></a><span class="nd">#end</span><span class="n"> extensions-up-to-homotopy</span>
</span></code></pre></div>
<p>This equivalence is functorial in the following sense:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:extension-type-weakening-functorial" id="define:extension-type-weakening-functorial" style="visibility: visible; position: relative; color: inherit">extension-type-weakening-functorial</a></span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → U)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A&#39; t → A t)</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="err">  </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A&#39; t)</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="err">    ( extension-type I ψ ϕ A&#39; σ&#39;)</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="err">    ( extension-type I ψ ϕ A (</span><span class="p">\ </span>t <span class="err">→ α t (σ&#39; t)))</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="err">    ( </span><span class="p">\ </span>τ&#39; t <span class="err">→ α t (τ&#39; t))</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="err">    ( homotopy-extension-type I ψ ϕ A&#39; σ&#39;)</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="err">    ( homotopy-extension-type I ψ ϕ A (</span><span class="p">\ </span>t <span class="err">→ α t (σ&#39; t)))</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="err">    ( \ (τ&#39;, p) →</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ α t (τ&#39; t)</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="err">      , ap</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="err">        </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → A&#39; t)</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="err">        </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="err">        </span><span class="p">( </span>\ (t <span class="p">:</span><span class="err"> ϕ) → τ&#39; t)</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="err">        </span><span class="p">( </span>\ (t <span class="p">:</span><span class="err"> ϕ) → σ&#39; t)</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="err">        ( </span><span class="p">\ </span>σ&#39;&#39; t <span class="err">→ α t (σ&#39;&#39; t))</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="err">        ( p)))</span>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="err">  :=</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="err">    ( ( ( extension-type-weakening-map I ψ ϕ A&#39; σ&#39;</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="err">        , extension-type-weakening-map I ψ ϕ A (</span><span class="p">\ </span>t <span class="err">→ α t (σ&#39; t)))</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="err">      , ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="err">    , ( is-equiv-extension-type-weakening I ψ ϕ A&#39; σ&#39;</span>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="err">      , is-equiv-extension-type-weakening I ψ ϕ A (</span><span class="p">\ </span>t <span class="err">→ α t (σ&#39; t))))</span>
</span></code></pre></div>
<h2 id="commutation-of-arguments-and-currying">Commutation of arguments and currying<a class="headerlink" href="#commutation-of-arguments-and-currying" title="Permanent link">&para;</a></h2>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 4.1</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:flip-ext-fun" id="define:flip-ext-fun" style="visibility: visible; position: relative; color: inherit">flip-ext-fun</a></span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="err">  </span><span class="p">( </span>Y <span class="p">:</span><span class="err"> ψ → X → U)</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → </span><span class="p">(</span>x <span class="p">:</span><span class="err"> X) → Y t x)</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="err">  : Equiv</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>(x <span class="p">:</span><span class="err"> X) → Y t x) [ϕ t ↦ f t])</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="err">      </span><span class="p">( </span>(x <span class="p">:</span><span class="err"> X) → </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → Y t x [ϕ t ↦ f t x])</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="err">  :=</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="err">    ( ( </span><span class="p">\ </span>g x t <span class="err">→ g t x)</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="err">    , ( ( </span><span class="p">\ </span>h t x <span class="err">→ (h x) t , </span><span class="p">\ </span>g <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="err">      , ( </span><span class="p">\ </span>h t x <span class="err">→ (h x) t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:flip-ext-fun-inv" id="define:flip-ext-fun-inv" style="visibility: visible; position: relative; color: inherit">flip-ext-fun-inv</a></span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="err">  </span><span class="p">( </span>Y <span class="p">:</span><span class="err"> ψ → X → U)</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → </span><span class="p">(</span>x <span class="p">:</span><span class="err"> X) → Y t x)</span>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="err">  : Equiv</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="err">    </span><span class="p">( </span>(x <span class="p">:</span><span class="err"> X) → </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → Y t x [ϕ t ↦ f t x])</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>(x <span class="p">:</span><span class="err"> X) → Y t x) [ϕ t ↦ f t])</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="err">  :=</span>
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="err">    ( ( </span><span class="p">\ </span>h t x <span class="err">→ (h x) t)</span>
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="err">    , ( ( </span><span class="p">\ </span>g x t <span class="err">→ g t x , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="err">      , ( </span><span class="p">\ </span>g x t <span class="err">→ g t x , </span><span class="p">\ </span>g <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 4.2</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:curry-uncurry" id="define:curry-uncurry" style="visibility: visible; position: relative; color: inherit">curry-uncurry</a></span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="err">  </span><span class="p">( </span>I J <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="err">  </span><span class="p">( </span>ζ <span class="p">:</span><span class="err"> J → TOPE)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="err">  </span><span class="p">( </span>χ <span class="p">:</span><span class="err"> ζ → TOPE)</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> ψ → ζ → U)</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> ((t , s) : I × J | (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s)) → X t s)</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="err">  : Equiv</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ)</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="err">    → </span><span class="p">( </span>(s <span class="p">:</span><span class="err"> ζ) → X t s [χ s ↦ f (t , s)])</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="err">      [ ϕ t ↦ </span><span class="p">\ </span>s <span class="err">→ f (t , s)])</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="err">    ( ( (t , s) : I × J | ψ t </span><span class="sx">∧</span><span class="err"> ζ s)</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="err">    → ( X t s [(ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s) ↦ f (t , s)]))</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="err">  :=</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="err">    ( ( </span><span class="p">\ </span>g <span class="err">(t , s) → (g t) s)</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="err">    , ( ( </span><span class="p">\ </span>h t s <span class="err">→ h (t , s) , </span><span class="p">\ </span>g <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="err">      , ( </span><span class="p">\ </span>h t s <span class="err">→ h (t , s) , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:uncurry-opcurry" id="define:uncurry-opcurry" style="visibility: visible; position: relative; color: inherit">uncurry-opcurry</a></span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="err">  </span><span class="p">( </span>I J <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="err">  </span><span class="p">( </span>ζ <span class="p">:</span><span class="err"> J → TOPE)</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="err">  </span><span class="p">( </span>χ <span class="p">:</span><span class="err"> ζ → TOPE)</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> ψ → ζ → U)</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> ((t , s) : I × J | (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s)) → X t s)</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="err">  : Equiv</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="err">    ( ( (t , s) : I × J | ψ t </span><span class="sx">∧</span><span class="err"> ζ s)</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="err">    → ( X t s [(ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s) ↦ f (t , s)]))</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="err">    </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> ζ)</span>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="err">    → </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → X t s [ϕ t ↦ f (t , s)])</span>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="err">      [ χ s ↦ </span><span class="p">\ </span>t <span class="err">→ f (t , s)])</span>
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="err">  :=</span>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="err">    ( ( </span><span class="p">\ </span>h s t <span class="err">→ h (t , s))</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="err">    , ( ( </span><span class="p">\ </span>g <span class="err">(t , s) → (g s) t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="err">      , ( </span><span class="p">\ </span>g <span class="err">(t , s) → (g s) t , </span><span class="p">\ </span>g <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:fubini" id="define:fubini" style="visibility: visible; position: relative; color: inherit">fubini</a></span>
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a><span class="err">  </span><span class="p">( </span>I J <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a><span class="err">  </span><span class="p">( </span>ζ <span class="p">:</span><span class="err"> J → TOPE)</span>
</span><span id="__span-4-44"><a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a><span class="err">  </span><span class="p">( </span>χ <span class="p">:</span><span class="err"> ζ → TOPE)</span>
</span><span id="__span-4-45"><a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> ψ → ζ → U)</span>
</span><span id="__span-4-46"><a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> ((t , s) : I × J | (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s)) → X t s)</span>
</span><span id="__span-4-47"><a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a><span class="err">  : Equiv</span>
</span><span id="__span-4-48"><a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ)</span>
</span><span id="__span-4-49"><a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a><span class="err">    → </span><span class="p">( </span>(s <span class="p">:</span><span class="err"> ζ) → X t s [χ s ↦ f (t , s)]) [ϕ t ↦ </span><span class="p">\ </span>s <span class="err">→ f (t , s)])</span>
</span><span id="__span-4-50"><a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a><span class="err">    </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> ζ)</span>
</span><span id="__span-4-51"><a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a><span class="err">    → </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → X t s [ϕ t ↦ f (t , s)]) [χ s ↦ </span><span class="p">\ </span>t <span class="err">→ f (t , s)])</span>
</span><span id="__span-4-52"><a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a><span class="err">  :=</span>
</span><span id="__span-4-53"><a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a><span class="err">    equiv-comp</span>
</span><span id="__span-4-54"><a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a><span class="err">      </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ)</span>
</span><span id="__span-4-55"><a id="__codelineno-4-55" name="__codelineno-4-55" href="#__codelineno-4-55"></a><span class="err">      → </span><span class="p">( </span>(s <span class="p">:</span><span class="err"> ζ) → X t s [χ s ↦ f (t , s)]) [ϕ t ↦ </span><span class="p">\ </span>s <span class="err">→ f (t , s)])</span>
</span><span id="__span-4-56"><a id="__codelineno-4-56" name="__codelineno-4-56" href="#__codelineno-4-56"></a><span class="err">      ( ( (t , s) : I × J | ψ t </span><span class="sx">∧</span><span class="err"> ζ s)</span>
</span><span id="__span-4-57"><a id="__codelineno-4-57" name="__codelineno-4-57" href="#__codelineno-4-57"></a><span class="err">      → X t s [(ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s) ↦ f (t , s)])</span>
</span><span id="__span-4-58"><a id="__codelineno-4-58" name="__codelineno-4-58" href="#__codelineno-4-58"></a><span class="err">      </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> ζ)</span>
</span><span id="__span-4-59"><a id="__codelineno-4-59" name="__codelineno-4-59" href="#__codelineno-4-59"></a><span class="err">      → </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → X t s [ϕ t ↦ f (t , s)]) [χ s ↦ </span><span class="p">\ </span>t <span class="err">→ f (t , s)])</span>
</span><span id="__span-4-60"><a id="__codelineno-4-60" name="__codelineno-4-60" href="#__codelineno-4-60"></a><span class="err">      ( curry-uncurry I J ψ ϕ ζ χ X f)</span>
</span><span id="__span-4-61"><a id="__codelineno-4-61" name="__codelineno-4-61" href="#__codelineno-4-61"></a><span class="err">      ( uncurry-opcurry I J ψ ϕ ζ χ X f)</span>
</span></code></pre></div>
<h3 id="functorial-instances">Functorial instances<a class="headerlink" href="#functorial-instances" title="Permanent link">&para;</a></h3>
<p>For each of these we provide a corresponding functorial instance</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:flip-ext-fun-functorial" id="define:flip-ext-fun-functorial" style="visibility: visible; position: relative; color: inherit">flip-ext-fun-functorial</a></span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> ψ → X → U)</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>x <span class="p">:</span><span class="err"> X) → A&#39; t x → A t x)</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="err">  </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → </span><span class="p">(</span>x <span class="p">:</span><span class="err"> X) → A&#39; t x)</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>(x <span class="p">:</span><span class="err"> X) → A&#39; t x) [ϕ t ↦ σ&#39; t])</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>(x <span class="p">:</span><span class="err"> X) → A t x) [ϕ t ↦ </span><span class="p">\ </span>x <span class="err">→ α t x (σ&#39; t x)])</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="err">    ( </span><span class="p">\ </span>τ t x <span class="err">→ α t x (τ t x))</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="err">    </span><span class="p">( </span>(x <span class="p">:</span><span class="err"> X) → </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A&#39; t x [ϕ t ↦ σ&#39; t x])</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="err">    </span><span class="p">( </span>(x <span class="p">:</span><span class="err"> X) → </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t x [ϕ t ↦ α t x (σ&#39; t x)])</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="err">    ( </span><span class="p">\ </span>τ x t <span class="err">→ α t x (τ x t))</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="err">  :=</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="err">    ( ( ( </span><span class="s">first</span><span class="err"> (flip-ext-fun I ψ ϕ X A&#39; σ&#39;)</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="err">        , </span><span class="s">first</span><span class="err"> (flip-ext-fun I ψ ϕ X A (</span><span class="p">\ </span>t x <span class="err">→ α t x (σ&#39; t x))))</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="err">      , ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="err">    , ( </span><span class="s">second</span><span class="err"> (flip-ext-fun I ψ ϕ X A&#39; σ&#39;)</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="err">      , </span><span class="s">second</span><span class="err"> (flip-ext-fun I ψ ϕ X A (</span><span class="p">\ </span>t x <span class="err">→ α t x (σ&#39; t x)))))</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:curry-uncurry-functorial" id="define:curry-uncurry-functorial" style="visibility: visible; position: relative; color: inherit">curry-uncurry-functorial</a></span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="err">  </span><span class="p">( </span>I J <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a><span class="err">  </span><span class="p">( </span>ζ <span class="p">:</span><span class="err"> J → TOPE)</span>
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a><span class="err">  </span><span class="p">( </span>χ <span class="p">:</span><span class="err"> ζ → TOPE)</span>
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> ψ → ζ → U)</span>
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>s <span class="p">:</span><span class="err"> ζ) → A&#39; t s → A t s)</span>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a><span class="err">  </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> ((t , s) : I × J | (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s)) → A&#39; t s)</span>
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ)</span>
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a><span class="err">    → </span><span class="p">( </span>(s <span class="p">:</span><span class="err"> ζ) → A&#39; t s [χ s ↦ σ&#39; (t , s)])</span>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a><span class="err">      [ ϕ t ↦ </span><span class="p">\ </span>s <span class="err">→ σ&#39; (t , s)])</span>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ)</span>
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a><span class="err">    → </span><span class="p">( </span>(s <span class="p">:</span><span class="err"> ζ) → A t s [χ s ↦ α t s (σ&#39; (t , s))])</span>
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a><span class="err">      [ ϕ t ↦ </span><span class="p">\ </span>s <span class="err">→ α t s (σ&#39; (t , s))])</span>
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a><span class="err">    ( </span><span class="p">\ </span>τ&#39; t s <span class="err">→ α t s (τ&#39; t s))</span>
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a><span class="err">    ( ( (t , s) : I × J | ψ t </span><span class="sx">∧</span><span class="err"> ζ s)</span>
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a><span class="err">    → ( A&#39; t s) [ (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s) ↦ σ&#39; (t , s)])</span>
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a><span class="err">    ( ( (t , s) : I × J | ψ t </span><span class="sx">∧</span><span class="err"> ζ s)</span>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a><span class="err">    → ( A t s) [ (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s) ↦ α t s (σ&#39; (t , s))])</span>
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a><span class="err">    ( </span><span class="p">\ </span>uτ&#39; <span class="err">(t , s) → α t s (uτ&#39; (t , s)))</span>
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a><span class="err">  :=</span>
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a><span class="err">  ( ( ( </span><span class="s">first</span><span class="err"> (curry-uncurry I J ψ ϕ ζ χ A&#39; σ&#39;)</span>
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a><span class="err">      , </span><span class="s">first</span><span class="err"> (curry-uncurry I J ψ ϕ ζ χ A ( \ (t , s) → α t s (σ&#39; (t , s)))))</span>
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a><span class="err">    , ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a><span class="err">  , ( </span><span class="s">second</span><span class="err"> (curry-uncurry I J ψ ϕ ζ χ A&#39; σ&#39;)</span>
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a><span class="err">    , </span><span class="s">second</span><span class="err"> (curry-uncurry I J ψ ϕ ζ χ A ( \ (t , s) → α t s (σ&#39; (t , s))))))</span>
</span><span id="__span-5-52"><a id="__codelineno-5-52" name="__codelineno-5-52" href="#__codelineno-5-52"></a>
</span><span id="__span-5-53"><a id="__codelineno-5-53" name="__codelineno-5-53" href="#__codelineno-5-53"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:uncurry-opcurry-functorial" id="define:uncurry-opcurry-functorial" style="visibility: visible; position: relative; color: inherit">uncurry-opcurry-functorial</a></span>
</span><span id="__span-5-54"><a id="__codelineno-5-54" name="__codelineno-5-54" href="#__codelineno-5-54"></a><span class="err">  </span><span class="p">( </span>I J <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-5-55"><a id="__codelineno-5-55" name="__codelineno-5-55" href="#__codelineno-5-55"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-5-56"><a id="__codelineno-5-56" name="__codelineno-5-56" href="#__codelineno-5-56"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-5-57"><a id="__codelineno-5-57" name="__codelineno-5-57" href="#__codelineno-5-57"></a><span class="err">  </span><span class="p">( </span>ζ <span class="p">:</span><span class="err"> J → TOPE)</span>
</span><span id="__span-5-58"><a id="__codelineno-5-58" name="__codelineno-5-58" href="#__codelineno-5-58"></a><span class="err">  </span><span class="p">( </span>χ <span class="p">:</span><span class="err"> ζ → TOPE)</span>
</span><span id="__span-5-59"><a id="__codelineno-5-59" name="__codelineno-5-59" href="#__codelineno-5-59"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> ψ → ζ → U)</span>
</span><span id="__span-5-60"><a id="__codelineno-5-60" name="__codelineno-5-60" href="#__codelineno-5-60"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>s <span class="p">:</span><span class="err"> ζ) → A&#39; t s → A t s)</span>
</span><span id="__span-5-61"><a id="__codelineno-5-61" name="__codelineno-5-61" href="#__codelineno-5-61"></a><span class="err">  </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> ((t , s) : I × J | (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s)) → A&#39; t s)</span>
</span><span id="__span-5-62"><a id="__codelineno-5-62" name="__codelineno-5-62" href="#__codelineno-5-62"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-5-63"><a id="__codelineno-5-63" name="__codelineno-5-63" href="#__codelineno-5-63"></a><span class="err">    ( ( (t , s) : I × J | ψ t </span><span class="sx">∧</span><span class="err"> ζ s)</span>
</span><span id="__span-5-64"><a id="__codelineno-5-64" name="__codelineno-5-64" href="#__codelineno-5-64"></a><span class="err">    → ( A&#39; t s) [ (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s) ↦ σ&#39; (t , s)])</span>
</span><span id="__span-5-65"><a id="__codelineno-5-65" name="__codelineno-5-65" href="#__codelineno-5-65"></a><span class="err">    ( ( (t , s) : I × J | ψ t </span><span class="sx">∧</span><span class="err"> ζ s)</span>
</span><span id="__span-5-66"><a id="__codelineno-5-66" name="__codelineno-5-66" href="#__codelineno-5-66"></a><span class="err">    →  ( A t s) [ (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s) ↦ α t s (σ&#39; (t , s))])</span>
</span><span id="__span-5-67"><a id="__codelineno-5-67" name="__codelineno-5-67" href="#__codelineno-5-67"></a><span class="err">    ( </span><span class="p">\ </span>uτ&#39; <span class="err">(t , s) → α t s (uτ&#39; (t , s)))</span>
</span><span id="__span-5-68"><a id="__codelineno-5-68" name="__codelineno-5-68" href="#__codelineno-5-68"></a><span class="err">    </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> ζ)</span>
</span><span id="__span-5-69"><a id="__codelineno-5-69" name="__codelineno-5-69" href="#__codelineno-5-69"></a><span class="err">    → </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A&#39; t s [ϕ t ↦ σ&#39; (t , s)])</span>
</span><span id="__span-5-70"><a id="__codelineno-5-70" name="__codelineno-5-70" href="#__codelineno-5-70"></a><span class="err">      [ χ s ↦ </span><span class="p">\ </span>t <span class="err">→ σ&#39; (t , s)])</span>
</span><span id="__span-5-71"><a id="__codelineno-5-71" name="__codelineno-5-71" href="#__codelineno-5-71"></a><span class="err">    </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> ζ)</span>
</span><span id="__span-5-72"><a id="__codelineno-5-72" name="__codelineno-5-72" href="#__codelineno-5-72"></a><span class="err">    → </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t s [ϕ t ↦ α t s ( σ&#39; (t , s))])</span>
</span><span id="__span-5-73"><a id="__codelineno-5-73" name="__codelineno-5-73" href="#__codelineno-5-73"></a><span class="err">      [ χ s ↦ </span><span class="p">\ </span>t <span class="err">→ α t s (σ&#39; (t , s))])</span>
</span><span id="__span-5-74"><a id="__codelineno-5-74" name="__codelineno-5-74" href="#__codelineno-5-74"></a><span class="err">    ( </span><span class="p">\ </span>τ&#39; s t <span class="err">→ α t s (τ&#39; s t))</span>
</span><span id="__span-5-75"><a id="__codelineno-5-75" name="__codelineno-5-75" href="#__codelineno-5-75"></a><span class="err">  :=</span>
</span><span id="__span-5-76"><a id="__codelineno-5-76" name="__codelineno-5-76" href="#__codelineno-5-76"></a><span class="err">  ( ( ( </span><span class="s">first</span><span class="err"> (uncurry-opcurry I J ψ ϕ ζ χ A&#39; σ&#39;)</span>
</span><span id="__span-5-77"><a id="__codelineno-5-77" name="__codelineno-5-77" href="#__codelineno-5-77"></a><span class="err">      , </span><span class="s">first</span><span class="err"> (uncurry-opcurry I J ψ ϕ ζ χ A ( \ (t , s) → α t s (σ&#39; (t , s)))))</span>
</span><span id="__span-5-78"><a id="__codelineno-5-78" name="__codelineno-5-78" href="#__codelineno-5-78"></a><span class="err">    , ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-5-79"><a id="__codelineno-5-79" name="__codelineno-5-79" href="#__codelineno-5-79"></a><span class="err">  , ( </span><span class="s">second</span><span class="err"> (uncurry-opcurry I J ψ ϕ ζ χ A&#39; σ&#39;)</span>
</span><span id="__span-5-80"><a id="__codelineno-5-80" name="__codelineno-5-80" href="#__codelineno-5-80"></a><span class="err">    , </span><span class="s">second</span><span class="err"> (uncurry-opcurry I J ψ ϕ ζ χ A ( \ (t , s) → α t s (σ&#39; (t , s))))))</span>
</span><span id="__span-5-81"><a id="__codelineno-5-81" name="__codelineno-5-81" href="#__codelineno-5-81"></a>
</span><span id="__span-5-82"><a id="__codelineno-5-82" name="__codelineno-5-82" href="#__codelineno-5-82"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:fubini-functorial" id="define:fubini-functorial" style="visibility: visible; position: relative; color: inherit">fubini-functorial</a></span>
</span><span id="__span-5-83"><a id="__codelineno-5-83" name="__codelineno-5-83" href="#__codelineno-5-83"></a><span class="err">  </span><span class="p">( </span>I J <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-5-84"><a id="__codelineno-5-84" name="__codelineno-5-84" href="#__codelineno-5-84"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-5-85"><a id="__codelineno-5-85" name="__codelineno-5-85" href="#__codelineno-5-85"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-5-86"><a id="__codelineno-5-86" name="__codelineno-5-86" href="#__codelineno-5-86"></a><span class="err">  </span><span class="p">( </span>ζ <span class="p">:</span><span class="err"> J → TOPE)</span>
</span><span id="__span-5-87"><a id="__codelineno-5-87" name="__codelineno-5-87" href="#__codelineno-5-87"></a><span class="err">  </span><span class="p">( </span>χ <span class="p">:</span><span class="err"> ζ → TOPE)</span>
</span><span id="__span-5-88"><a id="__codelineno-5-88" name="__codelineno-5-88" href="#__codelineno-5-88"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> ψ → ζ → U)</span>
</span><span id="__span-5-89"><a id="__codelineno-5-89" name="__codelineno-5-89" href="#__codelineno-5-89"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>s <span class="p">:</span><span class="err"> ζ) → A&#39; t s → A t s)</span>
</span><span id="__span-5-90"><a id="__codelineno-5-90" name="__codelineno-5-90" href="#__codelineno-5-90"></a><span class="err">  </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> ((t , s) : I × J | (ϕ t </span><span class="sx">∧</span><span class="err"> ζ s) </span><span class="sx">∨</span><span class="err"> (ψ t </span><span class="sx">∧</span><span class="err"> χ s)) → A&#39; t s)</span>
</span><span id="__span-5-91"><a id="__codelineno-5-91" name="__codelineno-5-91" href="#__codelineno-5-91"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-5-92"><a id="__codelineno-5-92" name="__codelineno-5-92" href="#__codelineno-5-92"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ)</span>
</span><span id="__span-5-93"><a id="__codelineno-5-93" name="__codelineno-5-93" href="#__codelineno-5-93"></a><span class="err">    → </span><span class="p">( </span>(s <span class="p">:</span><span class="err"> ζ) → A&#39; t s [χ s ↦ σ&#39; (t , s)])</span>
</span><span id="__span-5-94"><a id="__codelineno-5-94" name="__codelineno-5-94" href="#__codelineno-5-94"></a><span class="err">      [ ϕ t ↦ </span><span class="p">\ </span>s <span class="err">→ σ&#39; (t , s)])</span>
</span><span id="__span-5-95"><a id="__codelineno-5-95" name="__codelineno-5-95" href="#__codelineno-5-95"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ)</span>
</span><span id="__span-5-96"><a id="__codelineno-5-96" name="__codelineno-5-96" href="#__codelineno-5-96"></a><span class="err">    → </span><span class="p">( </span>(s <span class="p">:</span><span class="err"> ζ) → A t s [χ s ↦ α t s (σ&#39; (t , s))])</span>
</span><span id="__span-5-97"><a id="__codelineno-5-97" name="__codelineno-5-97" href="#__codelineno-5-97"></a><span class="err">      [ ϕ t ↦ </span><span class="p">\ </span>s <span class="err">→ α t s (σ&#39; (t , s))])</span>
</span><span id="__span-5-98"><a id="__codelineno-5-98" name="__codelineno-5-98" href="#__codelineno-5-98"></a><span class="err">    ( </span><span class="p">\ </span>τ&#39; t s <span class="err">→ α t s (τ&#39; t s))</span>
</span><span id="__span-5-99"><a id="__codelineno-5-99" name="__codelineno-5-99" href="#__codelineno-5-99"></a><span class="err">    </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> ζ)</span>
</span><span id="__span-5-100"><a id="__codelineno-5-100" name="__codelineno-5-100" href="#__codelineno-5-100"></a><span class="err">    → </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A&#39; t s [ϕ t ↦ σ&#39; (t , s)])</span>
</span><span id="__span-5-101"><a id="__codelineno-5-101" name="__codelineno-5-101" href="#__codelineno-5-101"></a><span class="err">      [ χ s ↦ </span><span class="p">\ </span>t <span class="err">→ σ&#39; (t , s)])</span>
</span><span id="__span-5-102"><a id="__codelineno-5-102" name="__codelineno-5-102" href="#__codelineno-5-102"></a><span class="err">    </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> ζ)</span>
</span><span id="__span-5-103"><a id="__codelineno-5-103" name="__codelineno-5-103" href="#__codelineno-5-103"></a><span class="err">    → </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t s [ϕ t ↦ α t s( σ&#39; (t , s))])</span>
</span><span id="__span-5-104"><a id="__codelineno-5-104" name="__codelineno-5-104" href="#__codelineno-5-104"></a><span class="err">      [ χ s ↦ </span><span class="p">\ </span>t <span class="err">→ α t s (σ&#39; (t , s))])</span>
</span><span id="__span-5-105"><a id="__codelineno-5-105" name="__codelineno-5-105" href="#__codelineno-5-105"></a><span class="err">    ( </span><span class="p">\ </span>τ&#39; s t <span class="err">→ α t s (τ&#39; s t))</span>
</span><span id="__span-5-106"><a id="__codelineno-5-106" name="__codelineno-5-106" href="#__codelineno-5-106"></a><span class="err">  :=</span>
</span><span id="__span-5-107"><a id="__codelineno-5-107" name="__codelineno-5-107" href="#__codelineno-5-107"></a><span class="err">  ( ( ( </span><span class="s">first</span><span class="err"> (fubini I J ψ ϕ ζ χ A&#39; σ&#39;)</span>
</span><span id="__span-5-108"><a id="__codelineno-5-108" name="__codelineno-5-108" href="#__codelineno-5-108"></a><span class="err">      , </span><span class="s">first</span><span class="err"> (fubini I J ψ ϕ ζ χ A ( \ (t , s) → α t s (σ&#39; (t , s)))))</span>
</span><span id="__span-5-109"><a id="__codelineno-5-109" name="__codelineno-5-109" href="#__codelineno-5-109"></a><span class="err">    , ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-5-110"><a id="__codelineno-5-110" name="__codelineno-5-110" href="#__codelineno-5-110"></a><span class="err">  , ( </span><span class="s">second</span><span class="err"> (fubini I J ψ ϕ ζ χ A&#39; σ&#39;)</span>
</span><span id="__span-5-111"><a id="__codelineno-5-111" name="__codelineno-5-111" href="#__codelineno-5-111"></a><span class="err">    , </span><span class="s">second</span><span class="err"> (fubini I J ψ ϕ ζ χ A ( \ (t , s) → α t s (σ&#39; (t , s))))))</span>
</span></code></pre></div>
<h2 id="extending-into-types-the-non-axiom-of-choice">Extending into Σ-types (the non-axiom of choice)<a class="headerlink" href="#extending-into-types-the-non-axiom-of-choice" title="Permanent link">&para;</a></h2>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 4.3</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:axiom-choice" id="define:axiom-choice" style="visibility: visible; position: relative; color: inherit">axiom-choice</a></span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="err">  </span><span class="p">( </span>Y <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>x <span class="p">:</span><span class="err"> X t) → U)</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → X t)</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="err">  </span><span class="p">( </span>b <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → Y t (a t))</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="err">  : Equiv</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>Σ (x <span class="p">:</span><span class="err"> X t) , Y t x) [ϕ t ↦ (a t , b t)])</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="err">    </span><span class="p">( </span>Σ ( f <span class="p">:</span><span class="err"> </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → X t [ϕ t ↦ a t]))</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="err">      , </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → Y t (f t) [ϕ t ↦ b t]))</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="err">    :=</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="err">      ( ( </span><span class="p">\ </span>g <span class="err">→ (</span><span class="p">\ </span>t <span class="err">→ (</span><span class="s">first</span><span class="err"> (g t)) , </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">second</span><span class="err"> (g t)))</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="err">      , ( ( \ (f , h) t → (f t , h t) , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="err">        , ( \ (f , h) t → (f t , h t) , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:inv-equiv-axiom-choice" id="define:inv-equiv-axiom-choice" style="visibility: visible; position: relative; color: inherit">inv-equiv-axiom-choice</a></span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="err">  </span><span class="p">( </span>Y <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>x <span class="p">:</span><span class="err"> X t) → U)</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → X t)</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="err">  </span><span class="p">( </span>b <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → Y t (a t))</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="err">  : Equiv</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="err">    </span><span class="p">( </span>Σ ( f <span class="p">:</span><span class="err"> </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → X t [ϕ t ↦ a t]))</span>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="err">      , </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → Y t (f t) [ϕ t ↦ b t]))</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>Σ (x <span class="p">:</span><span class="err"> X t) , Y t x) [ϕ t ↦ (a t , b t)])</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="err">  :=</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="err">    inv-equiv</span>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>Σ (x <span class="p">:</span><span class="err"> X t) , Y t x) [ϕ t ↦ (a t , b t)])</span>
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="err">    </span><span class="p">( </span>Σ ( f <span class="p">:</span><span class="err"> </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → X t [ϕ t ↦ a t]))</span>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="err">      , </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → Y t (f t) [ϕ t ↦ b t]))</span>
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="err">    ( axiom-choice I ψ ϕ X Y a b)</span>
</span></code></pre></div>
<h2 id="composites-and-unions-of-cofibrations">Composites and unions of cofibrations<a class="headerlink" href="#composites-and-unions-of-cofibrations" title="Permanent link">&para;</a></h2>
<p>The original form.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 4.4</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:cofibration-composition" id="define:cofibration-composition" style="visibility: visible; position: relative; color: inherit">cofibration-composition</a></span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="err">  </span><span class="p">( </span>χ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> χ → TOPE)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> χ → U)</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → X t)</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="err">  : Equiv</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> χ) → X t [ϕ t ↦ a t])</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="err">    </span><span class="p">( </span>Σ ( f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → X t [ϕ t ↦ a t]) ,</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="err">        </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> χ) → X t [ψ t ↦ f t]))</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="err">  :=</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="err">    ( ( </span><span class="p">\ </span>h <span class="err">→ (</span><span class="p">\ </span>t <span class="err">→ h t , </span><span class="p">\ </span>t <span class="err">→ h t))</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="err">    , ( ( \ (_ , g) t → g t , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="err">      , ( ( \ (_ , g) t → g t , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))))</span>
</span></code></pre></div>
<p>A reformulated version via tope disjunction instead of inclusion (see
<a href="https://github.com/rzk-lang/rzk/issues/8">https://github.com/rzk-lang/rzk/issues/8</a>).</p>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 4.4</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:cofibration-composition&#39;" id="define:cofibration-composition&#39;" style="visibility: visible; position: relative; color: inherit">cofibration-composition&#39;</a></span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="err">  </span><span class="p">( </span>χ ψ ϕ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> χ → U)</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | χ t </span><span class="sx">∧</span><span class="err"> ψ t </span><span class="sx">∧</span><span class="err"> ϕ t) → X t)</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="err">  : Equiv</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> χ) → X t [χ t </span><span class="sx">∧</span><span class="err"> ψ t </span><span class="sx">∧</span><span class="err"> ϕ t ↦ a t])</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="err">      </span><span class="p">( </span>Σ ( f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | χ t </span><span class="sx">∧</span><span class="err"> ψ t) → X t [χ t </span><span class="sx">∧</span><span class="err"> ψ t </span><span class="sx">∧</span><span class="err"> ϕ t ↦ a t])</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="err">        , </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> χ) → X t [χ t </span><span class="sx">∧</span><span class="err"> ψ t ↦ f t]))</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="err">  :=</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="err">    ( ( </span><span class="p">\ </span>h <span class="err">→ (</span><span class="p">\ </span>t <span class="err">→ h t , </span><span class="p">\ </span>t <span class="err">→ h t))</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="err">    , ( ( \ (_ , g) t → g t , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="err">      , ( \ (_ , g) t → g t , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span></code></pre></div>
<p>Another variant is the following:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:cofibration-composition&#39;&#39;" id="define:cofibration-composition&#39;&#39;" style="visibility: visible; position: relative; color: inherit">cofibration-composition&#39;&#39;</a></span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="err">  </span><span class="p">( </span>ϕ χ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | ϕ t) → A t)</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="err">  : Equiv</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="err">    </span><span class="p">( </span>Σ ( b <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | χ t) → A t [χ t </span><span class="sx">∧</span><span class="err"> ϕ t ↦ a t])</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="err">      , </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [χ t ↦ b t , ϕ t ↦ a t])</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="err">  :=</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="err">  ( </span><span class="p">\ </span>c <span class="err">→ (</span><span class="p">\ </span>t <span class="err">→ c t , </span><span class="p">\ </span>t <span class="err">→ c t)</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="err">  , ( ( \ (_ , c) t → c t</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="err">      , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="err">    , ( \ (_ , c) t → c t</span>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="err">      , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 4.5</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:cofibration-union" id="define:cofibration-union" style="visibility: visible; position: relative; color: inherit">cofibration-union</a></span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="err">  </span><span class="p">( </span>ϕ ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="err">  </span><span class="p">( </span>X <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | ϕ t </span><span class="sx">∨</span><span class="err"> ψ t) → U)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → X t)</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="err">  : Equiv</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> I | ϕ t </span><span class="sx">∨</span><span class="err"> ψ t) → X t [ψ t ↦ a t])</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → X t [ϕ t </span><span class="sx">∧</span><span class="err"> ψ t ↦ a t])</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="err">  :=</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="err">    ( </span><span class="p">\ </span>h t <span class="err">→ h t</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="err">    , ( ( </span><span class="p">\ </span>g t <span class="err">→ </span><span class="s">recOR</span><span class="err"> (ϕ t ↦ g t , ψ t ↦ a t) , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="err">      , ( </span><span class="p">\ </span>g t <span class="err">→ </span><span class="s">recOR</span><span class="err"> (ϕ t ↦ g t , ψ t ↦ a t) , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span></code></pre></div>
<h3 id="functorial-instances_1">Functorial instances<a class="headerlink" href="#functorial-instances_1" title="Permanent link">&para;</a></h3>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:cofibration-composition-functorial" id="define:cofibration-composition-functorial" style="visibility: visible; position: relative; color: inherit">cofibration-composition-functorial</a></span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="err">  </span><span class="p">( </span>χ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> χ → TOPE)</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> χ → U)</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> χ) → A&#39; t → A t)</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="err">  </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A&#39; t)</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> χ) → A&#39; t [ϕ t ↦ σ&#39; t])</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> χ) → A t [ϕ t ↦ α t (σ&#39; t)])</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="err">    ( </span><span class="p">\ </span>τ&#39; t <span class="err">→ α t (τ&#39; t))</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="err">    </span><span class="p">( </span>Σ ( τ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A&#39; t [ϕ t ↦ σ&#39; t])</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="err">      , </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> χ) → A&#39; t [ψ t ↦ τ&#39; t]))</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="err">    </span><span class="p">( </span>Σ ( τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ α t (σ&#39; t)])</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="err">      , </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> χ) → A t [ψ t ↦ τ t]))</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="err">    ( \ (τ&#39;, υ&#39;) → ( </span><span class="p">\ </span>t <span class="err">→ α t (τ&#39; t), </span><span class="p">\</span>t <span class="err">→ α t (υ&#39; t)))</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="err">  :=</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="err">    ( ( ( </span><span class="p">\ </span>h <span class="err">→ (</span><span class="p">\ </span>t <span class="err">→ h t , </span><span class="p">\ </span>t <span class="err">→ h t) , </span><span class="p">\ </span>h <span class="err">→ (</span><span class="p">\ </span>t <span class="err">→ h t , </span><span class="p">\ </span>t <span class="err">→ h t))</span>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="err">      , ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="err">    , ( ( ( \ (_f , g) t → g t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="err">        , ( ( \ (_f , g) t → g t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="err">      , ( ( \ (_f , g) t → g t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="err">        , ( ( \ (_f , g) t → g t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">)))))</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:cofibration-composition-functorial&#39;&#39;" id="define:cofibration-composition-functorial&#39;&#39;" style="visibility: visible; position: relative; color: inherit">cofibration-composition-functorial&#39;&#39;</a></span>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-11-29"><a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="err">  </span><span class="p">( </span>ϕ χ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-11-30"><a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | ϕ t </span><span class="sx">∨</span><span class="err"> ψ t) → U)</span>
</span><span id="__span-11-31"><a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | ϕ t </span><span class="sx">∨</span><span class="err"> ψ t) → A&#39; t → A t)</span>
</span><span id="__span-11-32"><a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="err">  </span><span class="p">( </span>a&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | ϕ t) → A&#39; t)</span>
</span><span id="__span-11-33"><a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-11-34"><a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A&#39; t [ϕ t ↦ a&#39; t])</span>
</span><span id="__span-11-35"><a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ α t (a&#39; t)])</span>
</span><span id="__span-11-36"><a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="err">    ( </span><span class="p">\ </span>c t <span class="err">→ α t (c t))</span>
</span><span id="__span-11-37"><a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="err">    </span><span class="p">( </span>Σ ( b&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | χ t) → A&#39; t [χ t </span><span class="sx">∧</span><span class="err"> ϕ t ↦ a&#39; t])</span>
</span><span id="__span-11-38"><a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a><span class="err">      , </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A&#39; t [χ t ↦ b&#39; t , ϕ t ↦ a&#39; t])</span>
</span><span id="__span-11-39"><a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a><span class="err">    </span><span class="p">( </span>Σ ( b <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | χ t) → A t [χ t </span><span class="sx">∧</span><span class="err"> ϕ t ↦ α t (a&#39; t)])</span>
</span><span id="__span-11-40"><a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a><span class="err">      , </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [χ t ↦ b t , ϕ t ↦ α t (a&#39; t)])</span>
</span><span id="__span-11-41"><a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a><span class="err">    ( \ (b , c) → (</span><span class="p">\ </span>t <span class="err">→ α t (b t) , </span><span class="p">\ </span>t <span class="err">→ α t (c t)))</span>
</span><span id="__span-11-42"><a id="__codelineno-11-42" name="__codelineno-11-42" href="#__codelineno-11-42"></a><span class="err">  :=</span>
</span><span id="__span-11-43"><a id="__codelineno-11-43" name="__codelineno-11-43" href="#__codelineno-11-43"></a><span class="err">  ( ( ( </span><span class="s">first</span><span class="err"> (cofibration-composition&#39;&#39; I ψ ϕ χ A&#39; a&#39;)</span>
</span><span id="__span-11-44"><a id="__codelineno-11-44" name="__codelineno-11-44" href="#__codelineno-11-44"></a><span class="err">      , </span><span class="s">first</span><span class="err"> (cofibration-composition&#39;&#39; I ψ ϕ χ A (</span><span class="p">\ </span>t <span class="err">→ α t (a&#39; t))))</span>
</span><span id="__span-11-45"><a id="__codelineno-11-45" name="__codelineno-11-45" href="#__codelineno-11-45"></a><span class="err">    , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-11-46"><a id="__codelineno-11-46" name="__codelineno-11-46" href="#__codelineno-11-46"></a><span class="err">  , ( </span><span class="s">second</span><span class="err"> (cofibration-composition&#39;&#39; I ψ ϕ χ A&#39; a&#39;)</span>
</span><span id="__span-11-47"><a id="__codelineno-11-47" name="__codelineno-11-47" href="#__codelineno-11-47"></a><span class="err">    , </span><span class="s">second</span><span class="err"> (cofibration-composition&#39;&#39; I ψ ϕ χ A (</span><span class="p">\ </span>t <span class="err">→ α t (a&#39; t)))))</span>
</span><span id="__span-11-48"><a id="__codelineno-11-48" name="__codelineno-11-48" href="#__codelineno-11-48"></a>
</span><span id="__span-11-49"><a id="__codelineno-11-49" name="__codelineno-11-49" href="#__codelineno-11-49"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:cofibration-union-functorial" id="define:cofibration-union-functorial" style="visibility: visible; position: relative; color: inherit">cofibration-union-functorial</a></span>
</span><span id="__span-11-50"><a id="__codelineno-11-50" name="__codelineno-11-50" href="#__codelineno-11-50"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-11-51"><a id="__codelineno-11-51" name="__codelineno-11-51" href="#__codelineno-11-51"></a><span class="err">  </span><span class="p">( </span>ϕ ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-11-52"><a id="__codelineno-11-52" name="__codelineno-11-52" href="#__codelineno-11-52"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | ϕ t </span><span class="sx">∨</span><span class="err"> ψ t) → U)</span>
</span><span id="__span-11-53"><a id="__codelineno-11-53" name="__codelineno-11-53" href="#__codelineno-11-53"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> I | ϕ t </span><span class="sx">∨</span><span class="err"> ψ t) → A&#39; t → A t)</span>
</span><span id="__span-11-54"><a id="__codelineno-11-54" name="__codelineno-11-54" href="#__codelineno-11-54"></a><span class="err">  </span><span class="p">( </span>τ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A&#39; t)</span>
</span><span id="__span-11-55"><a id="__codelineno-11-55" name="__codelineno-11-55" href="#__codelineno-11-55"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-11-56"><a id="__codelineno-11-56" name="__codelineno-11-56" href="#__codelineno-11-56"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> I | ϕ t </span><span class="sx">∨</span><span class="err"> ψ t) → A&#39; t [ψ t ↦ τ&#39; t])</span>
</span><span id="__span-11-57"><a id="__codelineno-11-57" name="__codelineno-11-57" href="#__codelineno-11-57"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> I | ϕ t </span><span class="sx">∨</span><span class="err"> ψ t) → A t [ψ t ↦ α t (τ&#39; t)])</span>
</span><span id="__span-11-58"><a id="__codelineno-11-58" name="__codelineno-11-58" href="#__codelineno-11-58"></a><span class="err">      ( </span><span class="p">\ </span>υ&#39; t <span class="err">→ α t (υ&#39; t))</span>
</span><span id="__span-11-59"><a id="__codelineno-11-59" name="__codelineno-11-59" href="#__codelineno-11-59"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → A&#39; t [ϕ t </span><span class="sx">∧</span><span class="err"> ψ t ↦ τ&#39; t])</span>
</span><span id="__span-11-60"><a id="__codelineno-11-60" name="__codelineno-11-60" href="#__codelineno-11-60"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → A t [ϕ t </span><span class="sx">∧</span><span class="err"> ψ t ↦ α t (τ&#39; t)])</span>
</span><span id="__span-11-61"><a id="__codelineno-11-61" name="__codelineno-11-61" href="#__codelineno-11-61"></a><span class="err">      ( </span><span class="p">\ </span>ν&#39; t <span class="err">→ α t (ν&#39; t))</span>
</span><span id="__span-11-62"><a id="__codelineno-11-62" name="__codelineno-11-62" href="#__codelineno-11-62"></a><span class="err">  :=</span>
</span><span id="__span-11-63"><a id="__codelineno-11-63" name="__codelineno-11-63" href="#__codelineno-11-63"></a><span class="err">     ( ( ( </span><span class="p">\ </span>υ&#39; t <span class="err">→ υ&#39; t , </span><span class="p">\ </span>υ t <span class="err">→ υ t)</span>
</span><span id="__span-11-64"><a id="__codelineno-11-64" name="__codelineno-11-64" href="#__codelineno-11-64"></a><span class="err">       , ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-11-65"><a id="__codelineno-11-65" name="__codelineno-11-65" href="#__codelineno-11-65"></a><span class="err">     , ( ( </span><span class="s">second</span><span class="err"> (cofibration-union I ϕ ψ A&#39; τ&#39;))</span>
</span><span id="__span-11-66"><a id="__codelineno-11-66" name="__codelineno-11-66" href="#__codelineno-11-66"></a><span class="err">       , ( </span><span class="s">second</span><span class="err"> (cofibration-union I ϕ ψ A ( </span><span class="p">\ </span>t <span class="err">→ α t (τ&#39; t))))))</span>
</span></code></pre></div>
<h2 id="extension-extensionality">Extension extensionality<a class="headerlink" href="#extension-extensionality" title="Permanent link">&para;</a></h2>
<p>There are various equivalent forms of the relative function extensionality axiom
for extension types. One form corresponds to the standard weak function
extensionality. As suggested by footnote 8, we refer to this as a "weak
extension extensionality" axiom.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Axiom 4.6, Weak extension extensionality</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:WeakExtExt" id="define:WeakExtExt" style="visibility: visible; position: relative; color: inherit">WeakExtExt</a></span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="err">  : U</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="err">  := </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE) → </span><span class="p">(</span>ψ <span class="p">:</span><span class="err"> I → TOPE) → </span><span class="p">(</span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE) → </span><span class="p">(</span>A <span class="p">:</span><span class="err"> ψ → U) →</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="err">     </span><span class="p">( </span>is-locally-contr-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → is-contr (A t)) →</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="err">     </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t) → is-contr </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span></code></pre></div>
<p>We refer to another form as an "extension extensionality" axiom.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:ext-htpy-eq" id="define:ext-htpy-eq" style="visibility: visible; position: relative; color: inherit">ext-htpy-eq</a></span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="err">  </span><span class="p">( </span>f g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="err">  </span><span class="p">( </span>p <span class="p">:</span><span class="err"> f = g)</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="err">  : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">]</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="err">  :=</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="err">    ind-path</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="err">      ( f)</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="err">      </span><span class="p">( </span>\ g&#39; p&#39; → (t <span class="p">:</span><span class="err"> ψ) → (f t = g&#39; t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="err">      ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="err">      ( g)</span>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a><span class="err">      ( p)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 4.8(ii)</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:ExtExt" id="define:ExtExt" style="visibility: visible; position: relative; color: inherit">ExtExt</a></span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="err">  : U</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="err">  :=</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="err">    </span><span class="p">( </span>( I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="err">    → </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="err">    → </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="err">    → </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="err">    → </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="err">    → </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="err">    → </span><span class="p">( </span>g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="err">    → is-equiv</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="err">      ( f = g)</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="err">      ( ext-htpy-eq I ψ ϕ A a f g))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">The equivalence provided by extension extensionality</span><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-ExtExt" id="define:equiv-ExtExt" style="visibility: visible; position: relative; color: inherit">equiv-ExtExt</a></span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="err">  </span><span class="p">( </span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="err">  </span><span class="p">( </span>f g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="err">  : Equiv (f = g) </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="err">  := (ext-htpy-eq I ψ ϕ A a f g , extext I ψ ϕ A a f g)</span>
</span></code></pre></div>
<h3 id="naive-extension-extensionality">Naive extension extensionality<a class="headerlink" href="#naive-extension-extensionality" title="Permanent link">&para;</a></h3>
<p>For readability of code, it is useful to the function that supplies an equality
between terms of an extension type from a pointwise equality extending refl. In
fact, sometimes only this weaker form of the axiom is needed.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:NaiveExtExt" id="define:NaiveExtExt" style="visibility: visible; position: relative; color: inherit">NaiveExtExt</a></span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="err">  : U</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="err">  :=</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="err">  </span><span class="p">( </span>( I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="err">  → </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="err">  → </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="err">  → </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="err">  → </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="err">  → </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="err">  → </span><span class="p">( </span>g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="err">  → </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="err">  → ( f = g))</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:naiveextext-extext" id="define:naiveextext-extext" style="visibility: visible; position: relative; color: inherit">naiveextext-extext</a></span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="err">  </span><span class="p">( </span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="err">  : NaiveExtExt</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="err">  := </span><span class="p">\ </span>I ψ ϕ A a f g <span class="err">→ ( </span><span class="s">first</span><span class="err"> (</span><span class="s">first</span><span class="err"> (extext I ψ ϕ A a f g)))</span>
</span></code></pre></div>
<p>We show that naive extension extensionality implies weak extension
extensionality. On the way, we obtain another useful version of extension
extensionality, stating that all extension types in a proposition are
propositions.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nd">#section</span><span class="n"> weakextext-naiveextext</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kr">#variable</span><span class="p"> </span>naiveextext<span class="err"> : NaiveExtExt</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-prop-shape-type-is-locally-prop" id="define:is-prop-shape-type-is-locally-prop" style="visibility: visible; position: relative; color: inherit">is-prop-shape-type-is-locally-prop</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>naiveextext<span class="p">)</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ϕ → U)</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="err">  </span><span class="p">( </span>is-locally-prop-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → is-prop (A t))</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="err">  : is-prop </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="err">  :=</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="err">    is-prop-all-elements-equal </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="err">    ( </span><span class="p">\ </span>a a&#39; <span class="err">→</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="err">      naiveextext I (</span><span class="p">\ </span>t <span class="err">→ ϕ t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">⊥</span><span class="err">) (</span><span class="p">\ </span>t <span class="err">→ A t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">) a a&#39;</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">first</span><span class="err"> ( is-locally-prop-A t (a t) (a&#39; t))))</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-prop-extension-type-is-locally-prop" id="define:is-prop-extension-type-is-locally-prop" style="visibility: visible; position: relative; color: inherit">is-prop-extension-type-is-locally-prop</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>naiveextext<span class="p">)</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="err">  </span><span class="p">( </span>is-locally-prop-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → is-prop (A t))</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="err">  : </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t) → is-prop </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="err">  :=</span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="err">    is-fiberwise-prop-is-prop-total-type-is-prop-base</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a><span class="err">    ( is-prop-shape-type-is-locally-prop I (</span><span class="p">\ </span>t <span class="err">→ ϕ t) (</span><span class="p">\ </span>t <span class="err">→ A t)</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ is-locally-prop-A t))</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="err">    </span><span class="p">( </span>\ a → (t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="err">    </span><span class="p">( </span>is-prop-Equiv-is-prop&#39;
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a>      ( ( t <span class="p">:</span><span class="err"> ψ) → A t)</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="err">      </span><span class="p">( </span>Σ (a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t), </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a><span class="err">      ( cofibration-composition I ψ ϕ (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">) (</span><span class="p">\ </span>t <span class="err">→ A t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">))</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a><span class="err">      ( is-prop-shape-type-is-locally-prop I ψ A is-locally-prop-A))</span>
</span></code></pre></div>
<p>Still using <code>naiveextext</code>, in a fiberwise contractible family, every extension
type is always inhabited.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-inhabited-extension-type-is-locally-contr" id="define:is-inhabited-extension-type-is-locally-contr" style="visibility: visible; position: relative; color: inherit">is-inhabited-extension-type-is-locally-contr</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>naiveextext<span class="p">)</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="err">  </span><span class="p">( </span>is-locally-contr-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → is-contr (A t))</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="err">  : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t]</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="err">  :=</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="err">    extension-strictification I ψ ϕ A a</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="err">    </span><span class="p">( </span>\ (t <span class="p">:</span><span class="err"> ψ) → </span><span class="s">first</span><span class="err"> (is-locally-contr-A t)</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="err">    , naiveextext I (</span><span class="p">\ </span>t <span class="err">→ ϕ t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">) (</span><span class="p">\ </span>t <span class="err">→ A t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">)</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="err">      </span><span class="p">( </span>\ ( t <span class="p">:</span><span class="err"> ϕ) → </span><span class="s">first</span><span class="err"> (is-locally-contr-A t) )</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="err">      </span><span class="p">( </span>\ ( t <span class="p">:</span><span class="err"> ϕ) → a t)</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="err">      </span><span class="p">( </span>\ ( t <span class="p">:</span><span class="err"> ϕ) → </span><span class="s">second</span><span class="err"> (is-locally-contr-A t) (a t)))</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="nd">#end</span><span class="n"> weakextext-naiveextext</span>
</span></code></pre></div>
<p>We conclude that naive extension extensionality implies weak extension
extensionality.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:weakextext-naiveextext" id="define:weakextext-naiveextext" style="visibility: visible; position: relative; color: inherit">weakextext-naiveextext</a></span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="err">  : NaiveExtExt → WeakExtExt</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="err">  :=</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="err">    </span><span class="p">\ </span>naiveextext I ψ ϕ A is-locally-contr-A a <span class="err">→</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="err">    </span><span class="p">( </span>is-contr-is-inhabited-is-prop
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>      ( (t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="err">      ( is-prop-extension-type-is-locally-prop naiveextext</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="err">        ( I) ( ψ) ( ϕ) (A)</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ is-prop-is-contr (A t) ( is-locally-contr-A t))</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="err">        ( a))</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="err">      ( is-inhabited-extension-type-is-locally-contr naiveextext I ψ ϕ A</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="err">        ( is-locally-contr-A) ( a)))</span>
</span></code></pre></div>
<p>For convenience we also provide the composite implication from extension
extensionality to weak extension extensionality:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:weakextext-extext" id="define:weakextext-extext" style="visibility: visible; position: relative; color: inherit">weakextext-extext</a></span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="err">  : ExtExt → WeakExtExt</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="err">  :=</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="err">    comp ExtExt NaiveExtExt WeakExtExt</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="err">    ( weakextext-naiveextext) (naiveextext-extext)</span>
</span></code></pre></div>
<h3 id="weak-extension-extensionality-implies-extension-extensionality">Weak extension extensionality implies extension extensionality<a class="headerlink" href="#weak-extension-extensionality-implies-extension-extensionality" title="Permanent link">&para;</a></h3>
<p>Weak extension extensionality implies extension extensionality; this is the
context of RS17 Proposition 4.8 (i). We prove this in a series of lemmas. The
<code>ext-projection-temp</code> function is a (hopefully temporary) helper that explicitly
cases an extension type to a function type.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="nd">#section</span><span class="n"> rs-4-8</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="kr">#variable</span><span class="p">  </span>weakextext<span class="err"> : WeakExtExt</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="kr">#variable</span><span class="p">  </span>I<span class="err"> : CUBE</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="kr">#variable</span><span class="p">  </span>ψ<span class="err"> : I → TOPE</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="kr">#variable</span><span class="p">  </span>ϕ<span class="err"> : ψ → TOPE</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="kr">#variable</span><span class="p">  </span>A<span class="err"> : ψ → U</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="kr">#variable</span><span class="p">  </span>a<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="kr">#variable</span><span class="p">  </span>f<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t]</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:ext-projection-temp" id="define:ext-projection-temp" style="visibility: visible; position: relative; color: inherit">ext-projection-temp</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>I ψ ϕ A a f<span class="p">)</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="err">  : </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ ) → A t)</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="err">  := f</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:is-contr-ext-based-paths" id="define:is-contr-ext-based-paths" style="visibility: visible; position: relative; color: inherit">is-contr-ext-based-paths</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>weakextext f<span class="p">)</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="err">  : is-contr</span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ )</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="err">    → </span><span class="p">( </span>Σ (y <span class="p">:</span><span class="err"> A t) , ((ext-projection-temp) t = y))</span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="err">      [ ϕ t ↦ (a t , </span><span class="s">refl</span><span class="err">)])</span>
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a><span class="err">  :=</span>
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="err">    weakextext I ψ ϕ</span>
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a><span class="err">    </span><span class="p">( </span>\ t → (Σ (y <span class="p">:</span><span class="err"> A t) , ((ext-projection-temp) t = y)))</span>
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ is-contr-based-paths (A t ) ((ext-projection-temp) t))</span>
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ (a t , </span><span class="s">refl</span><span class="err">) )</span>
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a>
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:is-contr-ext-endpoint-based-paths" id="define:is-contr-ext-endpoint-based-paths" style="visibility: visible; position: relative; color: inherit">is-contr-ext-endpoint-based-paths</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>weakextext f<span class="p">)</span>
</span><span id="__span-21-27"><a id="__codelineno-21-27" name="__codelineno-21-27" href="#__codelineno-21-27"></a><span class="err">  : is-contr</span>
</span><span id="__span-21-28"><a id="__codelineno-21-28" name="__codelineno-21-28" href="#__codelineno-21-28"></a><span class="err">    </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ)</span>
</span><span id="__span-21-29"><a id="__codelineno-21-29" name="__codelineno-21-29" href="#__codelineno-21-29"></a><span class="err">    → </span><span class="p">( </span>Σ (y <span class="p">:</span><span class="err"> A t) , (y = ext-projection-temp t))</span>
</span><span id="__span-21-30"><a id="__codelineno-21-30" name="__codelineno-21-30" href="#__codelineno-21-30"></a><span class="err">      [ ϕ t ↦ (a t , </span><span class="s">refl</span><span class="err">)])</span>
</span><span id="__span-21-31"><a id="__codelineno-21-31" name="__codelineno-21-31" href="#__codelineno-21-31"></a><span class="err">  :=</span>
</span><span id="__span-21-32"><a id="__codelineno-21-32" name="__codelineno-21-32" href="#__codelineno-21-32"></a><span class="err">    weakextext I ψ ϕ</span>
</span><span id="__span-21-33"><a id="__codelineno-21-33" name="__codelineno-21-33" href="#__codelineno-21-33"></a><span class="err">    </span><span class="p">( </span>\ t → (Σ (y <span class="p">:</span><span class="err"> A t) , y = ext-projection-temp t))</span>
</span><span id="__span-21-34"><a id="__codelineno-21-34" name="__codelineno-21-34" href="#__codelineno-21-34"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ is-contr-endpoint-based-paths (A t) (ext-projection-temp t))</span>
</span><span id="__span-21-35"><a id="__codelineno-21-35" name="__codelineno-21-35" href="#__codelineno-21-35"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ (a t , </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-21-36"><a id="__codelineno-21-36" name="__codelineno-21-36" href="#__codelineno-21-36"></a>
</span><span id="__span-21-37"><a id="__codelineno-21-37" name="__codelineno-21-37" href="#__codelineno-21-37"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:is-contr-based-paths-ext" id="define:is-contr-based-paths-ext" style="visibility: visible; position: relative; color: inherit">is-contr-based-paths-ext</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>weakextext<span class="p">)</span>
</span><span id="__span-21-38"><a id="__codelineno-21-38" name="__codelineno-21-38" href="#__codelineno-21-38"></a><span class="err">  : is-contr</span>
</span><span id="__span-21-39"><a id="__codelineno-21-39" name="__codelineno-21-39" href="#__codelineno-21-39"></a><span class="err">    </span><span class="p">( </span>Σ ( g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-21-40"><a id="__codelineno-21-40" name="__codelineno-21-40" href="#__codelineno-21-40"></a><span class="err">      , </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">]))</span>
</span><span id="__span-21-41"><a id="__codelineno-21-41" name="__codelineno-21-41" href="#__codelineno-21-41"></a><span class="err">  :=</span>
</span><span id="__span-21-42"><a id="__codelineno-21-42" name="__codelineno-21-42" href="#__codelineno-21-42"></a><span class="err">    is-contr-equiv-is-contr</span>
</span><span id="__span-21-43"><a id="__codelineno-21-43" name="__codelineno-21-43" href="#__codelineno-21-43"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ ) → </span><span class="p">(</span>Σ (y <span class="p">:</span><span class="err"> A t),</span>
</span><span id="__span-21-44"><a id="__codelineno-21-44" name="__codelineno-21-44" href="#__codelineno-21-44"></a><span class="err">                     ((ext-projection-temp ) t = y)) [ϕ t ↦ (a t , </span><span class="s">refl</span><span class="err">)] )</span>
</span><span id="__span-21-45"><a id="__codelineno-21-45" name="__codelineno-21-45" href="#__codelineno-21-45"></a><span class="err">    </span><span class="p">( </span>Σ (g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t]) ,</span>
</span><span id="__span-21-46"><a id="__codelineno-21-46" name="__codelineno-21-46" href="#__codelineno-21-46"></a><span class="err">                </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">] )</span>
</span><span id="__span-21-47"><a id="__codelineno-21-47" name="__codelineno-21-47" href="#__codelineno-21-47"></a><span class="err">    ( axiom-choice I ψ ϕ A</span>
</span><span id="__span-21-48"><a id="__codelineno-21-48" name="__codelineno-21-48" href="#__codelineno-21-48"></a><span class="err">      ( </span><span class="p">\ </span>t y <span class="err">→ (ext-projection-temp) t = y)</span>
</span><span id="__span-21-49"><a id="__codelineno-21-49" name="__codelineno-21-49" href="#__codelineno-21-49"></a><span class="err">      ( a )</span>
</span><span id="__span-21-50"><a id="__codelineno-21-50" name="__codelineno-21-50" href="#__codelineno-21-50"></a><span class="err">      ( </span><span class="p">\</span>t <span class="err">→ </span><span class="s">refl</span><span class="err"> ))</span>
</span><span id="__span-21-51"><a id="__codelineno-21-51" name="__codelineno-21-51" href="#__codelineno-21-51"></a><span class="err">    ( is-contr-ext-based-paths)</span>
</span><span id="__span-21-52"><a id="__codelineno-21-52" name="__codelineno-21-52" href="#__codelineno-21-52"></a>
</span><span id="__span-21-53"><a id="__codelineno-21-53" name="__codelineno-21-53" href="#__codelineno-21-53"></a><span class="nd">#end</span><span class="n"> rs-4-8</span>
</span></code></pre></div>
<p>The map that defines extension extensionality</p>
<div class="language-rzk highlight"><span class="filename">RS17 4.7</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:extext-weakextext-map" id="define:extext-weakextext-map" style="visibility: visible; position: relative; color: inherit">extext-weakextext-map</a></span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t)</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="err">  : </span><span class="p">( </span>( Σ ( g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t]), (f = g))</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="err">    → </span><span class="p">( </span>Σ ( g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="err">      , </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])))</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="err">  :=</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="err">    total-map</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="err">    ( </span><span class="p">\ </span>g <span class="err">→ (f = g))</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="err">    </span><span class="p">( </span>\ g → (t <span class="p">:</span><span class="err"> ψ ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="err">    ( ext-htpy-eq I ψ ϕ A a f)</span>
</span></code></pre></div>
<p>The total bundle version of extension extensionality</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:extext-weakextext-bundle-version" id="define:extext-weakextext-bundle-version" style="visibility: visible; position: relative; color: inherit">extext-weakextext-bundle-version</a></span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="err">  </span><span class="p">( </span>weakextext <span class="p">:</span><span class="err"> WeakExtExt)</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t)</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="err">  : is-equiv</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="err">    </span><span class="p">( </span>( Σ ( g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t]), (f = g)))</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="err">    </span><span class="p">( </span>Σ ( g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="err">      , </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">]))</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="err">    ( extext-weakextext-map I ψ ϕ A a f)</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="err">  :=</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="err">    is-equiv-are-contr</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="err">    </span><span class="p">( </span>Σ ( g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t]), (f = g))</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="err">    </span><span class="p">( </span>Σ ( g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a><span class="err">    , </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">]))</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="err">    </span><span class="p">( </span>is-contr-based-paths ((t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t]) (f))</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="err">    ( is-contr-based-paths-ext weakextext I ψ ϕ A a f)</span>
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="err">    ( extext-weakextext-map I ψ ϕ A a f)</span>
</span></code></pre></div>
<p>Finally, using equivalences between families of equivalences and bundles of
equivalences we have that weak extension extensionality implies extension
extensionality. The following is statement the as proved in RS17.</p>
<div class="language-rzk highlight"><span class="filename">RS17 Prop 4.8(i) as proved</span><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:extext-weakextext&#39;" id="define:extext-weakextext&#39;" style="visibility: visible; position: relative; color: inherit">extext-weakextext&#39;</a></span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="err">  </span><span class="p">( </span>weakextext <span class="p">:</span><span class="err"> WeakExtExt)</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t)</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="err">  : </span><span class="p">( </span>( g <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="err">    → is-equiv</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="err">        ( f = g)</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="err">        </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="err">        ( ext-htpy-eq I ψ ϕ A a f g))</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="err">  := is-equiv-fiberwise-is-equiv-total</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t] )</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="err">      ( </span><span class="p">\ </span>g <span class="err">→ (f = g) )</span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="err">      </span><span class="p">( </span>\ g → (t <span class="p">:</span><span class="err"> ψ ) → (f t = g t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="err">      ( ext-htpy-eq I ψ ϕ A a f)</span>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="err">      ( extext-weakextext-bundle-version weakextext I ψ ϕ A a f)</span>
</span></code></pre></div>
<p>The following is the literal statement of weak extension extensionality implying
extension extensionality that we get by extracting the fiberwise equivalence.</p>
<div class="language-rzk highlight"><span class="filename">RS17 Proposition 4.8(i)</span><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:extext-weakextext" id="define:extext-weakextext" style="visibility: visible; position: relative; color: inherit">extext-weakextext</a></span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="err">  : WeakExtExt → ExtExt</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="err">  := extext-weakextext&#39;</span>
</span></code></pre></div>
<h2 id="homotopy-extension-property">Homotopy extension property<a class="headerlink" href="#homotopy-extension-property" title="Permanent link">&para;</a></h2>
<p>The homotopy extension property has the following signature. We state this
separately since below we will will show that this follows from extension
extensionality.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:instance-HtpyExtProperty" id="define:instance-HtpyExtProperty" style="visibility: visible; position: relative; color: inherit">instance-HtpyExtProperty</a></span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="err">  </span><span class="p">( </span>b <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t)</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="err">  </span><span class="p">( </span>e <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → a t = b t)</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="err">  : U</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="err">  :=</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="err">    </span><span class="kt">Σ</span><span class="err"> </span><span class="p">(</span>a&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="err">    , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → (a&#39; t =_{ A t} b t) [ϕ t ↦ e t])</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:HtpyExtProperty" id="define:HtpyExtProperty" style="visibility: visible; position: relative; color: inherit">HtpyExtProperty</a></span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="err">  : U</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="err">  :=</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="err">    </span><span class="p">( </span>( I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="err">    → </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a><span class="err">    → </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="err">    → </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-26-21"><a id="__codelineno-26-21" name="__codelineno-26-21" href="#__codelineno-26-21"></a><span class="err">    → </span><span class="p">( </span>b <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t)</span>
</span><span id="__span-26-22"><a id="__codelineno-26-22" name="__codelineno-26-22" href="#__codelineno-26-22"></a><span class="err">    → </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-26-23"><a id="__codelineno-26-23" name="__codelineno-26-23" href="#__codelineno-26-23"></a><span class="err">    → </span><span class="p">( </span>e <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → a t = b t)</span>
</span><span id="__span-26-24"><a id="__codelineno-26-24" name="__codelineno-26-24" href="#__codelineno-26-24"></a><span class="err">    → ( instance-HtpyExtProperty I ψ ϕ A b a e))</span>
</span></code></pre></div>
<p>If we assume weak extension extensionality, then then homotopy extension
property follows from a straightforward application of the axiom of choice to
the point of contraction for weak extension extensionality.</p>
<div class="language-rzk highlight"><span class="filename">RS17 Proposition 4.10</span><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:htpy-ext-prop-weakextext" id="define:htpy-ext-prop-weakextext" style="visibility: visible; position: relative; color: inherit">htpy-ext-prop-weakextext</a></span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="err">  </span><span class="p">( </span>weakextext <span class="p">:</span><span class="err"> WeakExtExt)</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="err">  : HtpyExtProperty</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="err">  :=</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="err">  </span><span class="p">\ </span>I ψ ϕ A b a e <span class="err">→</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="err">    </span><span class="s">first</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="err">    ( axiom-choice I ψ ϕ A</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="err">      ( </span><span class="p">\ </span>t y <span class="err">→ y = b t)</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="err">      ( a)</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="err">      ( e))</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="err">    </span><span class="p">( </span>first
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a>      ( weakextext I ψ ϕ
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>        ( \ t → (Σ (y <span class="p">:</span><span class="err"> A t) , y = b t))</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ is-contr-endpoint-based-paths ( A t) ( b t))</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ ( a t , e t) )))</span>
</span></code></pre></div>
<p>For completeness, we give a short direct proof that extension extensionality
also implies the homotopy extension property without passing through weak
extension extensionality.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:htpy-ext-prop-extext" id="define:htpy-ext-prop-extext" style="visibility: visible; position: relative; color: inherit">htpy-ext-prop-extext</a></span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="err">  </span><span class="p">( </span>extext <span class="p">:</span><span class="err"> ExtExt)</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="err">  : HtpyExtProperty</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="err">  :=</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="err">  </span><span class="p">\ </span>I ψ ϕ A b a <span class="err">→</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="err">  ind-has-section-equiv </span><span class="p">(</span>a = (\ (t <span class="p">:</span><span class="err"> ϕ) → b t)) </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ϕ) → a t = b t)</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="err">  ( equiv-ExtExt extext I (</span><span class="p">\ </span>t <span class="err">→ ϕ t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">) (</span><span class="p">\ </span>t <span class="err">→ A t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">)</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="err">    ( a) </span><span class="p">(</span>\ (t <span class="p">:</span><span class="err"> ϕ) → b t))</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="err">  ( instance-HtpyExtProperty I ψ ϕ A b a)</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="err">  </span><span class="p">( </span>\ e&#39; →
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>    ind-rev-fib
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>    ( (t <span class="p">:</span><span class="err"> ψ) → A t) </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ϕ) → A t) (</span><span class="p">\ </span>b&#39; t <span class="err">→ b&#39; t)</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="err">    ( </span><span class="p">\ </span>a&#39; <span class="err">(b&#39;, p) →</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="err">      instance-HtpyExtProperty I ψ ϕ A b&#39; a&#39;</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="err">      ( ext-htpy-eq I (</span><span class="p">\ </span>t <span class="err">→ ϕ t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">) (</span><span class="p">\ </span>t <span class="err">→ A t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">)</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="err">        ( a&#39;) </span><span class="p">(</span>\ (t <span class="p">:</span><span class="err"> ϕ) → b&#39; t) ( p)))</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="err">    ( </span><span class="p">\ </span>b&#39; <span class="err">→ ( b&#39; , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="err">    ( a) (b , e&#39;))</span>
</span></code></pre></div>
<h3 id="homotopy-extension-property-and-naiveextext-imply-weakextext">Homotopy extension property and NaiveExtExt imply WeakExtExt<a class="headerlink" href="#homotopy-extension-property-and-naiveextext-imply-weakextext" title="Permanent link">&para;</a></h3>
<p>This section contains the original proof of RS17, Proposition 4.11 stating that
NaiveExtExt and HptyExtProperty jointly imply WeakExtExt. In light of
<code>weakextext-naiveextext</code>, this is now redundant. We keep it around since some
intermediate statements might still be useful.</p>
<p>In an extension type of a dependent type that is pointwise contractible, then we
have an inhabitant of the extension type witnessing the contraction, at every
inhabitant of the base, of each point in the fiber to the center of the fiber.
Both directions of this statement will be needed.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:eq-ext-is-contr" id="define:eq-ext-is-contr" style="visibility: visible; position: relative; color: inherit">eq-ext-is-contr</a></span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t)</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="err">  </span><span class="p">( </span>is-contr-fiberwise-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → is-contr ( A t))</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="err">  : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → ((</span><span class="s">first</span><span class="err"> (is-contr-fiberwise-A t)) = a t)</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="err">  := </span><span class="p">\ </span>t <span class="err">→ ( </span><span class="s">second</span><span class="err"> (is-contr-fiberwise-A t) (a t))</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:codomain-eq-ext-is-contr" id="define:codomain-eq-ext-is-contr" style="visibility: visible; position: relative; color: inherit">codomain-eq-ext-is-contr</a></span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t)</span>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="err">  </span><span class="p">( </span>is-contr-fiberwise-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → is-contr ( A t))</span>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="err">  : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → (a t = </span><span class="s">first</span><span class="err"> (is-contr-fiberwise-A t))</span>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="err">  :=</span>
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="err">    </span><span class="p">\ </span>t <span class="err">→</span>
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a><span class="err">      rev</span>
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a><span class="err">      ( A t )</span>
</span><span id="__span-29-23"><a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a><span class="err">      ( </span><span class="s">first</span><span class="err"> (is-contr-fiberwise-A t) )</span>
</span><span id="__span-29-24"><a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a><span class="err">      ( a t)</span>
</span><span id="__span-29-25"><a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a><span class="err">      ( </span><span class="s">second</span><span class="err"> (is-contr-fiberwise-A t) (a t))</span>
</span></code></pre></div>
<p>The below gives us the inhabitant
<span class="arithmatex">\((a', e')
: \sum_{\left\langle\prod_{t : I|\psi} A (t) \biggr|^\phi_a\right\rangle}
\left\langle \prod_{t: I |\psi} a'(t) = b(t)\biggr|^\phi_e \right\rangle\)</span>
from the first part of the proof of RS Prop 4.11. It amounts to the fact that
parameterized contractibility, i.e. <code class="language-rzk highlight"><span class="err">A : ψ → U</span></code> such that each <code>A t</code> is
contractible, implies the hypotheses of the homotopy extension property are
satisfied, and so assuming homotopy extension property, we are entitled to the
conclusion.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:htpy-ext-prop-is-fiberwise-contr" id="define:htpy-ext-prop-is-fiberwise-contr" style="visibility: visible; position: relative; color: inherit">htpy-ext-prop-is-fiberwise-contr</a></span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="err">  </span><span class="p">(</span>htpy-ext-property <span class="p">:</span><span class="err"> HtpyExtProperty)</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t)</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="err">  </span><span class="p">(</span>is-contr-fiberwise-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → is-contr (A t))</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="err">  : </span><span class="kt">Σ</span><span class="err"> </span><span class="p">( </span>a&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="err">    , </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ )</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="err">      → ( ( a&#39; t) =_{ A t} </span><span class="s">first</span><span class="err"> (is-contr-fiberwise-A t))</span>
</span><span id="__span-30-12"><a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="err">        [ ϕ t ↦ codomain-eq-ext-is-contr I ψ ϕ A a is-contr-fiberwise-A t] )</span>
</span><span id="__span-30-13"><a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="err">  :=</span>
</span><span id="__span-30-14"><a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="err">    htpy-ext-property I ψ ϕ A</span>
</span><span id="__span-30-15"><a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a><span class="err">    (</span><span class="p">\ </span>t <span class="err">→  </span><span class="s">first</span><span class="err"> (is-contr-fiberwise-A t))</span>
</span><span id="__span-30-16"><a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="err">    ( a)</span>
</span><span id="__span-30-17"><a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a><span class="err">    ( codomain-eq-ext-is-contr I ψ ϕ A a is-contr-fiberwise-A)</span>
</span></code></pre></div>
<p>The expression below give us the inhabitant <code class="language-rzk highlight"><span class="err">c : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → f t = a&#39; t</span></code>
used in the proof of RS Proposition 4.11. It follows from a more general
statement about the contractibility of identity types, but it is unclear if that
generality is needed.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:RS-4-11-c" id="define:RS-4-11-c" style="visibility: visible; position: relative; color: inherit">RS-4-11-c</a></span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="err">  </span><span class="p">(</span>htpy-ext-prop <span class="p">:</span><span class="err"> HtpyExtProperty)</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t)</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="err">  </span><span class="p">(</span>is-contr-fiberwise-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → is-contr (A t))</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="err">  : </span><span class="p">( </span>t <span class="p">:</span><span class="err"> ψ )</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="err">  → ( f t</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="err">    = </span><span class="s">first</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="err">      ( htpy-ext-prop-is-fiberwise-contr</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="err">        htpy-ext-prop</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="err">        I ψ ϕ A a</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="err">        is-contr-fiberwise-A)</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="err">      ( t))</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="err">  :=</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="err">    </span><span class="p">\ </span>t <span class="err">→</span>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="err">    all-elements-equal-is-contr</span>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="err">    ( A t)</span>
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="err">    ( is-contr-fiberwise-A t)</span>
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="err">    ( f t )</span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="err">    ( ( </span><span class="s">first</span>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="err">        ( htpy-ext-prop-is-fiberwise-contr</span>
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="err">          htpy-ext-prop</span>
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="err">          I ψ ϕ A a</span>
</span><span id="__span-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="err">          is-contr-fiberwise-A))</span>
</span><span id="__span-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="err">      ( t))</span>
</span></code></pre></div>
<p>And below proves that <code class="language-rzk highlight"><span class="err">c(t) = </span><span class="s">refl</span></code>. Again, this is a consequence of a
slightly more general statement.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:RS-4-11-c-is-refl" id="define:RS-4-11-c-is-refl" style="visibility: visible; position: relative; color: inherit">RS-4-11-c-is-refl</a></span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="err">  </span><span class="p">( </span>is-fiberwise-contr <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → is-contr (A t))</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → A t)</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="err">  </span><span class="p">( </span>a&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="err">  </span><span class="p">( </span>c <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → (f t = a&#39; t))</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="err">  : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ ) → (</span><span class="s">refl</span><span class="err"> =_{f t = a&#39; t} c t)</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="err">  :=  </span><span class="p">\ </span>t <span class="err">→</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="err">    all-paths-equal-is-contr</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="err">    (A t) ( is-fiberwise-contr t)</span>
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="err">    ( f t) ( a&#39; t) ( </span><span class="s">refl</span><span class="err"> ) ( c t )</span>
</span></code></pre></div>
<p>Given the <code class="language-rzk highlight"><span class="err">a&#39;</span></code> produced above, the following gives an inhabitant of
<span class="arithmatex">\(\left \langle_{t : I |\psi}
f(t) = a'(t) \biggr|^\phi_{\lambda t.refl} \right\rangle\)</span></p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:is-fiberwise-contr-ext-is-fiberwise-contr" id="define:is-fiberwise-contr-ext-is-fiberwise-contr" style="visibility: visible; position: relative; color: inherit">is-fiberwise-contr-ext-is-fiberwise-contr</a></span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="err">  </span><span class="p">(</span>htpy-ext-prop <span class="p">:</span><span class="err"> HtpyExtProperty)</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="err">  </span><span class="p">( </span>is-contr-fiberwise-A <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → is-contr (A t))</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="err">  : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ ) →</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="err">      (f t = (</span><span class="s">first</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="err">              (htpy-ext-prop-is-fiberwise-contr</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="err">                htpy-ext-prop I ψ ϕ A a is-contr-fiberwise-A)) t)[ϕ t ↦ </span><span class="s">refl</span><span class="err">]</span>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="err">  :=</span>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="err">  </span><span class="s">first</span><span class="err">(</span>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="err">    htpy-ext-prop I ψ ϕ</span>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→</span>
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="err">      ( ( f t)</span>
</span><span id="__span-33-19"><a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="err">      = </span><span class="s">first</span>
</span><span id="__span-33-20"><a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="err">        ( htpy-ext-prop-is-fiberwise-contr</span>
</span><span id="__span-33-21"><a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="err">          htpy-ext-prop</span>
</span><span id="__span-33-22"><a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="err">          I ψ ϕ A a</span>
</span><span id="__span-33-23"><a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="err">          is-contr-fiberwise-A)</span>
</span><span id="__span-33-24"><a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="err">        ( t)))</span>
</span><span id="__span-33-25"><a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="err">    ( RS-4-11-c</span>
</span><span id="__span-33-26"><a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a><span class="err">      htpy-ext-prop I ψ ϕ A a f is-contr-fiberwise-A)</span>
</span><span id="__span-33-27"><a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">refl</span><span class="err"> )</span>
</span><span id="__span-33-28"><a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a><span class="err">    ( RS-4-11-c-is-refl I ψ ϕ A</span>
</span><span id="__span-33-29"><a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a><span class="err">      ( is-contr-fiberwise-A)</span>
</span><span id="__span-33-30"><a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a><span class="err">      ( a )</span>
</span><span id="__span-33-31"><a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a><span class="err">      ( f )</span>
</span><span id="__span-33-32"><a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a><span class="err">      ( </span><span class="s">first</span>
</span><span id="__span-33-33"><a id="__codelineno-33-33" name="__codelineno-33-33" href="#__codelineno-33-33"></a><span class="err">        ( htpy-ext-prop-is-fiberwise-contr</span>
</span><span id="__span-33-34"><a id="__codelineno-33-34" name="__codelineno-33-34" href="#__codelineno-33-34"></a><span class="err">          htpy-ext-prop</span>
</span><span id="__span-33-35"><a id="__codelineno-33-35" name="__codelineno-33-35" href="#__codelineno-33-35"></a><span class="err">          I ψ ϕ A a</span>
</span><span id="__span-33-36"><a id="__codelineno-33-36" name="__codelineno-33-36" href="#__codelineno-33-36"></a><span class="err">          is-contr-fiberwise-A))</span>
</span><span id="__span-33-37"><a id="__codelineno-33-37" name="__codelineno-33-37" href="#__codelineno-33-37"></a><span class="err">      ( RS-4-11-c</span>
</span><span id="__span-33-38"><a id="__codelineno-33-38" name="__codelineno-33-38" href="#__codelineno-33-38"></a><span class="err">        ( htpy-ext-prop)</span>
</span><span id="__span-33-39"><a id="__codelineno-33-39" name="__codelineno-33-39" href="#__codelineno-33-39"></a><span class="err">        ( I) ( ψ) ( ϕ) ( A) ( a) ( f)</span>
</span><span id="__span-33-40"><a id="__codelineno-33-40" name="__codelineno-33-40" href="#__codelineno-33-40"></a><span class="err">        ( is-contr-fiberwise-A ))))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 4.11</span><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="kr">#define</span><span class="p"> </span><span class="nf"><a href="#define:weak-extext-naiveextext-htpy-ext-property" id="define:weak-extext-naiveextext-htpy-ext-property" style="visibility: visible; position: relative; color: inherit">weak-extext-naiveextext-htpy-ext-property</a></span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="err"> </span><span class="p">( </span>naiveextext <span class="p">:</span><span class="err"> NaiveExtExt)</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="err"> </span><span class="p">( </span>htpy-ext-prop <span class="p">:</span><span class="err"> HtpyExtProperty)</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="err"> : WeakExtExt</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="err">  := </span><span class="p">\ </span>I ψ ϕ A is-contr-fiberwise-A a <span class="err">→</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="err">    (</span><span class="s">first</span><span class="err"> (htpy-ext-prop-is-fiberwise-contr htpy-ext-prop I ψ ϕ A a is-contr-fiberwise-A),</span>
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="err">     </span><span class="p">\ </span>f <span class="err">→</span>
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="err">      rev</span>
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-34-10"><a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="err">      ( f )</span>
</span><span id="__span-34-11"><a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="err">      ( </span><span class="s">first</span><span class="err"> (htpy-ext-prop-is-fiberwise-contr</span>
</span><span id="__span-34-12"><a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="err">                htpy-ext-prop I ψ ϕ A a is-contr-fiberwise-A))</span>
</span><span id="__span-34-13"><a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="err">      ( naiveextext I ψ ϕ A a f</span>
</span><span id="__span-34-14"><a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="err">      ( </span><span class="s">first</span><span class="err"> (htpy-ext-prop-is-fiberwise-contr</span>
</span><span id="__span-34-15"><a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a><span class="err">                htpy-ext-prop I ψ ϕ A a is-contr-fiberwise-A))</span>
</span><span id="__span-34-16"><a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="err">      ( is-fiberwise-contr-ext-is-fiberwise-contr</span>
</span><span id="__span-34-17"><a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="err">        ( htpy-ext-prop)</span>
</span><span id="__span-34-18"><a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="err">        ( I) ( ψ ) ( ϕ ) ( A)</span>
</span><span id="__span-34-19"><a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="err">        ( is-contr-fiberwise-A)</span>
</span><span id="__span-34-20"><a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="err">        ( a)</span>
</span><span id="__span-34-21"><a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="err">        ( f))))</span>
</span></code></pre></div>
<h2 id="applications-of-extension-extensionality">Applications of extension extensionality<a class="headerlink" href="#applications-of-extension-extensionality" title="Permanent link">&para;</a></h2>
<p>We now assume extension extensionality and derive a few consequences.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kr">#assume</span><span class="p"> </span>extext<span class="err"> : ExtExt</span>
</span></code></pre></div>
<h3 id="pointwise-homotopy-extension-types">Pointwise homotopy extension types<a class="headerlink" href="#pointwise-homotopy-extension-types" title="Permanent link">&para;</a></h3>
<p>Using <code>ExtExt</code> we can write the homotopy in the homotopy extension type
pointwise.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nd">#section</span><span class="n"> pointwise-homotopy-extension-type</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="kr">#variable</span><span class="p"> </span>I<span class="err"> : CUBE</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="kr">#variable</span><span class="p"> </span>ψ<span class="err"> : I → TOPE</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="kr">#variable</span><span class="p"> </span>ϕ<span class="err"> : ψ → TOPE</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="kr">#variable</span><span class="p"> </span>A<span class="err"> : ψ → U</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:pointwise-homotopy-extension-type" id="define:pointwise-homotopy-extension-type" style="visibility: visible; position: relative; color: inherit">pointwise-homotopy-extension-type</a></span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="err">  : U</span>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="err">  :=</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="err">    </span><span class="kt">Σ</span><span class="err"> </span><span class="p">( </span>τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t)</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="err">    , </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → (τ t =_{ A t} σ t))</span>
</span><span id="__span-36-14"><a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>
</span><span id="__span-36-15"><a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-pointwise-homotopy-extension-type" id="define:equiv-pointwise-homotopy-extension-type" style="visibility: visible; position: relative; color: inherit">equiv-pointwise-homotopy-extension-type</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-36-16"><a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-36-17"><a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-18"><a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="err">    ( homotopy-extension-type I ψ ϕ A σ)</span>
</span><span id="__span-36-19"><a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="err">    ( pointwise-homotopy-extension-type σ)</span>
</span><span id="__span-36-20"><a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a><span class="err">  :=</span>
</span><span id="__span-36-21"><a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a><span class="err">    total-equiv-family-of-equiv</span>
</span><span id="__span-36-22"><a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t)</span>
</span><span id="__span-36-23"><a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a><span class="err">    ( </span><span class="p">\ </span>τ <span class="err">→ (</span><span class="p">\ </span>t <span class="err">→ τ t) =_{ </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t} σ)</span>
</span><span id="__span-36-24"><a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a><span class="err">    </span><span class="p">( </span>\ τ → (t <span class="p">:</span><span class="err"> ϕ) → (τ t = σ t))</span>
</span><span id="__span-36-25"><a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="err">    ( </span><span class="p">\ </span>τ <span class="err">→</span>
</span><span id="__span-36-26"><a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a><span class="err">      equiv-ExtExt extext</span>
</span><span id="__span-36-27"><a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a><span class="err">      ( I) (</span><span class="p">\ </span>t <span class="err">→ ϕ t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">) (</span><span class="p">\ </span>t <span class="err">→ A t)</span>
</span><span id="__span-36-28"><a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a><span class="err">      ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">) (</span><span class="p">\ </span>t <span class="err">→ τ t) σ)</span>
</span><span id="__span-36-29"><a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a>
</span><span id="__span-36-30"><a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:extension-type-pointwise-weakening" id="define:extension-type-pointwise-weakening" style="visibility: visible; position: relative; color: inherit">extension-type-pointwise-weakening</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-36-31"><a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a><span class="err">  </span><span class="p">( </span>σ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-36-32"><a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-33"><a id="__codelineno-36-33" name="__codelineno-36-33" href="#__codelineno-36-33"></a><span class="err">    ( extension-type I ψ ϕ A σ)</span>
</span><span id="__span-36-34"><a id="__codelineno-36-34" name="__codelineno-36-34" href="#__codelineno-36-34"></a><span class="err">    ( pointwise-homotopy-extension-type σ)</span>
</span><span id="__span-36-35"><a id="__codelineno-36-35" name="__codelineno-36-35" href="#__codelineno-36-35"></a><span class="err">  := equiv-comp</span>
</span><span id="__span-36-36"><a id="__codelineno-36-36" name="__codelineno-36-36" href="#__codelineno-36-36"></a><span class="err">    ( extension-type I ψ ϕ A σ)</span>
</span><span id="__span-36-37"><a id="__codelineno-36-37" name="__codelineno-36-37" href="#__codelineno-36-37"></a><span class="err">    ( homotopy-extension-type I ψ ϕ A σ)</span>
</span><span id="__span-36-38"><a id="__codelineno-36-38" name="__codelineno-36-38" href="#__codelineno-36-38"></a><span class="err">    ( pointwise-homotopy-extension-type σ)</span>
</span><span id="__span-36-39"><a id="__codelineno-36-39" name="__codelineno-36-39" href="#__codelineno-36-39"></a><span class="err">    ( extension-type-weakening I ψ ϕ A σ)</span>
</span><span id="__span-36-40"><a id="__codelineno-36-40" name="__codelineno-36-40" href="#__codelineno-36-40"></a><span class="err">    ( equiv-pointwise-homotopy-extension-type σ)</span>
</span><span id="__span-36-41"><a id="__codelineno-36-41" name="__codelineno-36-41" href="#__codelineno-36-41"></a>
</span><span id="__span-36-42"><a id="__codelineno-36-42" name="__codelineno-36-42" href="#__codelineno-36-42"></a>
</span><span id="__span-36-43"><a id="__codelineno-36-43" name="__codelineno-36-43" href="#__codelineno-36-43"></a><span class="nd">#end</span><span class="n"> pointwise-homotopy-extension-type</span>
</span></code></pre></div>
<h2 id="relative-extension-types">Relative extension types<a class="headerlink" href="#relative-extension-types" title="Permanent link">&para;</a></h2>
<p>Given a map <code>α : A' → A</code>, there is also a notion of relative extension types.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="nd">#section</span><span class="n"> relative-extension-types</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="kr">#variable</span><span class="p"> </span>I<span class="err"> : CUBE</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="kr">#variable</span><span class="p"> </span>ψ<span class="err"> : I → TOPE</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="kr">#variable</span><span class="p"> </span>ϕ<span class="err"> : ψ → TOPE</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="kr">#variables</span><span class="p"> </span>A B<span class="err"> : ψ → U</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="kr">#variable</span><span class="p"> </span>f<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t → B t</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="kr">#variable</span><span class="p"> </span>a<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="kr">#variable</span><span class="p"> </span>τ<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ f t (a t)]</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:relative-extension-type" id="define:relative-extension-type" style="visibility: visible; position: relative; color: inherit">relative-extension-type</a></span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="err">  : U</span>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="err">  :=</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="err">    </span><span class="kt">Σ</span><span class="err"> </span><span class="p">( </span>τ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="err">    , </span><span class="p">( </span>( t <span class="p">:</span><span class="err"> ψ) → (f t (τ&#39; t) = τ t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span></code></pre></div>
<p>This is equivalently expressed as the fibers of postcomposition by <span class="arithmatex">\(f\)</span>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:postcomp-Π-ext" id="define:postcomp-Π-ext" style="visibility: visible; position: relative; color: inherit">postcomp-Π-ext</a></span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="err">  : </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t]) →</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="err">    </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ f t (a t)])</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="err">  := ( </span><span class="p">\ </span>τ&#39; t <span class="err">→ f t (τ&#39; t))</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:fiber-postcomp-Π-ext" id="define:fiber-postcomp-Π-ext" style="visibility: visible; position: relative; color: inherit">fiber-postcomp-Π-ext</a></span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="err">  : U</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="err">  :=</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="err">    fib</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ f t (a t)])</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="err">    ( postcomp-Π-ext)</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="err">    ( τ)</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-relative-extension-type-fib" id="define:equiv-relative-extension-type-fib" style="visibility: visible; position: relative; color: inherit">equiv-relative-extension-type-fib</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-38-16"><a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="err">  : Equiv</span>
</span><span id="__span-38-17"><a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="err">    ( fiber-postcomp-Π-ext)</span>
</span><span id="__span-38-18"><a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="err">    ( relative-extension-type)</span>
</span><span id="__span-38-19"><a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="err">  :=</span>
</span><span id="__span-38-20"><a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="err">    total-equiv-family-of-equiv</span>
</span><span id="__span-38-21"><a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-38-22"><a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="err">    ( </span><span class="p">\ </span>τ&#39; <span class="err">→ (</span><span class="p">\ </span>t <span class="err">→ f t (τ&#39; t)) =_{ </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ f t (a t)]} τ)</span>
</span><span id="__span-38-23"><a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="err">    </span><span class="p">( </span>\ τ&#39; → (t <span class="p">:</span><span class="err"> ψ) → (f t (τ&#39; t) = τ t) [ϕ t ↦ </span><span class="s">refl</span><span class="err">])</span>
</span><span id="__span-38-24"><a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="err">    ( </span><span class="p">\ </span>τ&#39; <span class="err">→</span>
</span><span id="__span-38-25"><a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a><span class="err">      equiv-ExtExt extext I ψ ϕ B</span>
</span><span id="__span-38-26"><a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ f t (a t))</span>
</span><span id="__span-38-27"><a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ f t (τ&#39; t)) ( τ))</span>
</span></code></pre></div>
<p>The fiber of postcomposition by a map <span class="arithmatex">\(f: \prod_{t : I|\psi} A (t) \to B (t)\)</span> is
equivalent to the family of fibers of <span class="arithmatex">\(f\_t\)</span>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:fiber-family-ext" id="define:fiber-family-ext" style="visibility: visible; position: relative; color: inherit">fiber-family-ext</a></span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="err">  : U</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="err">  := </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → fib (A t) (B t) (f t) (τ t) [ϕ t ↦ (a t, </span><span class="s">refl</span><span class="err">)]</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-fiber-postcomp-Π-ext-fiber-family-ext" id="define:equiv-fiber-postcomp-Π-ext-fiber-family-ext" style="visibility: visible; position: relative; color: inherit">equiv-fiber-postcomp-Π-ext-fiber-family-ext</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="err">  : Equiv</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="err">    ( fiber-postcomp-Π-ext)</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="err">    ( fiber-family-ext)</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="err">  :=</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="err">    equiv-comp</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="err">    ( fiber-postcomp-Π-ext)</span>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="err">    ( relative-extension-type)</span>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="err">    ( fiber-family-ext)</span>
</span><span id="__span-39-14"><a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="err">    ( equiv-relative-extension-type-fib)</span>
</span><span id="__span-39-15"><a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="err">    ( inv-equiv-axiom-choice I ψ ϕ A (</span><span class="p">\ </span>t x <span class="err">→ f t x = τ t) a (</span><span class="p">\ </span>t <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-39-16"><a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a>
</span><span id="__span-39-17"><a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="nd">#end</span><span class="n"> relative-extension-types</span>
</span></code></pre></div>
<h3 id="generalized-relative-extension-types">Generalized relative extension types<a class="headerlink" href="#generalized-relative-extension-types" title="Permanent link">&para;</a></h3>
<p>We will also need to allow more general relative extension types, where we start
with a <code>τ : ψ → A</code> that does not strictly restrict to <code>\ t → α (σ' t)</code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="nd">#section</span><span class="n"> general-extension-types</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="kr">#variable</span><span class="p"> </span>I<span class="err"> : CUBE</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="kr">#variable</span><span class="p"> </span>ψ<span class="err"> : I → TOPE</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="kr">#variable</span><span class="p"> </span>ϕ<span class="err"> : ψ → TOPE</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="kr">#variables</span><span class="p"> </span>A&#39; A<span class="err"> : ψ → U</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="kr">#variable</span><span class="p"> </span>α<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A&#39; t → A t</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:general-relative-extension-type" id="define:general-relative-extension-type" style="visibility: visible; position: relative; color: inherit">general-relative-extension-type</a></span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="err">  </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A&#39; t)</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="err">  </span><span class="p">( </span>τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t)</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="err">  </span><span class="p">( </span>h <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → α t (σ&#39; t) = τ t)</span>
</span><span id="__span-40-13"><a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="err">  : U</span>
</span><span id="__span-40-14"><a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="err">  :=</span>
</span><span id="__span-40-15"><a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="err">    </span><span class="kt">Σ</span><span class="err"> </span><span class="p">( </span>τ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A&#39; t [ϕ t ↦ σ&#39; t])</span>
</span><span id="__span-40-16"><a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="err">    , </span><span class="p">( </span>t <span class="p">:</span><span class="err"> ψ) → (α t (τ&#39; t) = τ t) [ϕ t ↦ h t]</span>
</span></code></pre></div>
<p>If all ordinary relative extension types are contractible, then all generalized
extension types are also contractible.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-contr-relative-extension-types" id="define:has-contr-relative-extension-types" style="visibility: visible; position: relative; color: inherit">has-contr-relative-extension-types</a></span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="err">  : U</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="err">  :=</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="err">    </span><span class="p">( </span>( σ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A&#39; t)</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="err">    → </span><span class="p">( </span>τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ α t (σ&#39; t)])</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="err">    → ( is-contr (relative-extension-type I ψ ϕ A&#39; A α σ&#39; τ)))</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-contr-general-relative-extension-types" id="define:has-contr-general-relative-extension-types" style="visibility: visible; position: relative; color: inherit">has-contr-general-relative-extension-types</a></span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="err">  : U</span>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="err">  :=</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="err">    </span><span class="p">( </span>( σ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A&#39; t)</span>
</span><span id="__span-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="err">    → </span><span class="p">( </span>τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t)</span>
</span><span id="__span-41-13"><a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="err">    → </span><span class="p">( </span>h <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → α t (σ&#39; t) = τ t)</span>
</span><span id="__span-41-14"><a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="err">    → ( is-contr ( general-relative-extension-type σ&#39; τ h)))</span>
</span><span id="__span-41-15"><a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a>
</span><span id="__span-41-16"><a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-contr-relative-extension-types-generalize&#39;" id="define:has-contr-relative-extension-types-generalize&#39;" style="visibility: visible; position: relative; color: inherit">has-contr-relative-extension-types-generalize&#39;</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-41-17"><a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="err">  </span><span class="p">( </span>has-contr-relext-α <span class="p">:</span><span class="err"> has-contr-relative-extension-types)</span>
</span><span id="__span-41-18"><a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a><span class="err">  </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A&#39; t)</span>
</span><span id="__span-41-19"><a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="err">  </span><span class="p">( </span>τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t)</span>
</span><span id="__span-41-20"><a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a><span class="err">  </span><span class="p">( </span>h <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → α t (σ&#39; t) = τ t)</span>
</span><span id="__span-41-21"><a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a><span class="err">  : is-contr</span>
</span><span id="__span-41-22"><a id="__codelineno-41-22" name="__codelineno-41-22" href="#__codelineno-41-22"></a><span class="err">    ( general-relative-extension-type σ&#39; τ</span>
</span><span id="__span-41-23"><a id="__codelineno-41-23" name="__codelineno-41-23" href="#__codelineno-41-23"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→</span>
</span><span id="__span-41-24"><a id="__codelineno-41-24" name="__codelineno-41-24" href="#__codelineno-41-24"></a><span class="err">        rev (A t) (τ t) (α t (σ&#39; t)) (rev (A t) (α t (σ&#39; t)) (τ t) (h t))))</span>
</span><span id="__span-41-25"><a id="__codelineno-41-25" name="__codelineno-41-25" href="#__codelineno-41-25"></a><span class="err">  :=</span>
</span><span id="__span-41-26"><a id="__codelineno-41-26" name="__codelineno-41-26" href="#__codelineno-41-26"></a><span class="err">    ind-has-section-equiv</span>
</span><span id="__span-41-27"><a id="__codelineno-41-27" name="__codelineno-41-27" href="#__codelineno-41-27"></a><span class="err">    ( extension-type I ψ ϕ A (</span><span class="p">\ </span>t <span class="err">→ α t (σ&#39; t)))</span>
</span><span id="__span-41-28"><a id="__codelineno-41-28" name="__codelineno-41-28" href="#__codelineno-41-28"></a><span class="err">    ( pointwise-homotopy-extension-type I ψ ϕ A (</span><span class="p">\ </span>t <span class="err">→ α t (σ&#39; t)))</span>
</span><span id="__span-41-29"><a id="__codelineno-41-29" name="__codelineno-41-29" href="#__codelineno-41-29"></a><span class="err">    ( extension-type-pointwise-weakening I ψ ϕ A (</span><span class="p">\ </span>t <span class="err">→ α t (σ&#39; t)))</span>
</span><span id="__span-41-30"><a id="__codelineno-41-30" name="__codelineno-41-30" href="#__codelineno-41-30"></a><span class="err">    ( \ (τ̂ , ĥ) →</span>
</span><span id="__span-41-31"><a id="__codelineno-41-31" name="__codelineno-41-31" href="#__codelineno-41-31"></a><span class="err">      is-contr</span>
</span><span id="__span-41-32"><a id="__codelineno-41-32" name="__codelineno-41-32" href="#__codelineno-41-32"></a><span class="err">      ( general-relative-extension-type σ&#39; τ̂</span>
</span><span id="__span-41-33"><a id="__codelineno-41-33" name="__codelineno-41-33" href="#__codelineno-41-33"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ rev (A t) (τ̂ t) (α t (σ&#39; t)) (ĥ t))))</span>
</span><span id="__span-41-34"><a id="__codelineno-41-34" name="__codelineno-41-34" href="#__codelineno-41-34"></a><span class="err">    ( </span><span class="p">\ </span>τ <span class="err">→ has-contr-relext-α σ&#39; τ)</span>
</span><span id="__span-41-35"><a id="__codelineno-41-35" name="__codelineno-41-35" href="#__codelineno-41-35"></a><span class="err">    ( τ , </span><span class="p">\ </span>t <span class="err">→ (rev (A t) (α t (σ&#39; t)) (τ t) (h t)))</span>
</span><span id="__span-41-36"><a id="__codelineno-41-36" name="__codelineno-41-36" href="#__codelineno-41-36"></a>
</span><span id="__span-41-37"><a id="__codelineno-41-37" name="__codelineno-41-37" href="#__codelineno-41-37"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-contr-relative-extension-types-generalize" id="define:has-contr-relative-extension-types-generalize" style="visibility: visible; position: relative; color: inherit">has-contr-relative-extension-types-generalize</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-41-38"><a id="__codelineno-41-38" name="__codelineno-41-38" href="#__codelineno-41-38"></a><span class="err">  </span><span class="p">( </span>has-contr-relext-α <span class="p">:</span><span class="err"> has-contr-relative-extension-types)</span>
</span><span id="__span-41-39"><a id="__codelineno-41-39" name="__codelineno-41-39" href="#__codelineno-41-39"></a><span class="err">  : has-contr-general-relative-extension-types</span>
</span><span id="__span-41-40"><a id="__codelineno-41-40" name="__codelineno-41-40" href="#__codelineno-41-40"></a><span class="err">  :=</span>
</span><span id="__span-41-41"><a id="__codelineno-41-41" name="__codelineno-41-41" href="#__codelineno-41-41"></a><span class="err">  </span><span class="p">\ </span>σ&#39; τ h <span class="err">→</span>
</span><span id="__span-41-42"><a id="__codelineno-41-42" name="__codelineno-41-42" href="#__codelineno-41-42"></a><span class="err">    transport</span>
</span><span id="__span-41-43"><a id="__codelineno-41-43" name="__codelineno-41-43" href="#__codelineno-41-43"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → α t (σ&#39; t) = τ t)</span>
</span><span id="__span-41-44"><a id="__codelineno-41-44" name="__codelineno-41-44" href="#__codelineno-41-44"></a><span class="err">    ( </span><span class="p">\ </span>ĥ <span class="err">→ is-contr ( general-relative-extension-type σ&#39; τ ĥ))</span>
</span><span id="__span-41-45"><a id="__codelineno-41-45" name="__codelineno-41-45" href="#__codelineno-41-45"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ rev (A t) (τ t) (α t (σ&#39; t)) (rev (A t) (α t (σ&#39; t)) (τ t) (h t)))</span>
</span><span id="__span-41-46"><a id="__codelineno-41-46" name="__codelineno-41-46" href="#__codelineno-41-46"></a><span class="err">    ( h)</span>
</span><span id="__span-41-47"><a id="__codelineno-41-47" name="__codelineno-41-47" href="#__codelineno-41-47"></a><span class="err">    ( naiveextext-extext extext</span>
</span><span id="__span-41-48"><a id="__codelineno-41-48" name="__codelineno-41-48" href="#__codelineno-41-48"></a><span class="err">      ( I) (</span><span class="p">\ </span>t <span class="err">→ ϕ t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">) (</span><span class="p">\ </span>t <span class="err">→ α t (σ&#39; t ) = τ t) (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">)</span>
</span><span id="__span-41-49"><a id="__codelineno-41-49" name="__codelineno-41-49" href="#__codelineno-41-49"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ rev (A t) (τ t) (α t (σ&#39; t)) (rev (A t) (α t (σ&#39; t)) (τ t) (h t)))</span>
</span><span id="__span-41-50"><a id="__codelineno-41-50" name="__codelineno-41-50" href="#__codelineno-41-50"></a><span class="err">      ( h)</span>
</span><span id="__span-41-51"><a id="__codelineno-41-51" name="__codelineno-41-51" href="#__codelineno-41-51"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ rev-rev (A t) (α t (σ&#39; t)) (τ t) (h t)))</span>
</span><span id="__span-41-52"><a id="__codelineno-41-52" name="__codelineno-41-52" href="#__codelineno-41-52"></a><span class="err">    ( has-contr-relative-extension-types-generalize&#39;</span>
</span><span id="__span-41-53"><a id="__codelineno-41-53" name="__codelineno-41-53" href="#__codelineno-41-53"></a><span class="err">         has-contr-relext-α σ&#39; τ h)</span>
</span></code></pre></div>
<p>The converse is of course trivial.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-contr-relative-extension-types-specialize" id="define:has-contr-relative-extension-types-specialize" style="visibility: visible; position: relative; color: inherit">has-contr-relative-extension-types-specialize</a></span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="err">  </span><span class="p">( </span>has-contr-gen-relext-α <span class="p">:</span><span class="err"> has-contr-general-relative-extension-types)</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="err">  : has-contr-relative-extension-types</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="err">  := </span><span class="p">\ </span>σ&#39; τ <span class="err">→ has-contr-gen-relext-α σ&#39; τ (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="nd">#end</span><span class="n"> general-extension-types</span>
</span></code></pre></div>
<h2 id="functoriality-of-extension-types">Functoriality of extension types<a class="headerlink" href="#functoriality-of-extension-types" title="Permanent link">&para;</a></h2>
<p>We aim to show that special properties of a map of types <code>f : A → B</code>, such as
being an equivalence or having a retraction carry over to the induced map on
extension types.</p>
<p>For each map <code>f : A → B</code> and each shape inclusion <code>ϕ ⊂ ψ</code>, we have a commutative
square.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>(ψ → A&#39;) → (ψ → A)
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>   ↓          ↓
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a>(ϕ → A&#39;) → (ϕ → A)
</span></code></pre></div>
<p>We can view it as a map of maps either vertically or horizontally.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:map-of-restriction-maps" id="define:map-of-restriction-maps" style="visibility: visible; position: relative; color: inherit">map-of-restriction-maps</a></span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t → B t)</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="err">  : map-of-maps</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t) </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → A t)  (</span><span class="p">\ </span>a t <span class="err">→ a t)</span>
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t) </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → B t)  (</span><span class="p">\ </span>b t <span class="err">→ b t)</span>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="err">  :=</span>
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="err">    ( ( (</span><span class="p">\ </span>a t <span class="err">→ f t (a t)), (</span><span class="p">\ </span>a t <span class="err">→ f t (a t))), </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-44-12"><a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a>
</span><span id="__span-44-13"><a id="__codelineno-44-13" name="__codelineno-44-13" href="#__codelineno-44-13"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:map-of-map-extension-type" id="define:map-of-map-extension-type" style="visibility: visible; position: relative; color: inherit">map-of-map-extension-type</a></span>
</span><span id="__span-44-14"><a id="__codelineno-44-14" name="__codelineno-44-14" href="#__codelineno-44-14"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-44-15"><a id="__codelineno-44-15" name="__codelineno-44-15" href="#__codelineno-44-15"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-44-16"><a id="__codelineno-44-16" name="__codelineno-44-16" href="#__codelineno-44-16"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-44-17"><a id="__codelineno-44-17" name="__codelineno-44-17" href="#__codelineno-44-17"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-44-18"><a id="__codelineno-44-18" name="__codelineno-44-18" href="#__codelineno-44-18"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t → B t)</span>
</span><span id="__span-44-19"><a id="__codelineno-44-19" name="__codelineno-44-19" href="#__codelineno-44-19"></a><span class="err">  : map-of-maps</span>
</span><span id="__span-44-20"><a id="__codelineno-44-20" name="__codelineno-44-20" href="#__codelineno-44-20"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t) </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t) (</span><span class="p">\ </span>a t <span class="err">→ f t (a t))</span>
</span><span id="__span-44-21"><a id="__codelineno-44-21" name="__codelineno-44-21" href="#__codelineno-44-21"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → A t) </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → B t) (</span><span class="p">\ </span>a t <span class="err">→ f t (a t))</span>
</span><span id="__span-44-22"><a id="__codelineno-44-22" name="__codelineno-44-22" href="#__codelineno-44-22"></a><span class="err">  :=</span>
</span><span id="__span-44-23"><a id="__codelineno-44-23" name="__codelineno-44-23" href="#__codelineno-44-23"></a><span class="err">    ( ( (</span><span class="p">\ </span>a t <span class="err">→ a t), (</span><span class="p">\ </span>b t <span class="err">→ b t)), </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span></code></pre></div>
<h3 id="equivalences-induce-equivalences-of-extension-types">Equivalences induce equivalences of extension types<a class="headerlink" href="#equivalences-induce-equivalences-of-extension-types" title="Permanent link">&para;</a></h3>
<p>If <span class="arithmatex">\(f: \prod_{t : I|\psi} A (t) \to B (t)\)</span> is a family of equivalence then the
fibers of postcomposition by <span class="arithmatex">\(f\)</span> are contractible.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-contr-fiber-family-ext-contr-fib" id="define:is-contr-fiber-family-ext-contr-fib" style="visibility: visible; position: relative; color: inherit">is-contr-fiber-family-ext-contr-fib</a></span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t → B t)</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="err">  </span><span class="p">( </span>τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ f t (a t)])</span>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="err">  </span><span class="p">( </span>family-equiv-f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → is-equiv (A t) (B t) (f t))</span>
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="err">  : is-contr (fiber-family-ext I ψ ϕ A B f a τ)</span>
</span><span id="__span-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="err">  :=</span>
</span><span id="__span-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="err">    (weakextext-extext extext) I ψ ϕ</span>
</span><span id="__span-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ fib (A t) (B t) (f t) (τ t))</span>
</span><span id="__span-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ is-contr-map-is-equiv (A t) (B t) (f t) (family-equiv-f t) (τ t))</span>
</span><span id="__span-45-15"><a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ (a t, </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-45-16"><a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a>
</span><span id="__span-45-17"><a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-contr-fiber-postcomp-Π-ext-is-equiv-fam" id="define:is-contr-fiber-postcomp-Π-ext-is-equiv-fam" style="visibility: visible; position: relative; color: inherit">is-contr-fiber-postcomp-Π-ext-is-equiv-fam</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-45-18"><a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-45-19"><a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-45-20"><a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-45-21"><a id="__codelineno-45-21" name="__codelineno-45-21" href="#__codelineno-45-21"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-45-22"><a id="__codelineno-45-22" name="__codelineno-45-22" href="#__codelineno-45-22"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t → B t)</span>
</span><span id="__span-45-23"><a id="__codelineno-45-23" name="__codelineno-45-23" href="#__codelineno-45-23"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-45-24"><a id="__codelineno-45-24" name="__codelineno-45-24" href="#__codelineno-45-24"></a><span class="err">  </span><span class="p">( </span>τ <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ f t (a t)])</span>
</span><span id="__span-45-25"><a id="__codelineno-45-25" name="__codelineno-45-25" href="#__codelineno-45-25"></a><span class="err">  </span><span class="p">( </span>family-equiv-f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → is-equiv (A t) (B t) (f t))</span>
</span><span id="__span-45-26"><a id="__codelineno-45-26" name="__codelineno-45-26" href="#__codelineno-45-26"></a><span class="err">  : is-contr (fiber-postcomp-Π-ext I ψ ϕ A B f a τ)</span>
</span><span id="__span-45-27"><a id="__codelineno-45-27" name="__codelineno-45-27" href="#__codelineno-45-27"></a><span class="err">  :=</span>
</span><span id="__span-45-28"><a id="__codelineno-45-28" name="__codelineno-45-28" href="#__codelineno-45-28"></a><span class="err">    is-contr-equiv-is-contr&#39;</span>
</span><span id="__span-45-29"><a id="__codelineno-45-29" name="__codelineno-45-29" href="#__codelineno-45-29"></a><span class="err">    ( fiber-postcomp-Π-ext I ψ ϕ A B f a τ)</span>
</span><span id="__span-45-30"><a id="__codelineno-45-30" name="__codelineno-45-30" href="#__codelineno-45-30"></a><span class="err">    ( fiber-family-ext I ψ ϕ A B f a τ)</span>
</span><span id="__span-45-31"><a id="__codelineno-45-31" name="__codelineno-45-31" href="#__codelineno-45-31"></a><span class="err">    ( equiv-fiber-postcomp-Π-ext-fiber-family-ext I ψ ϕ A B f a τ)</span>
</span><span id="__span-45-32"><a id="__codelineno-45-32" name="__codelineno-45-32" href="#__codelineno-45-32"></a><span class="err">    ( is-contr-fiber-family-ext-contr-fib I ψ ϕ A B f a τ family-equiv-f)</span>
</span></code></pre></div>
<p>Hence, postcomposing with an equivalence induces an equivalence of extension
types.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-equiv-extensions-is-equiv" id="define:is-equiv-extensions-is-equiv" style="visibility: visible; position: relative; color: inherit">is-equiv-extensions-is-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t → B t)</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="err">  </span><span class="p">( </span>family-equiv-f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → is-equiv (A t) (B t) (f t))</span>
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="err">  : is-equiv</span>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ f t (a t)])</span>
</span><span id="__span-46-12"><a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="err">    ( postcomp-Π-ext I ψ ϕ A B f a)</span>
</span><span id="__span-46-13"><a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="err">  :=</span>
</span><span id="__span-46-14"><a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="err">    is-equiv-is-contr-map</span>
</span><span id="__span-46-15"><a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-46-16"><a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ f t (a t)])</span>
</span><span id="__span-46-17"><a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a><span class="err">    ( postcomp-Π-ext I ψ ϕ A B f a)</span>
</span><span id="__span-46-18"><a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a><span class="err">    ( </span><span class="p">\ </span>τ <span class="err">→</span>
</span><span id="__span-46-19"><a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a><span class="err">      is-contr-fiber-postcomp-Π-ext-is-equiv-fam I ψ ϕ A B f a τ family-equiv-f)</span>
</span><span id="__span-46-20"><a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a>
</span><span id="__span-46-21"><a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-extensions-equiv" id="define:equiv-extensions-equiv" style="visibility: visible; position: relative; color: inherit">equiv-extensions-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-46-22"><a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-46-23"><a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-46-24"><a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-46-25"><a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-46-26"><a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a><span class="err">  </span><span class="p">( </span>equivs-A-B <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → Equiv (A t) (B t))</span>
</span><span id="__span-46-27"><a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-46-28"><a id="__codelineno-46-28" name="__codelineno-46-28" href="#__codelineno-46-28"></a><span class="err">  : Equiv</span>
</span><span id="__span-46-29"><a id="__codelineno-46-29" name="__codelineno-46-29" href="#__codelineno-46-29"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-46-30"><a id="__codelineno-46-30" name="__codelineno-46-30" href="#__codelineno-46-30"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ </span><span class="s">first</span><span class="err"> (equivs-A-B t) (a t)])</span>
</span><span id="__span-46-31"><a id="__codelineno-46-31" name="__codelineno-46-31" href="#__codelineno-46-31"></a><span class="err">  :=</span>
</span><span id="__span-46-32"><a id="__codelineno-46-32" name="__codelineno-46-32" href="#__codelineno-46-32"></a><span class="err">    ( postcomp-Π-ext I ψ ϕ A B (</span><span class="p">\ </span>t <span class="err">→ (</span><span class="s">first</span><span class="err"> (equivs-A-B t))) a</span>
</span><span id="__span-46-33"><a id="__codelineno-46-33" name="__codelineno-46-33" href="#__codelineno-46-33"></a><span class="err">    , is-equiv-extensions-is-equiv I ψ ϕ A B</span>
</span><span id="__span-46-34"><a id="__codelineno-46-34" name="__codelineno-46-34" href="#__codelineno-46-34"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">first</span><span class="err"> (equivs-A-B t))</span>
</span><span id="__span-46-35"><a id="__codelineno-46-35" name="__codelineno-46-35" href="#__codelineno-46-35"></a><span class="err">      ( a)</span>
</span><span id="__span-46-36"><a id="__codelineno-46-36" name="__codelineno-46-36" href="#__codelineno-46-36"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">second</span><span class="err"> (equivs-A-B t)))</span>
</span><span id="__span-46-37"><a id="__codelineno-46-37" name="__codelineno-46-37" href="#__codelineno-46-37"></a>
</span><span id="__span-46-38"><a id="__codelineno-46-38" name="__codelineno-46-38" href="#__codelineno-46-38"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-of-restriction-maps-equiv" id="define:equiv-of-restriction-maps-equiv" style="visibility: visible; position: relative; color: inherit">equiv-of-restriction-maps-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-46-39"><a id="__codelineno-46-39" name="__codelineno-46-39" href="#__codelineno-46-39"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-46-40"><a id="__codelineno-46-40" name="__codelineno-46-40" href="#__codelineno-46-40"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-46-41"><a id="__codelineno-46-41" name="__codelineno-46-41" href="#__codelineno-46-41"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-46-42"><a id="__codelineno-46-42" name="__codelineno-46-42" href="#__codelineno-46-42"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-46-43"><a id="__codelineno-46-43" name="__codelineno-46-43" href="#__codelineno-46-43"></a><span class="err">  </span><span class="p">( </span>famequiv <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → (Equiv (A t) (B t)))</span>
</span><span id="__span-46-44"><a id="__codelineno-46-44" name="__codelineno-46-44" href="#__codelineno-46-44"></a><span class="err">  : Equiv-of-maps</span>
</span><span id="__span-46-45"><a id="__codelineno-46-45" name="__codelineno-46-45" href="#__codelineno-46-45"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t) </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → A t)  (</span><span class="p">\ </span>a t <span class="err">→ a t)</span>
</span><span id="__span-46-46"><a id="__codelineno-46-46" name="__codelineno-46-46" href="#__codelineno-46-46"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t) </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ϕ) → B t)  (</span><span class="p">\ </span>b t <span class="err">→ b t)</span>
</span><span id="__span-46-47"><a id="__codelineno-46-47" name="__codelineno-46-47" href="#__codelineno-46-47"></a><span class="err">  :=</span>
</span><span id="__span-46-48"><a id="__codelineno-46-48" name="__codelineno-46-48" href="#__codelineno-46-48"></a><span class="err">    ( map-of-restriction-maps I ψ ϕ A B (</span><span class="p">\ </span>t <span class="err">→ </span><span class="s">first</span><span class="err"> (famequiv t))</span>
</span><span id="__span-46-49"><a id="__codelineno-46-49" name="__codelineno-46-49" href="#__codelineno-46-49"></a><span class="err">    , ( </span><span class="s">second</span><span class="err"> (equiv-extensions-equiv I ψ ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-46-50"><a id="__codelineno-46-50" name="__codelineno-46-50" href="#__codelineno-46-50"></a><span class="err">      ( A) ( B)</span>
</span><span id="__span-46-51"><a id="__codelineno-46-51" name="__codelineno-46-51" href="#__codelineno-46-51"></a><span class="err">      ( famequiv)</span>
</span><span id="__span-46-52"><a id="__codelineno-46-52" name="__codelineno-46-52" href="#__codelineno-46-52"></a><span class="err">      ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">))</span>
</span><span id="__span-46-53"><a id="__codelineno-46-53" name="__codelineno-46-53" href="#__codelineno-46-53"></a><span class="err">      , </span><span class="s">second</span><span class="err"> ( equiv-extensions-equiv I ( </span><span class="p">\ </span>t <span class="err">→ ϕ t) ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">)</span>
</span><span id="__span-46-54"><a id="__codelineno-46-54" name="__codelineno-46-54" href="#__codelineno-46-54"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ A t) ( </span><span class="p">\ </span>t <span class="err">→ B t)</span>
</span><span id="__span-46-55"><a id="__codelineno-46-55" name="__codelineno-46-55" href="#__codelineno-46-55"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ famequiv t)</span>
</span><span id="__span-46-56"><a id="__codelineno-46-56" name="__codelineno-46-56" href="#__codelineno-46-56"></a><span class="err">        ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">))))</span>
</span></code></pre></div>
<h3 id="retracts-induce-retracts-of-extension-types">Retracts induce retracts of extension types<a class="headerlink" href="#retracts-induce-retracts-of-extension-types" title="Permanent link">&para;</a></h3>
<p>We show that if <code>f : A → B</code> has a retraction, then the same is true for the
induced map on extension types. We reduce this to the case of equivalences by
working with external retractions.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="nd">#section</span><span class="n"> section-retraction-extensions</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="kr">#variable</span><span class="p"> </span>I<span class="err"> : CUBE</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="kr">#variable</span><span class="p"> </span>ψ<span class="err"> : I → TOPE</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="kr">#variable</span><span class="p"> </span>ϕ<span class="err"> : ψ → TOPE</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="kr">#variables</span><span class="p"> </span>A B<span class="err"> : ψ → U</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="kr">#variable</span><span class="p"> </span>s<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t → B t</span>
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="kr">#variable</span><span class="p"> </span>r<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → B t → A t</span>
</span><span id="__span-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="kr">#variable</span><span class="p"> </span>η<span class="err"> : </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → </span><span class="p">(</span>a <span class="p">:</span><span class="err"> A t) → r t (s t a) = a</span>
</span><span id="__span-47-11"><a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a>
</span><span id="__span-47-12"><a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-sec-rec-extensions-sec-rec" id="define:is-sec-rec-extensions-sec-rec" style="visibility: visible; position: relative; color: inherit">is-sec-rec-extensions-sec-rec</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-47-13"><a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-47-14"><a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a><span class="err">  : is-section-retraction-pair</span>
</span><span id="__span-47-15"><a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-47-16"><a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ s t (a t)])</span>
</span><span id="__span-47-17"><a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ r t(s t(a t))])</span>
</span><span id="__span-47-18"><a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="err">    ( </span><span class="p">\ </span>a&#39; t <span class="err">→ s t (a&#39; t))</span>
</span><span id="__span-47-19"><a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="err">    ( </span><span class="p">\ </span>b&#39; t <span class="err">→ r t (b&#39; t))</span>
</span><span id="__span-47-20"><a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="err">  :=</span>
</span><span id="__span-47-21"><a id="__codelineno-47-21" name="__codelineno-47-21" href="#__codelineno-47-21"></a><span class="err">    is-equiv-extensions-is-equiv I ψ ϕ A A</span>
</span><span id="__span-47-22"><a id="__codelineno-47-22" name="__codelineno-47-22" href="#__codelineno-47-22"></a><span class="err">    ( </span><span class="p">\ </span>t a₀ <span class="err">→ r t (s t (a₀)))</span>
</span><span id="__span-47-23"><a id="__codelineno-47-23" name="__codelineno-47-23" href="#__codelineno-47-23"></a><span class="err">    ( a)</span>
</span><span id="__span-47-24"><a id="__codelineno-47-24" name="__codelineno-47-24" href="#__codelineno-47-24"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ is-equiv-retraction-section (A t) (B t) (s t) (r t) (η t))</span>
</span><span id="__span-47-25"><a id="__codelineno-47-25" name="__codelineno-47-25" href="#__codelineno-47-25"></a>
</span><span id="__span-47-26"><a id="__codelineno-47-26" name="__codelineno-47-26" href="#__codelineno-47-26"></a>
</span><span id="__span-47-27"><a id="__codelineno-47-27" name="__codelineno-47-27" href="#__codelineno-47-27"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-retraction-extensions-has-retraction&#39;" id="define:has-retraction-extensions-has-retraction&#39;" style="visibility: visible; position: relative; color: inherit">has-retraction-extensions-has-retraction&#39;</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext η<span class="p">)</span>
</span><span id="__span-47-28"><a id="__codelineno-47-28" name="__codelineno-47-28" href="#__codelineno-47-28"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-47-29"><a id="__codelineno-47-29" name="__codelineno-47-29" href="#__codelineno-47-29"></a><span class="err">  : has-retraction</span>
</span><span id="__span-47-30"><a id="__codelineno-47-30" name="__codelineno-47-30" href="#__codelineno-47-30"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-47-31"><a id="__codelineno-47-31" name="__codelineno-47-31" href="#__codelineno-47-31"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ s t (a t)])</span>
</span><span id="__span-47-32"><a id="__codelineno-47-32" name="__codelineno-47-32" href="#__codelineno-47-32"></a><span class="err">    ( </span><span class="p">\ </span>a&#39; t <span class="err">→ s t (a&#39; t))</span>
</span><span id="__span-47-33"><a id="__codelineno-47-33" name="__codelineno-47-33" href="#__codelineno-47-33"></a><span class="err">  :=</span>
</span><span id="__span-47-34"><a id="__codelineno-47-34" name="__codelineno-47-34" href="#__codelineno-47-34"></a><span class="err">    has-retraction-internalize</span>
</span><span id="__span-47-35"><a id="__codelineno-47-35" name="__codelineno-47-35" href="#__codelineno-47-35"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-47-36"><a id="__codelineno-47-36" name="__codelineno-47-36" href="#__codelineno-47-36"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ s t (a t)])</span>
</span><span id="__span-47-37"><a id="__codelineno-47-37" name="__codelineno-47-37" href="#__codelineno-47-37"></a><span class="err">    ( </span><span class="p">\ </span>a&#39; t <span class="err">→ s t (a&#39; t))</span>
</span><span id="__span-47-38"><a id="__codelineno-47-38" name="__codelineno-47-38" href="#__codelineno-47-38"></a><span class="err">    </span><span class="p">( </span>( (t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ r t (s t (a t))]</span>
</span><span id="__span-47-39"><a id="__codelineno-47-39" name="__codelineno-47-39" href="#__codelineno-47-39"></a><span class="err">      , </span><span class="p">\ </span>b&#39; t <span class="err">→ r t (b&#39; t))</span>
</span><span id="__span-47-40"><a id="__codelineno-47-40" name="__codelineno-47-40" href="#__codelineno-47-40"></a><span class="err">    , is-sec-rec-extensions-sec-rec a)</span>
</span><span id="__span-47-41"><a id="__codelineno-47-41" name="__codelineno-47-41" href="#__codelineno-47-41"></a>
</span><span id="__span-47-42"><a id="__codelineno-47-42" name="__codelineno-47-42" href="#__codelineno-47-42"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-section-extensions-has-section&#39;" id="define:has-section-extensions-has-section&#39;" style="visibility: visible; position: relative; color: inherit">has-section-extensions-has-section&#39;</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext η<span class="p">)</span>
</span><span id="__span-47-43"><a id="__codelineno-47-43" name="__codelineno-47-43" href="#__codelineno-47-43"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-47-44"><a id="__codelineno-47-44" name="__codelineno-47-44" href="#__codelineno-47-44"></a><span class="err">  : has-section</span>
</span><span id="__span-47-45"><a id="__codelineno-47-45" name="__codelineno-47-45" href="#__codelineno-47-45"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ s t (a t)])</span>
</span><span id="__span-47-46"><a id="__codelineno-47-46" name="__codelineno-47-46" href="#__codelineno-47-46"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ r t (s t (a t))])</span>
</span><span id="__span-47-47"><a id="__codelineno-47-47" name="__codelineno-47-47" href="#__codelineno-47-47"></a><span class="err">    ( </span><span class="p">\ </span>b t <span class="err">→ r t (b t))</span>
</span><span id="__span-47-48"><a id="__codelineno-47-48" name="__codelineno-47-48" href="#__codelineno-47-48"></a><span class="err">  :=</span>
</span><span id="__span-47-49"><a id="__codelineno-47-49" name="__codelineno-47-49" href="#__codelineno-47-49"></a><span class="err">    has-section-internalize</span>
</span><span id="__span-47-50"><a id="__codelineno-47-50" name="__codelineno-47-50" href="#__codelineno-47-50"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ s t (a t)])</span>
</span><span id="__span-47-51"><a id="__codelineno-47-51" name="__codelineno-47-51" href="#__codelineno-47-51"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ r t (s t (a t))])</span>
</span><span id="__span-47-52"><a id="__codelineno-47-52" name="__codelineno-47-52" href="#__codelineno-47-52"></a><span class="err">    ( </span><span class="p">\ </span>b&#39; t <span class="err">→ r t (b&#39; t))</span>
</span><span id="__span-47-53"><a id="__codelineno-47-53" name="__codelineno-47-53" href="#__codelineno-47-53"></a><span class="err">    </span><span class="p">( </span>( ( (t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-47-54"><a id="__codelineno-47-54" name="__codelineno-47-54" href="#__codelineno-47-54"></a><span class="err">      , ( </span><span class="p">\ </span>a&#39; t <span class="err">→ s t (a&#39; t)))</span>
</span><span id="__span-47-55"><a id="__codelineno-47-55" name="__codelineno-47-55" href="#__codelineno-47-55"></a><span class="err">    , is-sec-rec-extensions-sec-rec a)</span>
</span><span id="__span-47-56"><a id="__codelineno-47-56" name="__codelineno-47-56" href="#__codelineno-47-56"></a>
</span><span id="__span-47-57"><a id="__codelineno-47-57" name="__codelineno-47-57" href="#__codelineno-47-57"></a><span class="nd">#end</span><span class="n"> section-retraction-extensions</span>
</span></code></pre></div>
<p>It is convenient to have uncurried versions.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-retraction-extensions-has-retraction" id="define:has-retraction-extensions-has-retraction" style="visibility: visible; position: relative; color: inherit">has-retraction-extensions-has-retraction</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="err">  </span><span class="p">( </span>s <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → A t → B t)</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="err">  </span><span class="p">( </span>has-retraction-s <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → has-retraction (A t) (B t) (s t))</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-48-9"><a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a><span class="err">  : has-retraction</span>
</span><span id="__span-48-10"><a id="__codelineno-48-10" name="__codelineno-48-10" href="#__codelineno-48-10"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-48-11"><a id="__codelineno-48-11" name="__codelineno-48-11" href="#__codelineno-48-11"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ s t (a t)])</span>
</span><span id="__span-48-12"><a id="__codelineno-48-12" name="__codelineno-48-12" href="#__codelineno-48-12"></a><span class="err">    ( </span><span class="p">\ </span>a&#39; t <span class="err">→ s t (a&#39; t))</span>
</span><span id="__span-48-13"><a id="__codelineno-48-13" name="__codelineno-48-13" href="#__codelineno-48-13"></a><span class="err">  :=</span>
</span><span id="__span-48-14"><a id="__codelineno-48-14" name="__codelineno-48-14" href="#__codelineno-48-14"></a><span class="err">    has-retraction-extensions-has-retraction&#39; I ψ ϕ A B s</span>
</span><span id="__span-48-15"><a id="__codelineno-48-15" name="__codelineno-48-15" href="#__codelineno-48-15"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">first</span><span class="err"> (has-retraction-s t))</span>
</span><span id="__span-48-16"><a id="__codelineno-48-16" name="__codelineno-48-16" href="#__codelineno-48-16"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">second</span><span class="err"> (has-retraction-s t))</span>
</span><span id="__span-48-17"><a id="__codelineno-48-17" name="__codelineno-48-17" href="#__codelineno-48-17"></a><span class="err">    ( a)</span>
</span><span id="__span-48-18"><a id="__codelineno-48-18" name="__codelineno-48-18" href="#__codelineno-48-18"></a>
</span><span id="__span-48-19"><a id="__codelineno-48-19" name="__codelineno-48-19" href="#__codelineno-48-19"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-section-extensions-has-section" id="define:has-section-extensions-has-section" style="visibility: visible; position: relative; color: inherit">has-section-extensions-has-section</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-48-20"><a id="__codelineno-48-20" name="__codelineno-48-20" href="#__codelineno-48-20"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-48-21"><a id="__codelineno-48-21" name="__codelineno-48-21" href="#__codelineno-48-21"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-48-22"><a id="__codelineno-48-22" name="__codelineno-48-22" href="#__codelineno-48-22"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-48-23"><a id="__codelineno-48-23" name="__codelineno-48-23" href="#__codelineno-48-23"></a><span class="err">  </span><span class="p">( </span>B A <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-48-24"><a id="__codelineno-48-24" name="__codelineno-48-24" href="#__codelineno-48-24"></a><span class="err">  </span><span class="p">( </span>r <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → B t → A t)</span>
</span><span id="__span-48-25"><a id="__codelineno-48-25" name="__codelineno-48-25" href="#__codelineno-48-25"></a><span class="err">  </span><span class="p">( </span>has-section-r <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → has-section (B t) (A t) (r t))</span>
</span><span id="__span-48-26"><a id="__codelineno-48-26" name="__codelineno-48-26" href="#__codelineno-48-26"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-48-27"><a id="__codelineno-48-27" name="__codelineno-48-27" href="#__codelineno-48-27"></a><span class="err">  : has-section</span>
</span><span id="__span-48-28"><a id="__codelineno-48-28" name="__codelineno-48-28" href="#__codelineno-48-28"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ (</span><span class="s">first</span><span class="err"> (has-section-r t)) (a t)])</span>
</span><span id="__span-48-29"><a id="__codelineno-48-29" name="__codelineno-48-29" href="#__codelineno-48-29"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ r t (</span><span class="s">first</span><span class="err"> (has-section-r t) (a t))])</span>
</span><span id="__span-48-30"><a id="__codelineno-48-30" name="__codelineno-48-30" href="#__codelineno-48-30"></a><span class="err">    ( </span><span class="p">\ </span>b t <span class="err">→ r t (b t))</span>
</span><span id="__span-48-31"><a id="__codelineno-48-31" name="__codelineno-48-31" href="#__codelineno-48-31"></a><span class="err">  :=</span>
</span><span id="__span-48-32"><a id="__codelineno-48-32" name="__codelineno-48-32" href="#__codelineno-48-32"></a><span class="err">    has-section-extensions-has-section&#39; I ψ ϕ A B</span>
</span><span id="__span-48-33"><a id="__codelineno-48-33" name="__codelineno-48-33" href="#__codelineno-48-33"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">first</span><span class="err"> (has-section-r t))</span>
</span><span id="__span-48-34"><a id="__codelineno-48-34" name="__codelineno-48-34" href="#__codelineno-48-34"></a><span class="err">    ( r)</span>
</span><span id="__span-48-35"><a id="__codelineno-48-35" name="__codelineno-48-35" href="#__codelineno-48-35"></a><span class="err">    ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">second</span><span class="err"> (has-section-r t))</span>
</span><span id="__span-48-36"><a id="__codelineno-48-36" name="__codelineno-48-36" href="#__codelineno-48-36"></a><span class="err">    ( a)</span>
</span></code></pre></div>
<p>We summarize by saying that retracts of types induce retracts of extension
types.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-retract-of-extensions-are-retract-of" id="define:is-retract-of-extensions-are-retract-of" style="visibility: visible; position: relative; color: inherit">is-retract-of-extensions-are-retract-of</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> ψ → TOPE)</span>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="err">  </span><span class="p">( </span>are-retract-A-of-B <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → is-retract-of (A t) (B t))</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ϕ) → A t)</span>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="err">  : is-retract-of</span>
</span><span id="__span-49-9"><a id="__codelineno-49-9" name="__codelineno-49-9" href="#__codelineno-49-9"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → A t [ϕ t ↦ a t])</span>
</span><span id="__span-49-10"><a id="__codelineno-49-10" name="__codelineno-49-10" href="#__codelineno-49-10"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> ψ) → B t [ϕ t ↦ </span><span class="s">first</span><span class="err"> (are-retract-A-of-B t) (a t)])</span>
</span><span id="__span-49-11"><a id="__codelineno-49-11" name="__codelineno-49-11" href="#__codelineno-49-11"></a><span class="err">  :=</span>
</span><span id="__span-49-12"><a id="__codelineno-49-12" name="__codelineno-49-12" href="#__codelineno-49-12"></a><span class="err">  ( ( </span><span class="p">\ </span>a&#39; t <span class="err">→ </span><span class="s">first</span><span class="err"> (are-retract-A-of-B t) (a&#39; t))</span>
</span><span id="__span-49-13"><a id="__codelineno-49-13" name="__codelineno-49-13" href="#__codelineno-49-13"></a><span class="err">  , ( has-retraction-extensions-has-retraction I ψ ϕ A B</span>
</span><span id="__span-49-14"><a id="__codelineno-49-14" name="__codelineno-49-14" href="#__codelineno-49-14"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">first</span><span class="err"> (are-retract-A-of-B t))</span>
</span><span id="__span-49-15"><a id="__codelineno-49-15" name="__codelineno-49-15" href="#__codelineno-49-15"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">second</span><span class="err"> (are-retract-A-of-B t))</span>
</span><span id="__span-49-16"><a id="__codelineno-49-16" name="__codelineno-49-16" href="#__codelineno-49-16"></a><span class="err">      ( a)))</span>
</span></code></pre></div>
<p>The following special case of extensions from <code>BOT</code> is also useful.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-section-extensions-BOT-has-section" id="define:has-section-extensions-BOT-has-section" style="visibility: visible; position: relative; color: inherit">has-section-extensions-BOT-has-section</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="err">  </span><span class="p">( </span>I <span class="p">:</span><span class="err"> CUBE)</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="err">  </span><span class="p">( </span>ψ <span class="p">:</span><span class="err"> I → TOPE)</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> ψ → U)</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> </span><span class="p">( </span>t <span class="p">:</span><span class="err"> ψ) → A t → B t)</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="err">  </span><span class="p">( </span>has-section-f <span class="p">:</span><span class="err"> </span><span class="p">(</span>t <span class="p">:</span><span class="err"> ψ) → has-section (A t) (B t) (f t))</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="err">  : has-section </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → A t) </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> ψ) → B t) ( </span><span class="p">\ </span>a t <span class="err">→ f t (a t))</span>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="err">  :=</span>
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="err">    ( ( </span><span class="p">\ </span>b t <span class="err">→ </span><span class="s">first</span><span class="err"> (has-section-f t) (b t))</span>
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="err">    , </span><span class="p">\ </span>b <span class="err">→</span>
</span><span id="__span-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a><span class="err">      ( naiveextext-extext extext I ψ (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="m">BOT</span><span class="err">) B (</span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">recBOT</span><span class="err">)</span>
</span><span id="__span-50-12"><a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ f t (</span><span class="s">first</span><span class="err"> (has-section-f t) (b t)))</span>
</span><span id="__span-50-13"><a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ b t)</span>
</span><span id="__span-50-14"><a id="__codelineno-50-14" name="__codelineno-50-14" href="#__codelineno-50-14"></a><span class="err">        ( </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">second</span><span class="err"> (has-section-f t) (b t))))</span>
</span></code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../02-simplicial-type-theory.rzk/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Simplicial Type Theory" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Simplicial Type Theory
              </div>
            </div>
          </a>
        
        
          
          <a href="../04-right-orthogonal.rzk/" class="md-footer__link md-footer__link--next" aria-label="Next: Right Orthogonal Fibrations" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Right Orthogonal Fibrations
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.action.edit", "navigation.footer", "navigation.sections", "navigation.path"], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
        <script src="../../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>