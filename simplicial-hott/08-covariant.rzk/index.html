
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../07-discrete.rzk/">
      
      
        <link rel="next" href="../09-yoneda.rzk/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.2.7">
    
    
      
        <title>Covariant Families - Simplicial HoTT</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/css/rzk-render.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#covariant-families" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Simplicial HoTT" class="md-header__button md-logo" aria-label="Simplicial HoTT" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Simplicial HoTT
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Covariant Families
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/rzk-lang/sHoTT" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    rzk-lang/sHoTT
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Simplicial HoTT" class="md-nav__button md-logo" aria-label="Simplicial HoTT" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Simplicial HoTT
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/rzk-lang/sHoTT" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    rzk-lang/sHoTT
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    General
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            General
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../STYLEGUIDE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code style
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../CONTRIBUTORS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    HoTT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            HoTT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/00-common.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/01-paths.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paths
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/02-homotopies.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homotopies
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/03-equivalences.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Equivalences
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/04-half-adjoint-equivalences.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Half Adjoint Equivalences
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/05-sigma.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sigma types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/06-contractible.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contractible
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/07-fibers.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fibers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/08-families-of-maps.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Families of maps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/09-propositions.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Propositions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/10-trivial-fibrations.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trivial fibrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../hott/11-homotopy-pullbacks.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Homotopy pullbacks
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Simplicial HoTT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Simplicial HoTT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../02-simplicial-type-theory.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simplicial Type Theory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../03-extension-types.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extension Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../right-orthogonal/04-right-orthogonal.rzk.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Right Orthogonal Fibrations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../05-segal-types.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Segal Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../06-2cat-of-segal-types.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2-Category of Segal Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../07-discrete.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discrete Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Covariant Families
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Covariant Families
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependent-hom-types" class="md-nav__link">
    Dependent hom types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covariant-families_1" class="md-nav__link">
    Covariant families
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#naive-left-fibrations" class="md-nav__link">
    Naive left fibrations
  </a>
  
    <nav class="md-nav" aria-label="Naive left fibrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naive-left-fibrations-are-left-fibrations" class="md-nav__link">
    Naive left fibrations are left fibrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#left-fibrations-are-inner-fibrations" class="md-nav__link">
    Left fibrations are inner fibrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#naive-left-fibrations-vs-covariant-families" class="md-nav__link">
    Naive left fibrations vs. covariant families
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#total-type-of-a-covariant-family-over-a-segal-type" class="md-nav__link">
    Total type of a covariant family over a Segal type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#representable-covariant-families" class="md-nav__link">
    Representable covariant families
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covariant-lifts-transport-and-uniqueness" class="md-nav__link">
    Covariant lifts, transport, and uniqueness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covariant-functoriality" class="md-nav__link">
    Covariant functoriality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#natural-transformations" class="md-nav__link">
    Natural transformations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covariant-equivalence" class="md-nav__link">
    Covariant equivalence
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contravariant-families" class="md-nav__link">
    Contravariant families
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#representable-contravariant-families" class="md-nav__link">
    Representable contravariant families
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contravariant-lifts-transport-and-uniqueness" class="md-nav__link">
    Contravariant lifts, transport, and uniqueness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contravariant-functoriality" class="md-nav__link">
    Contravariant functoriality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contravariant-natural-transformations" class="md-nav__link">
    Contravariant natural transformations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#two-sided-discrete-fibrations" class="md-nav__link">
    Two sided discrete fibrations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closure-properties-of-covariance" class="md-nav__link">
    Closure properties of covariance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discrete-fibers" class="md-nav__link">
    Discrete fibers
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../09-yoneda.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The Yoneda Lemma
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../10-rezk-types.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rezk Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../11-adjunctions.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adjunctions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../12-cocartesian.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cocartesian Families
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../13-limits.rzk/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limits and Colimits
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dependent-hom-types" class="md-nav__link">
    Dependent hom types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covariant-families_1" class="md-nav__link">
    Covariant families
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#naive-left-fibrations" class="md-nav__link">
    Naive left fibrations
  </a>
  
    <nav class="md-nav" aria-label="Naive left fibrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#naive-left-fibrations-are-left-fibrations" class="md-nav__link">
    Naive left fibrations are left fibrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#left-fibrations-are-inner-fibrations" class="md-nav__link">
    Left fibrations are inner fibrations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#naive-left-fibrations-vs-covariant-families" class="md-nav__link">
    Naive left fibrations vs. covariant families
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#total-type-of-a-covariant-family-over-a-segal-type" class="md-nav__link">
    Total type of a covariant family over a Segal type
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#representable-covariant-families" class="md-nav__link">
    Representable covariant families
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covariant-lifts-transport-and-uniqueness" class="md-nav__link">
    Covariant lifts, transport, and uniqueness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covariant-functoriality" class="md-nav__link">
    Covariant functoriality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#natural-transformations" class="md-nav__link">
    Natural transformations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#covariant-equivalence" class="md-nav__link">
    Covariant equivalence
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contravariant-families" class="md-nav__link">
    Contravariant families
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#representable-contravariant-families" class="md-nav__link">
    Representable contravariant families
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contravariant-lifts-transport-and-uniqueness" class="md-nav__link">
    Contravariant lifts, transport, and uniqueness
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contravariant-functoriality" class="md-nav__link">
    Contravariant functoriality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contravariant-natural-transformations" class="md-nav__link">
    Contravariant natural transformations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#two-sided-discrete-fibrations" class="md-nav__link">
    Two sided discrete fibrations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closure-properties-of-covariance" class="md-nav__link">
    Closure properties of covariance
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#discrete-fibers" class="md-nav__link">
    Discrete fibers
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/rzk-lang/sHoTT/edit/main/src/simplicial-hott/08-covariant.rzk.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
    </a>
  
  


<h1 id="covariant-families">Covariant families<a class="headerlink" href="#covariant-families" title="Permanent link">&para;</a></h1>
<p>These formalisations correspond to Section 8 of the RS17 paper.</p>
<p>This is a literate <code>rzk</code> file:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nd">#lang</span><span class="p"> </span><span class="s">rzk-1</span>
</span></code></pre></div>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<ul>
<li><code>hott/*</code> - We require various prerequisites from homotopy type theory, for
  instance the notion of contractible types.</li>
<li><code>3-simplicial-type-theory.md</code> — We rely on definitions of simplicies and their
  subshapes.</li>
<li><code>4-extension-types.md</code> — We use Theorem 4.1, an equivalence between lifts.</li>
<li><code>5-segal-types.md</code> - We make use of the notion of Segal types and their
  structures.</li>
<li><code>6-contractible.md</code> - We make use of weak function extensionality.</li>
</ul>
<p>Some of the definitions in this file rely on extension extensionality:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kr">#assume</span><span class="p"> </span>extext<span class="err"> : ExtExt</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kr">#assume</span><span class="p"> </span>weakfunext<span class="err"> : WeakFunExt</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="kr">#assume</span><span class="p"> </span>naiveextext<span class="err"> : NaiveExtExt</span>
</span></code></pre></div>
<h2 id="dependent-hom-types">Dependent hom types<a class="headerlink" href="#dependent-hom-types" title="Permanent link">&para;</a></h2>
<p>In a type family over a base type, there is a dependent hom type of arrows that
live over a specified arrow in the base type.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Section 8 Prelim</span><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:dhom" id="define:dhom" style="visibility: visible; position: relative; color: inherit">dhom</a></span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="err">  : U</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="err">  := </span><span class="p">(</span>t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u , t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err"> ↦ v]</span>
</span></code></pre></div>
<p>It will be convenient to collect together dependent hom types with fixed domain
but varying codomain.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:dhom-from" id="define:dhom-from" style="visibility: visible; position: relative; color: inherit">dhom-from</a></span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="err">  : U</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="err">  := </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> C y) , dhom A x y f C u v)</span>
</span></code></pre></div>
<p>There is also a type of dependent commutative triangles over a base commutative
triangle.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:dhom2" id="define:dhom2" style="visibility: visible; position: relative; color: inherit">dhom2</a></span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="err">  </span><span class="p">( </span>x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="err">  </span><span class="p">( </span>g <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="err">  </span><span class="p">( </span>h <span class="p">:</span><span class="err"> hom A x z)</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> hom2 A x y z f g h)</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="err">  </span><span class="p">( </span>w <span class="p">:</span><span class="err"> C z)</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="err">  </span><span class="p">( </span>ff <span class="p">:</span><span class="err"> dhom A x y f C u v)</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="err">  </span><span class="p">( </span>gg <span class="p">:</span><span class="err"> dhom A y z g C v w)</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="err">  </span><span class="p">( </span>hh <span class="p">:</span><span class="err"> dhom A x z h C u w)</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="err">  : U</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="err">  :=</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="err">    ( (t1 , t2) : Δ²) → C (α (t1 , t2)) [</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="err">        t2 </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ ff t1 ,</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="err">        t1 </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err"> ↦ gg t2 ,</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="err">        t2 </span><span class="sx">≡</span><span class="err"> t1 ↦ hh t2</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="err">      ]</span>
</span></code></pre></div>
<h2 id="covariant-families_1">Covariant families<a class="headerlink" href="#covariant-families_1" title="Permanent link">&para;</a></h2>
<p>A family of types over a base type is covariant if every arrow in the base has a
unique lift with specified domain.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Definition 8.2</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-covariant" id="define:is-covariant" style="visibility: visible; position: relative; color: inherit">is-covariant</a></span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="err">  : U</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="err">  :=</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="err">    </span><span class="p">( </span>x <span class="p">:</span><span class="err"> A) → </span><span class="p">(</span>y <span class="p">:</span><span class="err"> A) → </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y) → </span><span class="p">(</span>u <span class="p">:</span><span class="err"> C x) →</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="err">    is-contr (dhom-from A x y f C u)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">The type of covariant families over a fixed type</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:covariant-family" id="define:covariant-family" style="visibility: visible; position: relative; color: inherit">covariant-family</a></span><span class="err"> </span><span class="p">(</span>A <span class="p">:</span><span class="err"> U) : U</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="err">  := </span><span class="p">( </span>Σ (C <span class="p">:</span><span class="err"> (A → U)) , is-covariant A C)</span>
</span></code></pre></div>
<p>The notion of a covariant family is stable under substitution into the base.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Remark 8.3</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-covariant-substitution-is-covariant" id="define:is-covariant-substitution-is-covariant" style="visibility: visible; position: relative; color: inherit">is-covariant-substitution-is-covariant</a></span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="err">  </span><span class="p">( </span>g <span class="p">:</span><span class="err"> B → A)</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="err">  : is-covariant B (</span><span class="p">\ </span>b <span class="err">→ C (g b))</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="err">  := </span><span class="p">\ </span>x y f u <span class="err">→ is-covariant-C (g x) (g y) (ap-hom B A g x y f) u</span>
</span></code></pre></div>
<p>The notion of having a unique lift with a fixed domain may also be expressed by
contractibility of the type of extensions along the domain inclusion into the
1-simplex.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-unique-fixed-domain-lifts" id="define:has-unique-fixed-domain-lifts" style="visibility: visible; position: relative; color: inherit">has-unique-fixed-domain-lifts</a></span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="err">  : U</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="err">  :=</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="err">    </span><span class="p">( </span>x <span class="p">:</span><span class="err"> A) → </span><span class="p">(</span>y <span class="p">:</span><span class="err"> A) → </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y) → </span><span class="p">(</span>u <span class="p">:</span><span class="err"> C x) →</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="err">    is-contr </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [ t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u])</span>
</span></code></pre></div>
<p>These two notions of covariance are equivalent because the two types of lifts of
a base arrow with fixed domain are equivalent. Note that this is not quite an
instance of Theorem 4.4 but its proof, with a very small modification, works
here.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-lifts-with-fixed-domain" id="define:equiv-lifts-with-fixed-domain" style="visibility: visible; position: relative; color: inherit">equiv-lifts-with-fixed-domain</a></span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="err">  : Equiv</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="err">      </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [ t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u])</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="err">      (dhom-from A x y f C u)</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="err">  :=</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="err">    ( </span><span class="p">\ </span>h <span class="err">→ (h </span><span class="m">1₂</span><span class="err"> , </span><span class="p">\ </span>t <span class="err">→ h t) ,</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="err">      ( ( </span><span class="p">\ </span>fg t <span class="err">→ (</span><span class="s">second</span><span class="err"> fg) t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">) ,</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="err">        ( ( </span><span class="p">\ </span>fg t <span class="err">→ (</span><span class="s">second</span><span class="err"> fg) t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">))))</span>
</span></code></pre></div>
<p>By the equivalence-invariance of contractibility, this proves the desired
logical equivalence</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-covariant-has-unique-fixed-domain-lifts" id="define:is-covariant-has-unique-fixed-domain-lifts" style="visibility: visible; position: relative; color: inherit">is-covariant-has-unique-fixed-domain-lifts</a></span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="err">  : (has-unique-fixed-domain-lifts A C) → ( is-covariant A C)</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="err">  :=</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="err">    </span><span class="p">\ </span>C-has-unique-lifts x y f u <span class="err">→</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="err">      is-contr-equiv-is-contr</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="err">        </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [ t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u])</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="err">        ( dhom-from A x y f C u)</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="err">        ( equiv-lifts-with-fixed-domain A C x y f u)</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="err">        ( C-has-unique-lifts x y f u)</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-unique-fixed-domain-lifts-is-covariant" id="define:has-unique-fixed-domain-lifts-is-covariant" style="visibility: visible; position: relative; color: inherit">has-unique-fixed-domain-lifts-is-covariant</a></span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="err">  : (is-covariant A C) → (has-unique-fixed-domain-lifts A C)</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="err">  :=</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="err">    </span><span class="p">\ </span>is-covariant-C x y f u <span class="err">→</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="err">      is-contr-equiv-is-contr&#39;</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="err">        </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [ t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u])</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="err">        ( dhom-from A x y f C u)</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="err">        ( equiv-lifts-with-fixed-domain A C x y f u)</span>
</span><span id="__span-10-23"><a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="err">        ( is-covariant-C x y f u)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.4</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-unique-fixed-domain-lifts-iff-is-covariant" id="define:has-unique-fixed-domain-lifts-iff-is-covariant" style="visibility: visible; position: relative; color: inherit">has-unique-fixed-domain-lifts-iff-is-covariant</a></span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="err">  : iff</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="err">      ( has-unique-fixed-domain-lifts A C)</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="err">      ( is-covariant A C)</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="err">  :=</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="err">    ( is-covariant-has-unique-fixed-domain-lifts A C,</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="err">      has-unique-fixed-domain-lifts-is-covariant A C)</span>
</span></code></pre></div>
<h2 id="naive-left-fibrations">Naive left fibrations<a class="headerlink" href="#naive-left-fibrations" title="Permanent link">&para;</a></h2>
<p>For any functor <code>p : Ĉ → A</code>, we can make a naive definition of what it means to
be a left fibration.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-naive-left-fibration" id="define:is-naive-left-fibration" style="visibility: visible; position: relative; color: inherit">is-naive-left-fibration</a></span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="err">  </span><span class="p">( </span>A Ĉ <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="err">  </span><span class="p">( </span>p <span class="p">:</span><span class="err"> Ĉ → A)</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="err">  : U</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="err">  :=</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="err">    is-homotopy-cartesian</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="err">      Ĉ (coslice Ĉ)</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="err">      A (coslice A)</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="err">      p (coslice-fun Ĉ A p)</span>
</span></code></pre></div>
<p>As a sanity check we unpack the definition of <code>is-naive-left-fibration</code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-naive-left-fibration-unpacked" id="define:is-naive-left-fibration-unpacked" style="visibility: visible; position: relative; color: inherit">is-naive-left-fibration-unpacked</a></span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="err">  </span><span class="p">( </span>A Ĉ <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="err">  </span><span class="p">( </span>p <span class="p">:</span><span class="err"> Ĉ → A)</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="err">  : is-naive-left-fibration A Ĉ p =</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="err">      </span><span class="p">(</span>(c <span class="p">:</span><span class="err"> Ĉ) → is-equiv (coslice Ĉ c) (coslice A (p c)) (coslice-fun Ĉ A p c))</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="err">  := </span><span class="s">refl</span>
</span></code></pre></div>
<h3 id="naive-left-fibrations-are-left-fibrations">Naive left fibrations are left fibrations<a class="headerlink" href="#naive-left-fibrations-are-left-fibrations" title="Permanent link">&para;</a></h3>
<p>A map <code>α : A' → A</code> is called a left fibration if it is right orthogonal to the
shape inclusion <code>{0} ⊂ Δ¹</code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nd">#section</span><span class="n"> is-left-fibration</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="kr">#variables</span><span class="p"> </span>A&#39; A<span class="err"> : U</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="kr">#variable</span><span class="p"> </span>α<span class="err"> : A&#39; → A</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-left-fibration" id="define:is-left-fibration" style="visibility: visible; position: relative; color: inherit">is-left-fibration</a></span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="err">  : U</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="err">  := is-right-orthogonal-to-shape </span><span class="kt">2</span><span class="err"> Δ¹ ( </span><span class="p">\ </span>s <span class="err">→ s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) A&#39; A α</span>
</span></code></pre></div>
<p>This notion agrees with that of a naive left fibration.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-left-fibration-is-naive-left-fibration" id="define:is-left-fibration-is-naive-left-fibration" style="visibility: visible; position: relative; color: inherit">is-left-fibration-is-naive-left-fibration</a></span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="err">  </span><span class="p">( </span>is-nlf <span class="p">:</span><span class="err"> is-naive-left-fibration A A&#39; α)</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="err">  : is-left-fibration</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="err">  :=</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="err">    </span><span class="p">\ </span>a&#39; <span class="err">→</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="err">      is-equiv-equiv-is-equiv</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="err">        ( coslice&#39; A&#39; (a&#39; </span><span class="m">0₂</span><span class="err">)) (coslice&#39; A (α (a&#39; </span><span class="m">0₂</span><span class="err">)))</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="err">        ( </span><span class="p">\ </span>σ&#39; t <span class="err">→ α (σ&#39; t))</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="err">        ( coslice A&#39; (a&#39; </span><span class="m">0₂</span><span class="err">)) (coslice A (α (a&#39; </span><span class="m">0₂</span><span class="err">)))</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="err">        ( coslice-fun A&#39; A α (a&#39; </span><span class="m">0₂</span><span class="err">))</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="err">        ( ( coslice-coslice&#39; A&#39; (a&#39; </span><span class="m">0₂</span><span class="err">), coslice-coslice&#39; A (α (a&#39; </span><span class="m">0₂</span><span class="err">))),</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="err">          </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="err">        ( is-equiv-coslice-coslice&#39; A&#39; (a&#39; </span><span class="m">0₂</span><span class="err">))</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="err">        ( is-equiv-coslice-coslice&#39; A (α (a&#39; </span><span class="m">0₂</span><span class="err">)))</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="err">        ( is-nlf (a&#39; </span><span class="m">0₂</span><span class="err">))</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-naive-left-fibration-is-left-fibration" id="define:is-naive-left-fibration-is-left-fibration" style="visibility: visible; position: relative; color: inherit">is-naive-left-fibration-is-left-fibration</a></span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="err">  </span><span class="p">( </span>is-lf <span class="p">:</span><span class="err"> is-left-fibration)</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="err">  : is-naive-left-fibration A A&#39; α</span>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a><span class="err">  :=</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="err">    </span><span class="p">\ </span>a&#39; <span class="err">→</span>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="err">      is-equiv-equiv-is-equiv&#39;</span>
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="err">        ( coslice&#39; A&#39; a&#39;) (coslice&#39; A (α a&#39;))</span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="err">        ( </span><span class="p">\ </span>σ&#39; t <span class="err">→ α (σ&#39; t))</span>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="err">        ( coslice A&#39; a&#39;) (coslice A (α a&#39;))</span>
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="err">        ( coslice-fun A&#39; A α a&#39;)</span>
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a><span class="err">        ( ( coslice-coslice&#39; A&#39; a&#39;, coslice-coslice&#39; A (α a&#39;)),</span>
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="err">          </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)</span>
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a><span class="err">        ( is-equiv-coslice-coslice&#39; A&#39; a&#39;)</span>
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="err">        ( is-equiv-coslice-coslice&#39; A (α a&#39;))</span>
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a><span class="err">        ( is-lf (</span><span class="p">\ </span>t <span class="err">→ a&#39;))</span>
</span><span id="__span-15-32"><a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a>
</span><span id="__span-15-33"><a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-naive-left-fibration-iff-is-left-fibration" id="define:is-naive-left-fibration-iff-is-left-fibration" style="visibility: visible; position: relative; color: inherit">is-naive-left-fibration-iff-is-left-fibration</a></span>
</span><span id="__span-15-34"><a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="err">  : iff</span>
</span><span id="__span-15-35"><a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a><span class="err">      ( is-naive-left-fibration A A&#39; α)</span>
</span><span id="__span-15-36"><a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a><span class="err">      ( is-left-fibration)</span>
</span><span id="__span-15-37"><a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a><span class="err">  :=</span>
</span><span id="__span-15-38"><a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a><span class="err">    ( is-left-fibration-is-naive-left-fibration,</span>
</span><span id="__span-15-39"><a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a><span class="err">      is-naive-left-fibration-is-left-fibration)</span>
</span><span id="__span-15-40"><a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a>
</span><span id="__span-15-41"><a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a><span class="nd">#end</span><span class="n"> is-left-fibration</span>
</span></code></pre></div>
<h3 id="left-fibrations-are-inner-fibrations">Left fibrations are inner fibrations<a class="headerlink" href="#left-fibrations-are-inner-fibrations" title="Permanent link">&para;</a></h3>
<p>Recall that an inner fibration is a map <code>α : A' → A</code> which is right orthogonal
to <code>Λ ⊂ Δ²</code>.</p>
<p>We aim to show that every left fibration is an inner fibration. This is a
sequence of manipulations where we start with the assumption that <code>{0} ⊂ Δ¹</code> is
left orthogonal to <code>α : A' → A</code>, i.e.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="nd">#section</span><span class="n"> is-inner-fibration-is-left-fibration</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="kr">#variables</span><span class="p"> </span>A&#39; A<span class="err"> : U</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="kr">#variable</span><span class="p"> </span>α<span class="err"> : A&#39; → A</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="kr">#variable</span><span class="p"> </span>is-left-fib-α<span class="err"> : is-left-fibration A&#39; A α</span>
</span></code></pre></div>
<p>and deduce that various other shape inclusions are left orthogonal as well.</p>
<p>The first step is to identify the pair <code>{0} ⊂ Δ¹</code> with the pair of subshapes
<code>{1} ⊂ right-leg-of-Λ</code> of <code>Λ</code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:right-leg-of-Λ" id="define:right-leg-of-Λ" style="visibility: visible; position: relative; color: inherit">right-leg-of-Λ</a></span><span class="err"> : Λ → TOPE</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="err">  := \ (t, s) → t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-equiv-Δ¹-to-right-leg-of-Λ-rel-start" id="define:is-equiv-Δ¹-to-right-leg-of-Λ-rel-start" style="visibility: visible; position: relative; color: inherit">is-equiv-Δ¹-to-right-leg-of-Λ-rel-start</a></span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="err">  </span><span class="p">( </span>B <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="err">  </span><span class="p">( </span>b <span class="p">:</span><span class="err"> B)</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="err">  : is-equiv</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="err">      </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> Δ¹) → B [ s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ b])</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="err">      ( ( (t,s) : right-leg-of-Λ) → B [ s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ b])</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="err">      ( </span><span class="p">\ </span>τ <span class="err">(t,s) → τ s)</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="err">  :=</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="err">    ( ( </span><span class="p">\ </span>υ s <span class="err">→ υ (</span><span class="m">1₂</span><span class="err">, s) , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">),</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="err">      ( </span><span class="p">\ </span>υ s <span class="err">→ υ (</span><span class="m">1₂</span><span class="err">, s) , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">))</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-right-orthogonal-to-10-1×Δ¹-is-left-fibration" id="define:is-right-orthogonal-to-10-1×Δ¹-is-left-fibration" style="visibility: visible; position: relative; color: inherit">is-right-orthogonal-to-10-1×Δ¹-is-left-fibration</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>is-left-fib-α<span class="p">)</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="err">  : is-right-orthogonal-to-shape</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="err">      ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) (</span><span class="p">\ </span>ts <span class="err">→ right-leg-of-Λ ts) ( \ (_,s) → s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) A&#39; A α</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="err">  :=</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="err">    \ </span><span class="p">( </span>σ&#39; <span class="p">:</span><span class="err"> ( (t,s) : </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err"> | right-leg-of-Λ (t,s) </span><span class="sx">∧</span><span class="err"> s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) → A&#39;) →</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="err">      is-equiv-Equiv-is-equiv&#39;</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="err">        </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> Δ¹) → A&#39; [s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ σ&#39; (</span><span class="m">1₂</span><span class="err">, s)])</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="err">        </span><span class="p">( </span>( s <span class="p">:</span><span class="err"> Δ¹) → A [s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ α (σ&#39; (</span><span class="m">1₂</span><span class="err">, s))])</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="err">        ( </span><span class="p">\ </span>τ s <span class="err">→ α (τ s))</span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="err">        ( ( (_, s) : right-leg-of-Λ) → A&#39; [ s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ σ&#39; (</span><span class="m">1₂</span><span class="err">,s)])</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="err">        ( ( (_, s) : right-leg-of-Λ) → A [ s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ α ( σ&#39; (</span><span class="m">1₂</span><span class="err">,s))])</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a><span class="err">        ( </span><span class="p">\ </span>υ ts <span class="err">→ α (υ ts))</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="err">        ( ( ( </span><span class="p">\ </span>τ&#39; <span class="err">(t,s) → τ&#39; s , </span><span class="p">\ </span>τ <span class="err">(t,s) → τ s) , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">),</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="err">          ( is-equiv-Δ¹-to-right-leg-of-Λ-rel-start A&#39; ( σ&#39; (</span><span class="m">1₂</span><span class="err">, </span><span class="m">0₂</span><span class="err">))</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="err">          , is-equiv-Δ¹-to-right-leg-of-Λ-rel-start A ( α ( σ&#39; (</span><span class="m">1₂</span><span class="err">, </span><span class="m">0₂</span><span class="err">)))</span>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="err">          )</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="err">        )</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a><span class="err">        </span><span class="p">( </span>is-left-fib-α ( \ ( s <span class="p">:</span><span class="err"> </span><span class="kt">2</span><span class="err"> | Δ¹ s </span><span class="sx">∧</span><span class="err"> s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) → σ&#39; (</span><span class="m">1₂</span><span class="err">,s)))</span>
</span></code></pre></div>
<p>Next we use that <code>Λ</code> is the pushout of its left leg and its right leg to deduce
that the pair <code>left-leg-of-Λ ⊂ Λ</code> is left orthogonal.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:left-leg-of-Λ" id="define:left-leg-of-Λ" style="visibility: visible; position: relative; color: inherit">left-leg-of-Λ</a></span><span class="err"> : Λ → TOPE</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="err">  := \ (t, s) → s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-right-orthogonal-to-left-leg-of-Λ-Λ-is-left-fibration" id="define:is-right-orthogonal-to-left-leg-of-Λ-Λ-is-left-fibration" style="visibility: visible; position: relative; color: inherit">is-right-orthogonal-to-left-leg-of-Λ-Λ-is-left-fibration</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>is-left-fib-α<span class="p">)</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="err">  : is-right-orthogonal-to-shape</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="err">      ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) ( </span><span class="p">\ </span>ts <span class="err">→ Λ ts) ( </span><span class="p">\ </span>ts <span class="err">→ left-leg-of-Λ ts) A&#39; A α</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="err">  :=</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="err">    is-right-orthogonal-to-shape-pushout A&#39; A α</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="err">      ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) ( </span><span class="p">\ </span>ts <span class="err">→ right-leg-of-Λ ts) (</span><span class="p">\ </span>ts <span class="err">→ left-leg-of-Λ ts)</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="err">      ( is-right-orthogonal-to-10-1×Δ¹-is-left-fibration)</span>
</span></code></pre></div>
<p>Furthermore, we observe that the pair <code>left-leg-of-Δ ⊂ Δ¹×Δ¹</code> is the product of
<code>Δ¹</code> with the left orthogonal pair <code>{0} ⊂ Δ¹</code>, hence left orthogonal itself.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-right-orthogonal-to-left-leg-of-Λ-Δ¹×Δ¹-is-left-fibration" id="define:is-right-orthogonal-to-left-leg-of-Λ-Δ¹×Δ¹-is-left-fibration" style="visibility: visible; position: relative; color: inherit">is-right-orthogonal-to-left-leg-of-Λ-Δ¹×Δ¹-is-left-fibration</a></span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="p">       </span><span class="k">uses</span><span class="p"> (</span>naiveextext is-left-fib-α<span class="p">)</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="err">  : is-right-orthogonal-to-shape</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="err">      ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) ( </span><span class="p">\ </span>ts <span class="err">→ Δ¹×Δ¹ ts) ( </span><span class="p">\ </span>ts <span class="err">→ left-leg-of-Λ ts) A&#39; A α</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="err">  :=</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="err">    is-right-orthogonal-to-shape-× naiveextext A&#39; A α</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="err">      </span><span class="kt">2</span><span class="err"> Δ¹ </span><span class="kt">2</span><span class="err"> Δ¹ ( </span><span class="p">\ </span>s <span class="err">→ s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) is-left-fib-α</span>
</span></code></pre></div>
<p>Next, we use the left cancellation of left orthogonal shape inclusions to deduce
that <code>Λ ⊂ Δ¹×Δ¹</code> is left orthogonal to <code>α : A' → A</code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-right-orthogonal-to-Λ-Δ¹×Δ¹-is-left-fibration" id="define:is-right-orthogonal-to-Λ-Δ¹×Δ¹-is-left-fibration" style="visibility: visible; position: relative; color: inherit">is-right-orthogonal-to-Λ-Δ¹×Δ¹-is-left-fibration</a></span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="p">       </span><span class="k">uses</span><span class="p"> (</span>naiveextext is-left-fib-α<span class="p">)</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="err">  : is-right-orthogonal-to-shape</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="err">      ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) ( </span><span class="p">\ </span>ts <span class="err">→ Δ¹×Δ¹ ts) ( </span><span class="p">\ </span>ts <span class="err">→ Λ ts) A&#39; A α</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="err">  :=</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="err">    is-right-orthogonal-to-shape-left-cancel A&#39; A α</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="err">      ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) ( </span><span class="p">\ </span>ts <span class="err">→ Δ¹×Δ¹ ts) ( </span><span class="p">\ </span>ts <span class="err">→ Λ ts) ( </span><span class="p">\ </span>ts <span class="err">→ left-leg-of-Λ ts)</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="err">      ( is-right-orthogonal-to-left-leg-of-Λ-Λ-is-left-fibration)</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="err">      ( is-right-orthogonal-to-left-leg-of-Λ-Δ¹×Δ¹-is-left-fibration)</span>
</span></code></pre></div>
<p>Finally, we right cancel the functorial retract <code>Δ² ⊂ Δ¹×Δ¹</code> to obtain the
desired left orthogonal shape inclusion <code>Λ ⊂ Δ²</code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-inner-fibration-is-left-fibration" id="define:is-inner-fibration-is-left-fibration" style="visibility: visible; position: relative; color: inherit">is-inner-fibration-is-left-fibration</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>naiveextext is-left-fib-α<span class="p">)</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="err">  : is-inner-fibration A&#39; A α</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="err">  :=</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="err">    is-right-orthogonal-to-shape-right-cancel-retract A&#39; A α</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="err">      ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) ( </span><span class="p">\ </span>ts <span class="err">→ Δ¹×Δ¹ ts) ( </span><span class="p">\ </span>ts <span class="err">→ Δ² ts) ( </span><span class="p">\ </span>ts <span class="err">→ Λ ts)</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="err">      ( is-right-orthogonal-to-Λ-Δ¹×Δ¹-is-left-fibration)</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="err">      ( Δ²-is-functorial-retract-Δ¹×Δ¹)</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="nd">#end</span><span class="n"> is-inner-fibration-is-left-fibration</span>
</span></code></pre></div>
<p>Since the Segal types are precisely the local types with respect to <code>Λ ⊂ Δ¹</code>, we
immediately deduce that in any left fibration <code>α : A' → A</code>, if <code>A</code> is a Segal
type, then so is <code>A'</code>.</p>
<div class="language-rzk highlight"><span class="filename">Theorem 8.8, categorical version</span><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-segal-domain-left-fibration-is-segal-codomain" id="define:is-segal-domain-left-fibration-is-segal-codomain" style="visibility: visible; position: relative; color: inherit">is-segal-domain-left-fibration-is-segal-codomain</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>naiveextext<span class="p">)</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="err">  </span><span class="p">( </span>A&#39; A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="err">  </span><span class="p">( </span>α <span class="p">:</span><span class="err"> A&#39; → A)</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="err">  </span><span class="p">( </span>is-left-fib-α <span class="p">:</span><span class="err"> is-left-fibration A&#39; A α)</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="err">  : is-segal A&#39;</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="err">  :=</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="err">    is-segal-is-local-horn-inclusion A&#39;</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="err">      ( is-local-type-right-orthogonal-is-local-type</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="err">        ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) Δ² ( </span><span class="p">\ </span>ts <span class="err">→ Λ ts) A&#39; A α</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="err">        ( is-inner-fibration-is-left-fibration A&#39; A α is-left-fib-α)</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="err">        ( is-local-horn-inclusion-is-segal A is-segal-A))</span>
</span></code></pre></div>
<h3 id="naive-left-fibrations-vs-covariant-families">Naive left fibrations vs. covariant families<a class="headerlink" href="#naive-left-fibrations-vs-covariant-families" title="Permanent link">&para;</a></h3>
<p>We aim to prove that a type family <code class="language-rzk highlight"><span class="err">C : A → U</span></code>, is covariant if and only
if the projection <code class="language-rzk highlight"><span class="err">p : total-type A C → A</span></code> is a naive left fibration.</p>
<p>The theorem asserts the logical equivalence of two contractibility statements,
one for the types <code>dhom-from A a a' f C c</code> and one for the fibers of the
canonical map <code>coslice (total-type A C) (a, c) → coslice A a</code>; Thus it suffices
to show that for each <code>a a' : A</code>, <code>f : hom A a a'</code>, <code>c : C a</code>. these two types
are equivalent.</p>
<p>We fix the following variables.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nd">#section</span><span class="n"> is-naive-left-fibration-is-covariant-proof</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="kr">#variable</span><span class="p"> </span>A<span class="err"> : U</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="kr">#variable</span><span class="p"> </span>a<span class="err"> : A</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="kr">#variable</span><span class="p"> </span>C<span class="err"> : A → U</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="kr">#variable</span><span class="p"> </span>c<span class="err"> : C a</span>
</span></code></pre></div>
<p>Note that we do not fix <code>a' : A</code> and <code>f : hom A a a'</code>. Letting these vary lets
us give an easy proof by invoking the induction principle for fibers.</p>
<p>We make some abbreviations to make the proof more readable:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c">-- We prepend all local names in this section</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="c">-- with the random identifyier temp-b9wX</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="c">-- to avoid cluttering the global name space.</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="c">-- Once rzk supports local variables, these should be renamed.</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:temp-b9wX-coslice-fun" id="define:temp-b9wX-coslice-fun" style="visibility: visible; position: relative; color: inherit">temp-b9wX-coslice-fun</a></span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="err">  : coslice (total-type A C) (a, c) → coslice A a</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="err">  := coslice-fun (total-type A C) A (\ (x, _) → x) (a, c)</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:temp-b9wX-fib" id="define:temp-b9wX-fib" style="visibility: visible; position: relative; color: inherit">temp-b9wX-fib</a></span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="err">  </span><span class="p">(</span>a&#39; <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="err">  </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A a a&#39;)</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="err">  : U</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="err">  :=</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="err">    fib (coslice (total-type A C) (a, c))</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="err">        (coslice A a)</span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="err">        (temp-b9wX-coslice-fun)</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="err">        (a&#39;, f)</span>
</span></code></pre></div>
<p>We construct the forward map; this one is straightforward since it goes from
strict extension type to a weak one.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:temp-b9wX-forward" id="define:temp-b9wX-forward" style="visibility: visible; position: relative; color: inherit">temp-b9wX-forward</a></span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="err">  </span><span class="p">( </span>a&#39; <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A a a&#39;)</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="err">  : dhom-from A a a&#39; f C c → temp-b9wX-fib a&#39; f</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="err">  :=</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="err">    \ (c&#39;, f̂) → (((a&#39;, c&#39;), </span><span class="p">\ </span>t <span class="err">→ (f t, f̂ t)) , </span><span class="s">refl</span><span class="err">)</span>
</span></code></pre></div>
<p>The only non-trivial part is showing that this map has a section. We do this by
the following fiber induction.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:temp-b9wX-has-section&#39;-forward" id="define:temp-b9wX-has-section&#39;-forward" style="visibility: visible; position: relative; color: inherit">temp-b9wX-has-section&#39;-forward</a></span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="err">  ( (a&#39;, f) : coslice A a)</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> temp-b9wX-fib a&#39; f)</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="err">  : U</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="err">  := </span><span class="kt">Σ</span><span class="err"> </span><span class="p">( </span>v <span class="p">:</span><span class="err"> dhom-from A a a&#39; f C c), ( temp-b9wX-forward a&#39; f v = u)</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:temp-b9wX-forward-section&#39;" id="define:temp-b9wX-forward-section&#39;" style="visibility: visible; position: relative; color: inherit">temp-b9wX-forward-section&#39;</a></span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="err">  : ( (a&#39;, f) : coslice A a) →</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="err">    </span><span class="p">( </span>u <span class="p">:</span><span class="err"> temp-b9wX-fib a&#39; f) →</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="err">    temp-b9wX-has-section&#39;-forward (a&#39;, f) u</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="err">  :=</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="err">    ind-fib</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="err">      ( coslice (total-type A C) (a, c))</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="err">      ( coslice A a)</span>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="err">      ( temp-b9wX-coslice-fun)</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="err">      ( temp-b9wX-has-section&#39;-forward)</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="err">      (\ ((a&#39;, c&#39;), ĝ) → ((c&#39;, </span><span class="p">\ </span>t <span class="err">→ </span><span class="s">second</span><span class="err"> (ĝ t)) , </span><span class="s">refl</span><span class="err">))</span>
</span></code></pre></div>
<p>We have constructed a section. It is also definitionally a retraction, yielding
the desired equivalence.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:temp-b9wX-has-inverse-forward" id="define:temp-b9wX-has-inverse-forward" style="visibility: visible; position: relative; color: inherit">temp-b9wX-has-inverse-forward</a></span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="err">  </span><span class="p">( </span>a&#39; <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A a a&#39;)</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="err">  : has-inverse</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="err">      (dhom-from A a a&#39; f C c)</span>
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="err">      (temp-b9wX-fib a&#39; f)</span>
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="err">      (temp-b9wX-forward a&#39; f)</span>
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="err">  :=</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="err">    ( </span><span class="p">\ </span>u <span class="err">→ </span><span class="s">first</span><span class="err"> (temp-b9wX-forward-section&#39; (a&#39;, f) u),</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="err">    ( </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">,</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a><span class="err">      </span><span class="p">\ </span>u <span class="err">→ </span><span class="s">second</span><span class="err"> (temp-b9wX-forward-section&#39; (a&#39;, f) u)</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="err">    ))</span>
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:temp-b9wX-the-equivalence" id="define:temp-b9wX-the-equivalence" style="visibility: visible; position: relative; color: inherit">temp-b9wX-the-equivalence</a></span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="err">  </span><span class="p">( </span>a&#39; <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A a a&#39;)</span>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="err">  : Equiv</span>
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="err">      (dhom-from A a a&#39; f C c)</span>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="err">      (temp-b9wX-fib a&#39; f)</span>
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a><span class="err">  :=</span>
</span><span id="__span-27-21"><a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="err">    ( (temp-b9wX-forward a&#39; f),</span>
</span><span id="__span-27-22"><a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="err">      is-equiv-has-inverse</span>
</span><span id="__span-27-23"><a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a><span class="err">        (dhom-from A a a&#39; f C c)</span>
</span><span id="__span-27-24"><a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a><span class="err">        (temp-b9wX-fib a&#39; f)</span>
</span><span id="__span-27-25"><a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a><span class="err">        (temp-b9wX-forward a&#39; f)</span>
</span><span id="__span-27-26"><a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a><span class="err">        (temp-b9wX-has-inverse-forward a&#39; f)</span>
</span><span id="__span-27-27"><a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="err">    )</span>
</span><span id="__span-27-28"><a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a>
</span><span id="__span-27-29"><a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="nd">#end</span><span class="n"> is-naive-left-fibration-is-covariant-proof</span>
</span></code></pre></div>
<p>Finally, we deduce the theorem by some straightforward logical bookkeeping.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 8.5</span><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-naive-left-fibration-is-covariant" id="define:is-naive-left-fibration-is-covariant" style="visibility: visible; position: relative; color: inherit">is-naive-left-fibration-is-covariant</a></span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="err">  : is-naive-left-fibration A (total-type A C) (\ (a, _) → a)</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="err">  :=</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="err">    \ (a, c) →</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="err">      is-equiv-is-contr-map</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="err">        ( coslice (total-type A C) (a, c))</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="err">        ( coslice A a)</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="err">        ( temp-b9wX-coslice-fun A a C c)</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="err">        ( \ (a&#39;, f) →</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="err">          is-contr-equiv-is-contr</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="err">            (dhom-from A a a&#39; f C c)</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="err">            (temp-b9wX-fib A a C c a&#39; f)</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="err">            (temp-b9wX-the-equivalence A a C c a&#39; f)</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="err">            (is-covariant-C a a&#39; f c)</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="err">        )</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-covariant-is-naive-left-fibration" id="define:is-covariant-is-naive-left-fibration" style="visibility: visible; position: relative; color: inherit">is-covariant-is-naive-left-fibration</a></span>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-28-23"><a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="err">  </span><span class="p">( </span>inlf-ΣC <span class="p">:</span><span class="err"> is-naive-left-fibration A (total-type A C) (\ (a, _) → a))</span>
</span><span id="__span-28-24"><a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a><span class="err">  : is-covariant A C</span>
</span><span id="__span-28-25"><a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="err">  :=</span>
</span><span id="__span-28-26"><a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="err">    </span><span class="p">\ </span>a a&#39; f c <span class="err">→</span>
</span><span id="__span-28-27"><a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="err">      is-contr-equiv-is-contr&#39;</span>
</span><span id="__span-28-28"><a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="err">        ( dhom-from A a a&#39; f C c)</span>
</span><span id="__span-28-29"><a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="err">        ( temp-b9wX-fib A a C c a&#39; f)</span>
</span><span id="__span-28-30"><a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="err">        ( temp-b9wX-the-equivalence A a C c a&#39; f)</span>
</span><span id="__span-28-31"><a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a><span class="err">        ( is-contr-map-is-equiv</span>
</span><span id="__span-28-32"><a id="__codelineno-28-32" name="__codelineno-28-32" href="#__codelineno-28-32"></a><span class="err">          ( coslice (total-type A C) (a, c))</span>
</span><span id="__span-28-33"><a id="__codelineno-28-33" name="__codelineno-28-33" href="#__codelineno-28-33"></a><span class="err">          ( coslice A a)</span>
</span><span id="__span-28-34"><a id="__codelineno-28-34" name="__codelineno-28-34" href="#__codelineno-28-34"></a><span class="err">          ( temp-b9wX-coslice-fun A a C c)</span>
</span><span id="__span-28-35"><a id="__codelineno-28-35" name="__codelineno-28-35" href="#__codelineno-28-35"></a><span class="err">          ( inlf-ΣC (a, c))</span>
</span><span id="__span-28-36"><a id="__codelineno-28-36" name="__codelineno-28-36" href="#__codelineno-28-36"></a><span class="err">          (a&#39;, f)</span>
</span><span id="__span-28-37"><a id="__codelineno-28-37" name="__codelineno-28-37" href="#__codelineno-28-37"></a><span class="err">        )</span>
</span><span id="__span-28-38"><a id="__codelineno-28-38" name="__codelineno-28-38" href="#__codelineno-28-38"></a>
</span><span id="__span-28-39"><a id="__codelineno-28-39" name="__codelineno-28-39" href="#__codelineno-28-39"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-naive-left-fibration-iff-is-covariant" id="define:is-naive-left-fibration-iff-is-covariant" style="visibility: visible; position: relative; color: inherit">is-naive-left-fibration-iff-is-covariant</a></span>
</span><span id="__span-28-40"><a id="__codelineno-28-40" name="__codelineno-28-40" href="#__codelineno-28-40"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-28-41"><a id="__codelineno-28-41" name="__codelineno-28-41" href="#__codelineno-28-41"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-28-42"><a id="__codelineno-28-42" name="__codelineno-28-42" href="#__codelineno-28-42"></a><span class="err">  :</span>
</span><span id="__span-28-43"><a id="__codelineno-28-43" name="__codelineno-28-43" href="#__codelineno-28-43"></a><span class="err">    iff</span>
</span><span id="__span-28-44"><a id="__codelineno-28-44" name="__codelineno-28-44" href="#__codelineno-28-44"></a><span class="err">      (is-covariant A C)</span>
</span><span id="__span-28-45"><a id="__codelineno-28-45" name="__codelineno-28-45" href="#__codelineno-28-45"></a><span class="err">      (is-naive-left-fibration A (total-type A C) (\ (a, _) → a))</span>
</span><span id="__span-28-46"><a id="__codelineno-28-46" name="__codelineno-28-46" href="#__codelineno-28-46"></a><span class="err">  :=</span>
</span><span id="__span-28-47"><a id="__codelineno-28-47" name="__codelineno-28-47" href="#__codelineno-28-47"></a><span class="err">    ( is-naive-left-fibration-is-covariant A C,</span>
</span><span id="__span-28-48"><a id="__codelineno-28-48" name="__codelineno-28-48" href="#__codelineno-28-48"></a><span class="err">      is-covariant-is-naive-left-fibration A C)</span>
</span></code></pre></div>
<h2 id="total-type-of-a-covariant-family-over-a-segal-type">Total type of a covariant family over a Segal type<a class="headerlink" href="#total-type-of-a-covariant-family-over-a-segal-type" title="Permanent link">&para;</a></h2>
<p>For every covariant family <code>C : A → U</code>, the projection <code>Σ A, C → A</code> is an left
fibration, hence an inner fibration. It immediately follows that if <code>A</code> is
Segal, then so is <code>Σ A, C</code>.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 8.8</span><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-segal-total-type-covariant-family-is-segal-base" id="define:is-segal-total-type-covariant-family-is-segal-base" style="visibility: visible; position: relative; color: inherit">is-segal-total-type-covariant-family-is-segal-base</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>naiveextext<span class="p">)</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="err">  : is-segal A → is-segal (total-type A C)</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="err">  :=</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="err">    is-segal-domain-left-fibration-is-segal-codomain</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="err">      ( total-type A C) A (\ (a,_) → a)</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="err">        ( is-left-fibration-is-naive-left-fibration</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="err">            ( total-type A C) A (\ (a,_) → a)</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="err">            ( is-naive-left-fibration-is-covariant A C is-covariant-C))</span>
</span></code></pre></div>
<h2 id="representable-covariant-families">Representable covariant families<a class="headerlink" href="#representable-covariant-families" title="Permanent link">&para;</a></h2>
<p>If <code>A</code> is a Segal type and <code>a : A</code> is any term, then <code>hom A a</code> defines a
covariant family over A, and conversely if this family is covariant for every
<code>a : A</code>, then <code>A</code> must be a Segal type. The proof involves a rather lengthy
composition of equivalences.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:dhom-representable" id="define:dhom-representable" style="visibility: visible; position: relative; color: inherit">dhom-representable</a></span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A a y)</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="err">  : U</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="err">  := dhom A x y f (</span><span class="p">\ </span>z <span class="err">→ hom A a z) u v</span>
</span></code></pre></div>
<p>By uncurrying (RS 4.2) we have an equivalence:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:uncurried-dhom-representable" id="define:uncurried-dhom-representable" style="visibility: visible; position: relative; color: inherit">uncurried-dhom-representable</a></span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A a y)</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="err">  : Equiv</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="err">    ( dhom-representable A a x y f u v)</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="err">    ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="err">  :=</span>
</span><span id="__span-31-15"><a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="err">    curry-uncurry </span><span class="kt">2</span><span class="err"> </span><span class="kt">2</span><span class="err"> Δ¹ ∂Δ¹ Δ¹ ∂Δ¹ (</span><span class="p">\ </span>t s <span class="err">→ A)</span>
</span><span id="__span-31-16"><a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="err">    ( \ (t , s) →</span>
</span><span id="__span-31-17"><a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="err">      </span><span class="s">recOR</span>
</span><span id="__span-31-18"><a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="err">        ( (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-31-19"><a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-31-20"><a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-31-21"><a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t))</span>
</span><span id="__span-31-22"><a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a>
</span><span id="__span-31-23"><a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:dhom-from-representable" id="define:dhom-from-representable" style="visibility: visible; position: relative; color: inherit">dhom-from-representable</a></span>
</span><span id="__span-31-24"><a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-31-25"><a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-31-26"><a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-31-27"><a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-31-28"><a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="err">  : U</span>
</span><span id="__span-31-29"><a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="err">  := dhom-from A x y f (</span><span class="p">\ </span>z <span class="err">→ hom A a z) u</span>
</span></code></pre></div>
<p>By uncurrying (RS 4.2) we have an equivalence:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:uncurried-dhom-from-representable" id="define:uncurried-dhom-from-representable" style="visibility: visible; position: relative; color: inherit">uncurried-dhom-from-representable</a></span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="err">  : Equiv</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="err">    </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="err">  :=</span>
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="err">    total-equiv-family-equiv</span>
</span><span id="__span-32-16"><a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="err">      ( hom A a y)</span>
</span><span id="__span-32-17"><a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="err">      ( </span><span class="p">\ </span>v <span class="err">→ dhom-representable A a x y f u v)</span>
</span><span id="__span-32-18"><a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="err">      ( </span><span class="p">\ </span>v <span class="err">→</span>
</span><span id="__span-32-19"><a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-32-20"><a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-32-21"><a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-32-22"><a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-32-23"><a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-32-24"><a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a><span class="err">      ( </span><span class="p">\ </span>v <span class="err">→ uncurried-dhom-representable A a x y f u v)</span>
</span><span id="__span-32-25"><a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a>
</span><span id="__span-32-26"><a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:square-to-hom2-pushout" id="define:square-to-hom2-pushout" style="visibility: visible; position: relative; color: inherit">square-to-hom2-pushout</a></span>
</span><span id="__span-32-27"><a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-32-28"><a id="__codelineno-32-28" name="__codelineno-32-28" href="#__codelineno-32-28"></a><span class="err">  </span><span class="p">( </span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-29"><a id="__codelineno-32-29" name="__codelineno-32-29" href="#__codelineno-32-29"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-32-30"><a id="__codelineno-32-30" name="__codelineno-32-30" href="#__codelineno-32-30"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x z)</span>
</span><span id="__span-32-31"><a id="__codelineno-32-31" name="__codelineno-32-31" href="#__codelineno-32-31"></a><span class="err">  </span><span class="p">( </span>g <span class="p">:</span><span class="err"> hom A w y)</span>
</span><span id="__span-32-32"><a id="__codelineno-32-32" name="__codelineno-32-32" href="#__codelineno-32-32"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-32-33"><a id="__codelineno-32-33" name="__codelineno-32-33" href="#__codelineno-32-33"></a><span class="err">  : ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-32-34"><a id="__codelineno-32-34" name="__codelineno-32-34" href="#__codelineno-32-34"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-32-35"><a id="__codelineno-32-35" name="__codelineno-32-35" href="#__codelineno-32-35"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-32-36"><a id="__codelineno-32-36" name="__codelineno-32-36" href="#__codelineno-32-36"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ g t ,</span>
</span><span id="__span-32-37"><a id="__codelineno-32-37" name="__codelineno-32-37" href="#__codelineno-32-37"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]) →</span>
</span><span id="__span-32-38"><a id="__codelineno-32-38" name="__codelineno-32-38" href="#__codelineno-32-38"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A w z) , product (hom2 A w x z u f d) (hom2 A w y z g v d))</span>
</span><span id="__span-32-39"><a id="__codelineno-32-39" name="__codelineno-32-39" href="#__codelineno-32-39"></a><span class="err">  :=</span>
</span><span id="__span-32-40"><a id="__codelineno-32-40" name="__codelineno-32-40" href="#__codelineno-32-40"></a><span class="err">    </span><span class="p">\ </span>sq <span class="err">→</span>
</span><span id="__span-32-41"><a id="__codelineno-32-41" name="__codelineno-32-41" href="#__codelineno-32-41"></a><span class="err">    ( ( </span><span class="p">\ </span>t <span class="err">→ sq (t , t)) , (\ (t , s) → sq (s , t) , \ (t , s) → sq (t , s)))</span>
</span><span id="__span-32-42"><a id="__codelineno-32-42" name="__codelineno-32-42" href="#__codelineno-32-42"></a>
</span><span id="__span-32-43"><a id="__codelineno-32-43" name="__codelineno-32-43" href="#__codelineno-32-43"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:hom2-pushout-to-square" id="define:hom2-pushout-to-square" style="visibility: visible; position: relative; color: inherit">hom2-pushout-to-square</a></span>
</span><span id="__span-32-44"><a id="__codelineno-32-44" name="__codelineno-32-44" href="#__codelineno-32-44"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-32-45"><a id="__codelineno-32-45" name="__codelineno-32-45" href="#__codelineno-32-45"></a><span class="err">  </span><span class="p">( </span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-46"><a id="__codelineno-32-46" name="__codelineno-32-46" href="#__codelineno-32-46"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-32-47"><a id="__codelineno-32-47" name="__codelineno-32-47" href="#__codelineno-32-47"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x z)</span>
</span><span id="__span-32-48"><a id="__codelineno-32-48" name="__codelineno-32-48" href="#__codelineno-32-48"></a><span class="err">  </span><span class="p">( </span>g <span class="p">:</span><span class="err"> hom A w y)</span>
</span><span id="__span-32-49"><a id="__codelineno-32-49" name="__codelineno-32-49" href="#__codelineno-32-49"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-32-50"><a id="__codelineno-32-50" name="__codelineno-32-50" href="#__codelineno-32-50"></a><span class="err">  : </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A w z) ,</span>
</span><span id="__span-32-51"><a id="__codelineno-32-51" name="__codelineno-32-51" href="#__codelineno-32-51"></a><span class="err">        ( product (hom2 A w x z u f d) (hom2 A w y z g v d))) →</span>
</span><span id="__span-32-52"><a id="__codelineno-32-52" name="__codelineno-32-52" href="#__codelineno-32-52"></a><span class="err">      ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-32-53"><a id="__codelineno-32-53" name="__codelineno-32-53" href="#__codelineno-32-53"></a><span class="err">        A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-32-54"><a id="__codelineno-32-54" name="__codelineno-32-54" href="#__codelineno-32-54"></a><span class="err">            (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-32-55"><a id="__codelineno-32-55" name="__codelineno-32-55" href="#__codelineno-32-55"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ g t ,</span>
</span><span id="__span-32-56"><a id="__codelineno-32-56" name="__codelineno-32-56" href="#__codelineno-32-56"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-32-57"><a id="__codelineno-32-57" name="__codelineno-32-57" href="#__codelineno-32-57"></a><span class="err">  :=</span>
</span><span id="__span-32-58"><a id="__codelineno-32-58" name="__codelineno-32-58" href="#__codelineno-32-58"></a><span class="err">    \ (d , (α1 , α2)) (t , s) →</span>
</span><span id="__span-32-59"><a id="__codelineno-32-59" name="__codelineno-32-59" href="#__codelineno-32-59"></a><span class="err">    </span><span class="s">recOR</span>
</span><span id="__span-32-60"><a id="__codelineno-32-60" name="__codelineno-32-60" href="#__codelineno-32-60"></a><span class="err">      ( t </span><span class="sx">≤</span><span class="err"> s ↦ α1 (s , t) ,</span>
</span><span id="__span-32-61"><a id="__codelineno-32-61" name="__codelineno-32-61" href="#__codelineno-32-61"></a><span class="err">        s </span><span class="sx">≤</span><span class="err"> t ↦ α2 (t , s))</span>
</span><span id="__span-32-62"><a id="__codelineno-32-62" name="__codelineno-32-62" href="#__codelineno-32-62"></a>
</span><span id="__span-32-63"><a id="__codelineno-32-63" name="__codelineno-32-63" href="#__codelineno-32-63"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-square-hom2-pushout" id="define:equiv-square-hom2-pushout" style="visibility: visible; position: relative; color: inherit">equiv-square-hom2-pushout</a></span>
</span><span id="__span-32-64"><a id="__codelineno-32-64" name="__codelineno-32-64" href="#__codelineno-32-64"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-32-65"><a id="__codelineno-32-65" name="__codelineno-32-65" href="#__codelineno-32-65"></a><span class="err">  </span><span class="p">( </span>w x y z <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-66"><a id="__codelineno-32-66" name="__codelineno-32-66" href="#__codelineno-32-66"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A w x)</span>
</span><span id="__span-32-67"><a id="__codelineno-32-67" name="__codelineno-32-67" href="#__codelineno-32-67"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x z)</span>
</span><span id="__span-32-68"><a id="__codelineno-32-68" name="__codelineno-32-68" href="#__codelineno-32-68"></a><span class="err">  </span><span class="p">( </span>g <span class="p">:</span><span class="err"> hom A w y)</span>
</span><span id="__span-32-69"><a id="__codelineno-32-69" name="__codelineno-32-69" href="#__codelineno-32-69"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y z)</span>
</span><span id="__span-32-70"><a id="__codelineno-32-70" name="__codelineno-32-70" href="#__codelineno-32-70"></a><span class="err">  : Equiv</span>
</span><span id="__span-32-71"><a id="__codelineno-32-71" name="__codelineno-32-71" href="#__codelineno-32-71"></a><span class="err">    ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-32-72"><a id="__codelineno-32-72" name="__codelineno-32-72" href="#__codelineno-32-72"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-32-73"><a id="__codelineno-32-73" name="__codelineno-32-73" href="#__codelineno-32-73"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-32-74"><a id="__codelineno-32-74" name="__codelineno-32-74" href="#__codelineno-32-74"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ g t ,</span>
</span><span id="__span-32-75"><a id="__codelineno-32-75" name="__codelineno-32-75" href="#__codelineno-32-75"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-32-76"><a id="__codelineno-32-76" name="__codelineno-32-76" href="#__codelineno-32-76"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A w z) , (product (hom2 A w x z u f d) (hom2 A w y z g v d)))</span>
</span><span id="__span-32-77"><a id="__codelineno-32-77" name="__codelineno-32-77" href="#__codelineno-32-77"></a><span class="err">  :=</span>
</span><span id="__span-32-78"><a id="__codelineno-32-78" name="__codelineno-32-78" href="#__codelineno-32-78"></a><span class="err">    ( ( square-to-hom2-pushout A w x y z u f g v) ,</span>
</span><span id="__span-32-79"><a id="__codelineno-32-79" name="__codelineno-32-79" href="#__codelineno-32-79"></a><span class="err">      ( ( hom2-pushout-to-square A w x y z u f g v , </span><span class="p">\ </span>sq <span class="err">→ </span><span class="s">refl</span><span class="err">) ,</span>
</span><span id="__span-32-80"><a id="__codelineno-32-80" name="__codelineno-32-80" href="#__codelineno-32-80"></a><span class="err">        ( hom2-pushout-to-square A w x y z u f g v , </span><span class="p">\ </span>αs <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span><span id="__span-32-81"><a id="__codelineno-32-81" name="__codelineno-32-81" href="#__codelineno-32-81"></a>
</span><span id="__span-32-82"><a id="__codelineno-32-82" name="__codelineno-32-82" href="#__codelineno-32-82"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-from-uncurry-hom2" id="define:representable-dhom-from-uncurry-hom2" style="visibility: visible; position: relative; color: inherit">representable-dhom-from-uncurry-hom2</a></span>
</span><span id="__span-32-83"><a id="__codelineno-32-83" name="__codelineno-32-83" href="#__codelineno-32-83"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-32-84"><a id="__codelineno-32-84" name="__codelineno-32-84" href="#__codelineno-32-84"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-85"><a id="__codelineno-32-85" name="__codelineno-32-85" href="#__codelineno-32-85"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-32-86"><a id="__codelineno-32-86" name="__codelineno-32-86" href="#__codelineno-32-86"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-32-87"><a id="__codelineno-32-87" name="__codelineno-32-87" href="#__codelineno-32-87"></a><span class="err">  : Equiv</span>
</span><span id="__span-32-88"><a id="__codelineno-32-88" name="__codelineno-32-88" href="#__codelineno-32-88"></a><span class="err">    </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-89"><a id="__codelineno-32-89" name="__codelineno-32-89" href="#__codelineno-32-89"></a><span class="err">      ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-32-90"><a id="__codelineno-32-90" name="__codelineno-32-90" href="#__codelineno-32-90"></a><span class="err">        A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-32-91"><a id="__codelineno-32-91" name="__codelineno-32-91" href="#__codelineno-32-91"></a><span class="err">            (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-32-92"><a id="__codelineno-32-92" name="__codelineno-32-92" href="#__codelineno-32-92"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-32-93"><a id="__codelineno-32-93" name="__codelineno-32-93" href="#__codelineno-32-93"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-32-94"><a id="__codelineno-32-94" name="__codelineno-32-94" href="#__codelineno-32-94"></a><span class="err">    </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-95"><a id="__codelineno-32-95" name="__codelineno-32-95" href="#__codelineno-32-95"></a><span class="err">        </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-96"><a id="__codelineno-32-96" name="__codelineno-32-96" href="#__codelineno-32-96"></a><span class="err">            ( product (hom2 A a x y u f d) (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-97"><a id="__codelineno-32-97" name="__codelineno-32-97" href="#__codelineno-32-97"></a><span class="err">  :=</span>
</span><span id="__span-32-98"><a id="__codelineno-32-98" name="__codelineno-32-98" href="#__codelineno-32-98"></a><span class="err">    total-equiv-family-equiv</span>
</span><span id="__span-32-99"><a id="__codelineno-32-99" name="__codelineno-32-99" href="#__codelineno-32-99"></a><span class="err">    ( hom A a y)</span>
</span><span id="__span-32-100"><a id="__codelineno-32-100" name="__codelineno-32-100" href="#__codelineno-32-100"></a><span class="err">    ( </span><span class="p">\ </span>v <span class="err">→</span>
</span><span id="__span-32-101"><a id="__codelineno-32-101" name="__codelineno-32-101" href="#__codelineno-32-101"></a><span class="err">      ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-32-102"><a id="__codelineno-32-102" name="__codelineno-32-102" href="#__codelineno-32-102"></a><span class="err">        A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-32-103"><a id="__codelineno-32-103" name="__codelineno-32-103" href="#__codelineno-32-103"></a><span class="err">            (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-32-104"><a id="__codelineno-32-104" name="__codelineno-32-104" href="#__codelineno-32-104"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-32-105"><a id="__codelineno-32-105" name="__codelineno-32-105" href="#__codelineno-32-105"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-32-106"><a id="__codelineno-32-106" name="__codelineno-32-106" href="#__codelineno-32-106"></a><span class="err">    </span><span class="p">( </span>\ v →
</span><span id="__span-32-107"><a id="__codelineno-32-107" name="__codelineno-32-107" href="#__codelineno-32-107"></a>      ( Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-108"><a id="__codelineno-32-108" name="__codelineno-32-108" href="#__codelineno-32-108"></a><span class="err">          ( product (hom2 A a x y u f d) (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-109"><a id="__codelineno-32-109" name="__codelineno-32-109" href="#__codelineno-32-109"></a><span class="err">    ( </span><span class="p">\ </span>v <span class="err">→ equiv-square-hom2-pushout A a x a y u f (id-hom A a) v)</span>
</span><span id="__span-32-110"><a id="__codelineno-32-110" name="__codelineno-32-110" href="#__codelineno-32-110"></a>
</span><span id="__span-32-111"><a id="__codelineno-32-111" name="__codelineno-32-111" href="#__codelineno-32-111"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-from-hom2" id="define:representable-dhom-from-hom2" style="visibility: visible; position: relative; color: inherit">representable-dhom-from-hom2</a></span>
</span><span id="__span-32-112"><a id="__codelineno-32-112" name="__codelineno-32-112" href="#__codelineno-32-112"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-32-113"><a id="__codelineno-32-113" name="__codelineno-32-113" href="#__codelineno-32-113"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-114"><a id="__codelineno-32-114" name="__codelineno-32-114" href="#__codelineno-32-114"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-32-115"><a id="__codelineno-32-115" name="__codelineno-32-115" href="#__codelineno-32-115"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-32-116"><a id="__codelineno-32-116" name="__codelineno-32-116" href="#__codelineno-32-116"></a><span class="err">  : Equiv</span>
</span><span id="__span-32-117"><a id="__codelineno-32-117" name="__codelineno-32-117" href="#__codelineno-32-117"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-32-118"><a id="__codelineno-32-118" name="__codelineno-32-118" href="#__codelineno-32-118"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-119"><a id="__codelineno-32-119" name="__codelineno-32-119" href="#__codelineno-32-119"></a><span class="err">        </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-120"><a id="__codelineno-32-120" name="__codelineno-32-120" href="#__codelineno-32-120"></a><span class="err">            ( product (hom2 A a x y u f d) (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-121"><a id="__codelineno-32-121" name="__codelineno-32-121" href="#__codelineno-32-121"></a><span class="err">  :=</span>
</span><span id="__span-32-122"><a id="__codelineno-32-122" name="__codelineno-32-122" href="#__codelineno-32-122"></a><span class="err">    equiv-triple-comp</span>
</span><span id="__span-32-123"><a id="__codelineno-32-123" name="__codelineno-32-123" href="#__codelineno-32-123"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-32-124"><a id="__codelineno-32-124" name="__codelineno-32-124" href="#__codelineno-32-124"></a><span class="err">    </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-125"><a id="__codelineno-32-125" name="__codelineno-32-125" href="#__codelineno-32-125"></a><span class="err">        ( ((t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-32-126"><a id="__codelineno-32-126" name="__codelineno-32-126" href="#__codelineno-32-126"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-32-127"><a id="__codelineno-32-127" name="__codelineno-32-127" href="#__codelineno-32-127"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-32-128"><a id="__codelineno-32-128" name="__codelineno-32-128" href="#__codelineno-32-128"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-32-129"><a id="__codelineno-32-129" name="__codelineno-32-129" href="#__codelineno-32-129"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-32-130"><a id="__codelineno-32-130" name="__codelineno-32-130" href="#__codelineno-32-130"></a><span class="err">    </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-131"><a id="__codelineno-32-131" name="__codelineno-32-131" href="#__codelineno-32-131"></a><span class="err">        </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-132"><a id="__codelineno-32-132" name="__codelineno-32-132" href="#__codelineno-32-132"></a><span class="err">            ( product (hom2 A a x y u f d) (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-133"><a id="__codelineno-32-133" name="__codelineno-32-133" href="#__codelineno-32-133"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-134"><a id="__codelineno-32-134" name="__codelineno-32-134" href="#__codelineno-32-134"></a><span class="err">        </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-135"><a id="__codelineno-32-135" name="__codelineno-32-135" href="#__codelineno-32-135"></a><span class="err">            ( product (hom2 A a x y u f d) (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-136"><a id="__codelineno-32-136" name="__codelineno-32-136" href="#__codelineno-32-136"></a><span class="err">    ( uncurried-dhom-from-representable A a x y f u)</span>
</span><span id="__span-32-137"><a id="__codelineno-32-137" name="__codelineno-32-137" href="#__codelineno-32-137"></a><span class="err">    ( representable-dhom-from-uncurry-hom2 A a x y f u)</span>
</span><span id="__span-32-138"><a id="__codelineno-32-138" name="__codelineno-32-138" href="#__codelineno-32-138"></a><span class="err">    ( fubini-Σ (hom A a y) (hom A a y)</span>
</span><span id="__span-32-139"><a id="__codelineno-32-139" name="__codelineno-32-139" href="#__codelineno-32-139"></a><span class="err">      ( </span><span class="p">\ </span>v d <span class="err">→ product (hom2 A a x y u f d) (hom2 A a a y (id-hom A a) v d)))</span>
</span><span id="__span-32-140"><a id="__codelineno-32-140" name="__codelineno-32-140" href="#__codelineno-32-140"></a>
</span><span id="__span-32-141"><a id="__codelineno-32-141" name="__codelineno-32-141" href="#__codelineno-32-141"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-from-hom2-dist" id="define:representable-dhom-from-hom2-dist" style="visibility: visible; position: relative; color: inherit">representable-dhom-from-hom2-dist</a></span>
</span><span id="__span-32-142"><a id="__codelineno-32-142" name="__codelineno-32-142" href="#__codelineno-32-142"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-32-143"><a id="__codelineno-32-143" name="__codelineno-32-143" href="#__codelineno-32-143"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-32-144"><a id="__codelineno-32-144" name="__codelineno-32-144" href="#__codelineno-32-144"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-32-145"><a id="__codelineno-32-145" name="__codelineno-32-145" href="#__codelineno-32-145"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-32-146"><a id="__codelineno-32-146" name="__codelineno-32-146" href="#__codelineno-32-146"></a><span class="err">  : Equiv</span>
</span><span id="__span-32-147"><a id="__codelineno-32-147" name="__codelineno-32-147" href="#__codelineno-32-147"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-32-148"><a id="__codelineno-32-148" name="__codelineno-32-148" href="#__codelineno-32-148"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-149"><a id="__codelineno-32-149" name="__codelineno-32-149" href="#__codelineno-32-149"></a><span class="err">        ( product</span>
</span><span id="__span-32-150"><a id="__codelineno-32-150" name="__codelineno-32-150" href="#__codelineno-32-150"></a><span class="err">          ( hom2 A a x y u f d)</span>
</span><span id="__span-32-151"><a id="__codelineno-32-151" name="__codelineno-32-151" href="#__codelineno-32-151"></a><span class="err">          </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-152"><a id="__codelineno-32-152" name="__codelineno-32-152" href="#__codelineno-32-152"></a><span class="err">  :=</span>
</span><span id="__span-32-153"><a id="__codelineno-32-153" name="__codelineno-32-153" href="#__codelineno-32-153"></a><span class="err">    equiv-right-cancel</span>
</span><span id="__span-32-154"><a id="__codelineno-32-154" name="__codelineno-32-154" href="#__codelineno-32-154"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-32-155"><a id="__codelineno-32-155" name="__codelineno-32-155" href="#__codelineno-32-155"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-156"><a id="__codelineno-32-156" name="__codelineno-32-156" href="#__codelineno-32-156"></a><span class="err">        ( product</span>
</span><span id="__span-32-157"><a id="__codelineno-32-157" name="__codelineno-32-157" href="#__codelineno-32-157"></a><span class="err">          ( hom2 A a x y u f d)</span>
</span><span id="__span-32-158"><a id="__codelineno-32-158" name="__codelineno-32-158" href="#__codelineno-32-158"></a><span class="err">          </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , hom2 A a a y (id-hom A a) v d)))</span>
</span><span id="__span-32-159"><a id="__codelineno-32-159" name="__codelineno-32-159" href="#__codelineno-32-159"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-160"><a id="__codelineno-32-160" name="__codelineno-32-160" href="#__codelineno-32-160"></a><span class="err">        </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-161"><a id="__codelineno-32-161" name="__codelineno-32-161" href="#__codelineno-32-161"></a><span class="err">            ( product (hom2 A a x y u f d) (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-162"><a id="__codelineno-32-162" name="__codelineno-32-162" href="#__codelineno-32-162"></a><span class="err">    ( representable-dhom-from-hom2 A a x y f u)</span>
</span><span id="__span-32-163"><a id="__codelineno-32-163" name="__codelineno-32-163" href="#__codelineno-32-163"></a><span class="err">    ( total-equiv-family-equiv</span>
</span><span id="__span-32-164"><a id="__codelineno-32-164" name="__codelineno-32-164" href="#__codelineno-32-164"></a><span class="err">      ( hom A a y)</span>
</span><span id="__span-32-165"><a id="__codelineno-32-165" name="__codelineno-32-165" href="#__codelineno-32-165"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→</span>
</span><span id="__span-32-166"><a id="__codelineno-32-166" name="__codelineno-32-166" href="#__codelineno-32-166"></a><span class="err">        ( product</span>
</span><span id="__span-32-167"><a id="__codelineno-32-167" name="__codelineno-32-167" href="#__codelineno-32-167"></a><span class="err">          ( hom2 A a x y u f d)</span>
</span><span id="__span-32-168"><a id="__codelineno-32-168" name="__codelineno-32-168" href="#__codelineno-32-168"></a><span class="err">          </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-169"><a id="__codelineno-32-169" name="__codelineno-32-169" href="#__codelineno-32-169"></a><span class="err">      </span><span class="p">( </span>\ d →
</span><span id="__span-32-170"><a id="__codelineno-32-170" name="__codelineno-32-170" href="#__codelineno-32-170"></a>        ( Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-32-171"><a id="__codelineno-32-171" name="__codelineno-32-171" href="#__codelineno-32-171"></a><span class="err">            ( product (hom2 A a x y u f d) (hom2 A a a y (id-hom A a) v d))))</span>
</span><span id="__span-32-172"><a id="__codelineno-32-172" name="__codelineno-32-172" href="#__codelineno-32-172"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→</span>
</span><span id="__span-32-173"><a id="__codelineno-32-173" name="__codelineno-32-173" href="#__codelineno-32-173"></a><span class="err">        ( distributive-product-Σ</span>
</span><span id="__span-32-174"><a id="__codelineno-32-174" name="__codelineno-32-174" href="#__codelineno-32-174"></a><span class="err">          ( hom2 A a x y u f d)</span>
</span><span id="__span-32-175"><a id="__codelineno-32-175" name="__codelineno-32-175" href="#__codelineno-32-175"></a><span class="err">          ( hom A a y)</span>
</span><span id="__span-32-176"><a id="__codelineno-32-176" name="__codelineno-32-176" href="#__codelineno-32-176"></a><span class="err">          ( </span><span class="p">\ </span>v <span class="err">→ hom2 A a a y (id-hom A a) v d))))</span>
</span></code></pre></div>
<p>Now we introduce the hypothesis that A is Segal type.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-from-path-space-is-segal" id="define:representable-dhom-from-path-space-is-segal" style="visibility: visible; position: relative; color: inherit">representable-dhom-from-path-space-is-segal</a></span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="err">  : Equiv</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="err">        ( product (hom2 A a x y u f d) </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , (v = d))))</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="err">  :=</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="err">    equiv-right-cancel</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="err">        ( product (hom2 A a x y u f d) </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , (v = d))))</span>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="err">        ( product</span>
</span><span id="__span-33-18"><a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="err">          ( hom2 A a x y u f d)</span>
</span><span id="__span-33-19"><a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="err">          </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , hom2 A a a y (id-hom A a) v d)))</span>
</span><span id="__span-33-20"><a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="err">    ( representable-dhom-from-hom2-dist A a x y f u)</span>
</span><span id="__span-33-21"><a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="err">    ( total-equiv-family-equiv</span>
</span><span id="__span-33-22"><a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="err">      ( hom A a y)</span>
</span><span id="__span-33-23"><a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→ product (hom2 A a x y u f d) </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , (v = d)))</span>
</span><span id="__span-33-24"><a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→</span>
</span><span id="__span-33-25"><a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="err">        ( product</span>
</span><span id="__span-33-26"><a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a><span class="err">          ( hom2 A a x y u f d)</span>
</span><span id="__span-33-27"><a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a><span class="err">          </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , hom2 A a a y (id-hom A a) v d)))</span>
</span><span id="__span-33-28"><a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→</span>
</span><span id="__span-33-29"><a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a><span class="err">        ( total-equiv-family-equiv</span>
</span><span id="__span-33-30"><a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a><span class="err">          ( hom2 A a x y u f d)</span>
</span><span id="__span-33-31"><a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a><span class="err">          </span><span class="p">( </span>\ α → (Σ (v <span class="p">:</span><span class="err"> hom A a y) , (v = d)))</span>
</span><span id="__span-33-32"><a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a><span class="err">          </span><span class="p">( </span>\ α → (Σ (v <span class="p">:</span><span class="err"> hom A a y) , hom2 A a a y (id-hom A a) v d))</span>
</span><span id="__span-33-33"><a id="__codelineno-33-33" name="__codelineno-33-33" href="#__codelineno-33-33"></a><span class="err">          ( </span><span class="p">\ </span>α <span class="err">→</span>
</span><span id="__span-33-34"><a id="__codelineno-33-34" name="__codelineno-33-34" href="#__codelineno-33-34"></a><span class="err">            ( total-equiv-family-equiv</span>
</span><span id="__span-33-35"><a id="__codelineno-33-35" name="__codelineno-33-35" href="#__codelineno-33-35"></a><span class="err">              ( hom A a y)</span>
</span><span id="__span-33-36"><a id="__codelineno-33-36" name="__codelineno-33-36" href="#__codelineno-33-36"></a><span class="err">              ( </span><span class="p">\ </span>v <span class="err">→ (v = d))</span>
</span><span id="__span-33-37"><a id="__codelineno-33-37" name="__codelineno-33-37" href="#__codelineno-33-37"></a><span class="err">              ( </span><span class="p">\ </span>v <span class="err">→ hom2 A a a y (id-hom A a) v d)</span>
</span><span id="__span-33-38"><a id="__codelineno-33-38" name="__codelineno-33-38" href="#__codelineno-33-38"></a><span class="err">              ( </span><span class="p">\ </span>v <span class="err">→ (equiv-homotopy-hom2-is-segal A is-segal-A a y v d)))))))</span>
</span><span id="__span-33-39"><a id="__codelineno-33-39" name="__codelineno-33-39" href="#__codelineno-33-39"></a>
</span><span id="__span-33-40"><a id="__codelineno-33-40" name="__codelineno-33-40" href="#__codelineno-33-40"></a>
</span><span id="__span-33-41"><a id="__codelineno-33-41" name="__codelineno-33-41" href="#__codelineno-33-41"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:codomain-based-paths-contraction" id="define:codomain-based-paths-contraction" style="visibility: visible; position: relative; color: inherit">codomain-based-paths-contraction</a></span>
</span><span id="__span-33-42"><a id="__codelineno-33-42" name="__codelineno-33-42" href="#__codelineno-33-42"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-33-43"><a id="__codelineno-33-43" name="__codelineno-33-43" href="#__codelineno-33-43"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-33-44"><a id="__codelineno-33-44" name="__codelineno-33-44" href="#__codelineno-33-44"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-33-45"><a id="__codelineno-33-45" name="__codelineno-33-45" href="#__codelineno-33-45"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-33-46"><a id="__codelineno-33-46" name="__codelineno-33-46" href="#__codelineno-33-46"></a><span class="err">  </span><span class="p">( </span>d <span class="p">:</span><span class="err"> hom A a y)</span>
</span><span id="__span-33-47"><a id="__codelineno-33-47" name="__codelineno-33-47" href="#__codelineno-33-47"></a><span class="err">  : Equiv</span>
</span><span id="__span-33-48"><a id="__codelineno-33-48" name="__codelineno-33-48" href="#__codelineno-33-48"></a><span class="err">    ( product (hom2 A a x y u f d) </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , (v = d)))</span>
</span><span id="__span-33-49"><a id="__codelineno-33-49" name="__codelineno-33-49" href="#__codelineno-33-49"></a><span class="err">    ( hom2 A a x y u f d)</span>
</span><span id="__span-33-50"><a id="__codelineno-33-50" name="__codelineno-33-50" href="#__codelineno-33-50"></a><span class="err">  :=</span>
</span><span id="__span-33-51"><a id="__codelineno-33-51" name="__codelineno-33-51" href="#__codelineno-33-51"></a><span class="err">    equiv-projection-contractible-fibers</span>
</span><span id="__span-33-52"><a id="__codelineno-33-52" name="__codelineno-33-52" href="#__codelineno-33-52"></a><span class="err">      ( hom2 A a x y u f d)</span>
</span><span id="__span-33-53"><a id="__codelineno-33-53" name="__codelineno-33-53" href="#__codelineno-33-53"></a><span class="err">      </span><span class="p">( </span>\ α → (Σ (v <span class="p">:</span><span class="err"> hom A a y) , (v = d)))</span>
</span><span id="__span-33-54"><a id="__codelineno-33-54" name="__codelineno-33-54" href="#__codelineno-33-54"></a><span class="err">      ( </span><span class="p">\ </span>α <span class="err">→ is-contr-endpoint-based-paths (hom A a y) d)</span>
</span><span id="__span-33-55"><a id="__codelineno-33-55" name="__codelineno-33-55" href="#__codelineno-33-55"></a>
</span><span id="__span-33-56"><a id="__codelineno-33-56" name="__codelineno-33-56" href="#__codelineno-33-56"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-segal-representable-dhom-from-hom2" id="define:is-segal-representable-dhom-from-hom2" style="visibility: visible; position: relative; color: inherit">is-segal-representable-dhom-from-hom2</a></span>
</span><span id="__span-33-57"><a id="__codelineno-33-57" name="__codelineno-33-57" href="#__codelineno-33-57"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-33-58"><a id="__codelineno-33-58" name="__codelineno-33-58" href="#__codelineno-33-58"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-33-59"><a id="__codelineno-33-59" name="__codelineno-33-59" href="#__codelineno-33-59"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-33-60"><a id="__codelineno-33-60" name="__codelineno-33-60" href="#__codelineno-33-60"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-33-61"><a id="__codelineno-33-61" name="__codelineno-33-61" href="#__codelineno-33-61"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-33-62"><a id="__codelineno-33-62" name="__codelineno-33-62" href="#__codelineno-33-62"></a><span class="err">  : Equiv</span>
</span><span id="__span-33-63"><a id="__codelineno-33-63" name="__codelineno-33-63" href="#__codelineno-33-63"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-33-64"><a id="__codelineno-33-64" name="__codelineno-33-64" href="#__codelineno-33-64"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A a y) , (hom2 A a x y u f d))</span>
</span><span id="__span-33-65"><a id="__codelineno-33-65" name="__codelineno-33-65" href="#__codelineno-33-65"></a><span class="err">  :=</span>
</span><span id="__span-33-66"><a id="__codelineno-33-66" name="__codelineno-33-66" href="#__codelineno-33-66"></a><span class="err">    equiv-comp</span>
</span><span id="__span-33-67"><a id="__codelineno-33-67" name="__codelineno-33-67" href="#__codelineno-33-67"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-33-68"><a id="__codelineno-33-68" name="__codelineno-33-68" href="#__codelineno-33-68"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-33-69"><a id="__codelineno-33-69" name="__codelineno-33-69" href="#__codelineno-33-69"></a><span class="err">      ( product (hom2 A a x y u f d) </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , (v = d))))</span>
</span><span id="__span-33-70"><a id="__codelineno-33-70" name="__codelineno-33-70" href="#__codelineno-33-70"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A a y) , (hom2 A a x y u f d))</span>
</span><span id="__span-33-71"><a id="__codelineno-33-71" name="__codelineno-33-71" href="#__codelineno-33-71"></a><span class="err">    ( representable-dhom-from-path-space-is-segal A is-segal-A a x y f u)</span>
</span><span id="__span-33-72"><a id="__codelineno-33-72" name="__codelineno-33-72" href="#__codelineno-33-72"></a><span class="err">    ( total-equiv-family-equiv</span>
</span><span id="__span-33-73"><a id="__codelineno-33-73" name="__codelineno-33-73" href="#__codelineno-33-73"></a><span class="err">      ( hom A a y)</span>
</span><span id="__span-33-74"><a id="__codelineno-33-74" name="__codelineno-33-74" href="#__codelineno-33-74"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→ product (hom2 A a x y u f d) </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> hom A a y) , (v = d)))</span>
</span><span id="__span-33-75"><a id="__codelineno-33-75" name="__codelineno-33-75" href="#__codelineno-33-75"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→ hom2 A a x y u f d)</span>
</span><span id="__span-33-76"><a id="__codelineno-33-76" name="__codelineno-33-76" href="#__codelineno-33-76"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→ codomain-based-paths-contraction A a x y f u d))</span>
</span><span id="__span-33-77"><a id="__codelineno-33-77" name="__codelineno-33-77" href="#__codelineno-33-77"></a>
</span><span id="__span-33-78"><a id="__codelineno-33-78" name="__codelineno-33-78" href="#__codelineno-33-78"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-segal-representable-dhom-from-contractible" id="define:is-segal-representable-dhom-from-contractible" style="visibility: visible; position: relative; color: inherit">is-segal-representable-dhom-from-contractible</a></span>
</span><span id="__span-33-79"><a id="__codelineno-33-79" name="__codelineno-33-79" href="#__codelineno-33-79"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-33-80"><a id="__codelineno-33-80" name="__codelineno-33-80" href="#__codelineno-33-80"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-33-81"><a id="__codelineno-33-81" name="__codelineno-33-81" href="#__codelineno-33-81"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-33-82"><a id="__codelineno-33-82" name="__codelineno-33-82" href="#__codelineno-33-82"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-33-83"><a id="__codelineno-33-83" name="__codelineno-33-83" href="#__codelineno-33-83"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-33-84"><a id="__codelineno-33-84" name="__codelineno-33-84" href="#__codelineno-33-84"></a><span class="err">  : is-contr (dhom-from-representable A a x y f u)</span>
</span><span id="__span-33-85"><a id="__codelineno-33-85" name="__codelineno-33-85" href="#__codelineno-33-85"></a><span class="err">  :=</span>
</span><span id="__span-33-86"><a id="__codelineno-33-86" name="__codelineno-33-86" href="#__codelineno-33-86"></a><span class="err">    is-contr-equiv-is-contr&#39;</span>
</span><span id="__span-33-87"><a id="__codelineno-33-87" name="__codelineno-33-87" href="#__codelineno-33-87"></a><span class="err">      ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-33-88"><a id="__codelineno-33-88" name="__codelineno-33-88" href="#__codelineno-33-88"></a><span class="err">      </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A a y) , (hom2 A a x y u f d))</span>
</span><span id="__span-33-89"><a id="__codelineno-33-89" name="__codelineno-33-89" href="#__codelineno-33-89"></a><span class="err">      ( is-segal-representable-dhom-from-hom2 A is-segal-A a x y f u)</span>
</span><span id="__span-33-90"><a id="__codelineno-33-90" name="__codelineno-33-90" href="#__codelineno-33-90"></a><span class="err">      ( is-segal-A a x y u f)</span>
</span></code></pre></div>
<p>Finally, we see that covariant hom families in a Segal type are covariant.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.13(<-)</span><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-covariant-representable-is-segal" id="define:is-covariant-representable-is-segal" style="visibility: visible; position: relative; color: inherit">is-covariant-representable-is-segal</a></span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="err">  </span><span class="p">(</span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="err">  </span><span class="p">(</span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="err">  </span><span class="p">(</span>a <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="err">  : is-covariant A (hom A a)</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="err">  := is-segal-representable-dhom-from-contractible A is-segal-A a</span>
</span></code></pre></div>
<p>The proof of the claimed converse result given in the original source is
circular - using Proposition 5.10, which holds only for Segal types - so instead
we argue as follows:</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.13(→)</span><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-segal-is-covariant-representable" id="define:is-segal-is-covariant-representable" style="visibility: visible; position: relative; color: inherit">is-segal-is-covariant-representable</a></span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="err">  </span><span class="p">( </span>corepresentable-family-is-covariant <span class="p">:</span><span class="err"> </span><span class="p">(</span>a <span class="p">:</span><span class="err"> A) →</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="err">    is-covariant A (</span><span class="p">\ </span>x <span class="err">→ hom A a x))</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="err">  : is-segal A</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="err">  :=</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="err">    </span><span class="p">\ </span>x y z f g <span class="err">→</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="err">    is-contr-base-is-contr-Σ</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="err">    </span><span class="p">( </span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , hom2 A x y z f g h)</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="err">    </span><span class="p">( </span>\ hk → Σ (v <span class="p">:</span><span class="err"> hom A x z) , hom2 A x x z (id-hom A x) v (</span><span class="s">first</span><span class="err"> hk))</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="err">    ( </span><span class="p">\ </span>hk <span class="err">→ (</span><span class="s">first</span><span class="err"> hk , \ (t , s) → </span><span class="s">first</span><span class="err"> hk s))</span>
</span><span id="__span-35-12"><a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="err">    </span><span class="p">( </span>is-contr-equiv-is-contr&#39;
</span><span id="__span-35-13"><a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a>      ( Σ ( hk <span class="p">:</span><span class="err"> </span><span class="kt">Σ</span><span class="err"> </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z) , hom2 A x y z f g h) ,</span>
</span><span id="__span-35-14"><a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="err">          </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A x z) , hom2 A x x z (id-hom A x) v (</span><span class="s">first</span><span class="err"> hk)))</span>
</span><span id="__span-35-15"><a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="err">      ( dhom-from-representable A x y z g f)</span>
</span><span id="__span-35-16"><a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="err">      ( inv-equiv</span>
</span><span id="__span-35-17"><a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="err">        ( dhom-from-representable A x y z g f)</span>
</span><span id="__span-35-18"><a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="err">        </span><span class="p">( </span>Σ ( hk <span class="p">:</span><span class="err"> </span><span class="kt">Σ</span><span class="err"> </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z) , hom2 A x y z f g h) ,</span>
</span><span id="__span-35-19"><a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="err">            </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A x z) , hom2 A x x z (id-hom A x) v (</span><span class="s">first</span><span class="err"> hk)))</span>
</span><span id="__span-35-20"><a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="err">        ( equiv-comp</span>
</span><span id="__span-35-21"><a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="err">          ( dhom-from-representable A x y z g f)</span>
</span><span id="__span-35-22"><a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="err">          </span><span class="p">( </span>Σ ( h <span class="p">:</span><span class="err"> hom A x z) ,</span>
</span><span id="__span-35-23"><a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="err">              ( product</span>
</span><span id="__span-35-24"><a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="err">                ( hom2 A x y z f g h)</span>
</span><span id="__span-35-25"><a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a><span class="err">                </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A x z) , hom2 A x x z (id-hom A x) v h)))</span>
</span><span id="__span-35-26"><a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a><span class="err">          </span><span class="p">( </span>Σ ( hk <span class="p">:</span><span class="err"> </span><span class="kt">Σ</span><span class="err"> </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z) , hom2 A x y z f g h) ,</span>
</span><span id="__span-35-27"><a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a><span class="err">              </span><span class="p">( </span>Σ (v <span class="p">:</span><span class="err"> hom A x z) , hom2 A x x z (id-hom A x) v (</span><span class="s">first</span><span class="err"> hk)))</span>
</span><span id="__span-35-28"><a id="__codelineno-35-28" name="__codelineno-35-28" href="#__codelineno-35-28"></a><span class="err">          ( representable-dhom-from-hom2-dist A x y z g f)</span>
</span><span id="__span-35-29"><a id="__codelineno-35-29" name="__codelineno-35-29" href="#__codelineno-35-29"></a><span class="err">          ( associative-Σ</span>
</span><span id="__span-35-30"><a id="__codelineno-35-30" name="__codelineno-35-30" href="#__codelineno-35-30"></a><span class="err">            ( hom A x z)</span>
</span><span id="__span-35-31"><a id="__codelineno-35-31" name="__codelineno-35-31" href="#__codelineno-35-31"></a><span class="err">            ( </span><span class="p">\ </span>h <span class="err">→ hom2 A x y z f g h)</span>
</span><span id="__span-35-32"><a id="__codelineno-35-32" name="__codelineno-35-32" href="#__codelineno-35-32"></a><span class="err">            </span><span class="p">( </span>\ h _ → Σ (v <span class="p">:</span><span class="err"> hom A x z) , hom2 A x x z (id-hom A x) v h))))</span>
</span><span id="__span-35-33"><a id="__codelineno-35-33" name="__codelineno-35-33" href="#__codelineno-35-33"></a><span class="err">      ( corepresentable-family-is-covariant x y z g f))</span>
</span></code></pre></div>
<p>While not needed to prove Proposition 8.13, it is interesting to observe that
the dependent hom types in a representable family can be understood as extension
types as follows.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:cofibration-union-test" id="define:cofibration-union-test" style="visibility: visible; position: relative; color: inherit">cofibration-union-test</a></span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="err">    ( ( (t , s) : ∂□) →</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="err">    ( ( (t , s) : </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err"> | (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s)) →</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ y])</span>
</span><span id="__span-36-14"><a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="err">  :=</span>
</span><span id="__span-36-15"><a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="err">    cofibration-union</span>
</span><span id="__span-36-16"><a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="err">    ( </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">)</span>
</span><span id="__span-36-17"><a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="err">    ( \ (t , s) → (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> Δ¹ s)</span>
</span><span id="__span-36-18"><a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="err">    ( \ (t , s) →</span>
</span><span id="__span-36-19"><a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="err">      ((t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s)) </span><span class="sx">∨</span><span class="err"> ((Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">)) </span><span class="sx">∨</span><span class="err"> ((Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">)))</span>
</span><span id="__span-36-20"><a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a><span class="err">    ( \ (t , s) → A)</span>
</span><span id="__span-36-21"><a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a><span class="err">    ( \ (t , s) →</span>
</span><span id="__span-36-22"><a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="err">      </span><span class="s">recOR</span>
</span><span id="__span-36-23"><a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a><span class="err">        ( (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-24"><a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-25"><a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t))</span>
</span><span id="__span-36-26"><a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a>
</span><span id="__span-36-27"><a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:base-hom-rewriting" id="define:base-hom-rewriting" style="visibility: visible; position: relative; color: inherit">base-hom-rewriting</a></span>
</span><span id="__span-36-28"><a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-36-29"><a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-30"><a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-31"><a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-36-32"><a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-33"><a id="__codelineno-36-33" name="__codelineno-36-33" href="#__codelineno-36-33"></a><span class="err">    ( ( (t , s) : </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err"> | (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s)) →</span>
</span><span id="__span-36-34"><a id="__codelineno-36-34" name="__codelineno-36-34" href="#__codelineno-36-34"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-35"><a id="__codelineno-36-35" name="__codelineno-36-35" href="#__codelineno-36-35"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ y])</span>
</span><span id="__span-36-36"><a id="__codelineno-36-36" name="__codelineno-36-36" href="#__codelineno-36-36"></a><span class="err">    ( hom A a y)</span>
</span><span id="__span-36-37"><a id="__codelineno-36-37" name="__codelineno-36-37" href="#__codelineno-36-37"></a><span class="err">  :=</span>
</span><span id="__span-36-38"><a id="__codelineno-36-38" name="__codelineno-36-38" href="#__codelineno-36-38"></a><span class="err">    ( ( </span><span class="p">\ </span>v <span class="err">→ (</span><span class="p">\ </span>r <span class="err">→ v ((</span><span class="m">1₂</span><span class="err"> , r)))) ,</span>
</span><span id="__span-36-39"><a id="__codelineno-36-39" name="__codelineno-36-39" href="#__codelineno-36-39"></a><span class="err">      ( ( </span><span class="p">\ </span>v <span class="err">(t , s) → v s , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">) ,</span>
</span><span id="__span-36-40"><a id="__codelineno-36-40" name="__codelineno-36-40" href="#__codelineno-36-40"></a><span class="err">        ( </span><span class="p">\ </span>v <span class="err">(_ , s) → v s , </span><span class="p">\ </span>_ <span class="err">→ </span><span class="s">refl</span><span class="err">)))</span>
</span><span id="__span-36-41"><a id="__codelineno-36-41" name="__codelineno-36-41" href="#__codelineno-36-41"></a>
</span><span id="__span-36-42"><a id="__codelineno-36-42" name="__codelineno-36-42" href="#__codelineno-36-42"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:base-hom-expansion" id="define:base-hom-expansion" style="visibility: visible; position: relative; color: inherit">base-hom-expansion</a></span>
</span><span id="__span-36-43"><a id="__codelineno-36-43" name="__codelineno-36-43" href="#__codelineno-36-43"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-36-44"><a id="__codelineno-36-44" name="__codelineno-36-44" href="#__codelineno-36-44"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-45"><a id="__codelineno-36-45" name="__codelineno-36-45" href="#__codelineno-36-45"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-46"><a id="__codelineno-36-46" name="__codelineno-36-46" href="#__codelineno-36-46"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-36-47"><a id="__codelineno-36-47" name="__codelineno-36-47" href="#__codelineno-36-47"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-48"><a id="__codelineno-36-48" name="__codelineno-36-48" href="#__codelineno-36-48"></a><span class="err">    ( ( (t , s) : ∂□) →</span>
</span><span id="__span-36-49"><a id="__codelineno-36-49" name="__codelineno-36-49" href="#__codelineno-36-49"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-50"><a id="__codelineno-36-50" name="__codelineno-36-50" href="#__codelineno-36-50"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-51"><a id="__codelineno-36-51" name="__codelineno-36-51" href="#__codelineno-36-51"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-36-52"><a id="__codelineno-36-52" name="__codelineno-36-52" href="#__codelineno-36-52"></a><span class="err">    ( hom A a y)</span>
</span><span id="__span-36-53"><a id="__codelineno-36-53" name="__codelineno-36-53" href="#__codelineno-36-53"></a><span class="err">  :=</span>
</span><span id="__span-36-54"><a id="__codelineno-36-54" name="__codelineno-36-54" href="#__codelineno-36-54"></a><span class="err">    equiv-comp</span>
</span><span id="__span-36-55"><a id="__codelineno-36-55" name="__codelineno-36-55" href="#__codelineno-36-55"></a><span class="err">    ( ( (t , s) : ∂□) →</span>
</span><span id="__span-36-56"><a id="__codelineno-36-56" name="__codelineno-36-56" href="#__codelineno-36-56"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-57"><a id="__codelineno-36-57" name="__codelineno-36-57" href="#__codelineno-36-57"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-58"><a id="__codelineno-36-58" name="__codelineno-36-58" href="#__codelineno-36-58"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-36-59"><a id="__codelineno-36-59" name="__codelineno-36-59" href="#__codelineno-36-59"></a><span class="err">    ( ( (t , s) : </span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err"> | (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s)) →</span>
</span><span id="__span-36-60"><a id="__codelineno-36-60" name="__codelineno-36-60" href="#__codelineno-36-60"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-61"><a id="__codelineno-36-61" name="__codelineno-36-61" href="#__codelineno-36-61"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ y])</span>
</span><span id="__span-36-62"><a id="__codelineno-36-62" name="__codelineno-36-62" href="#__codelineno-36-62"></a><span class="err">    ( hom A a y)</span>
</span><span id="__span-36-63"><a id="__codelineno-36-63" name="__codelineno-36-63" href="#__codelineno-36-63"></a><span class="err">    ( cofibration-union-test A a x y f u)</span>
</span><span id="__span-36-64"><a id="__codelineno-36-64" name="__codelineno-36-64" href="#__codelineno-36-64"></a><span class="err">    ( base-hom-rewriting A a x y f u)</span>
</span><span id="__span-36-65"><a id="__codelineno-36-65" name="__codelineno-36-65" href="#__codelineno-36-65"></a>
</span><span id="__span-36-66"><a id="__codelineno-36-66" name="__codelineno-36-66" href="#__codelineno-36-66"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-from-expansion" id="define:representable-dhom-from-expansion" style="visibility: visible; position: relative; color: inherit">representable-dhom-from-expansion</a></span>
</span><span id="__span-36-67"><a id="__codelineno-36-67" name="__codelineno-36-67" href="#__codelineno-36-67"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-36-68"><a id="__codelineno-36-68" name="__codelineno-36-68" href="#__codelineno-36-68"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-69"><a id="__codelineno-36-69" name="__codelineno-36-69" href="#__codelineno-36-69"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-70"><a id="__codelineno-36-70" name="__codelineno-36-70" href="#__codelineno-36-70"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-36-71"><a id="__codelineno-36-71" name="__codelineno-36-71" href="#__codelineno-36-71"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-72"><a id="__codelineno-36-72" name="__codelineno-36-72" href="#__codelineno-36-72"></a><span class="err">    </span><span class="p">( </span>Σ ( sq <span class="p">:</span>
</span><span id="__span-36-73"><a id="__codelineno-36-73" name="__codelineno-36-73" href="#__codelineno-36-73"></a><span class="err">          ( (t , s) : ∂□) →</span>
</span><span id="__span-36-74"><a id="__codelineno-36-74" name="__codelineno-36-74" href="#__codelineno-36-74"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-75"><a id="__codelineno-36-75" name="__codelineno-36-75" href="#__codelineno-36-75"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-76"><a id="__codelineno-36-76" name="__codelineno-36-76" href="#__codelineno-36-76"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]) ,</span>
</span><span id="__span-36-77"><a id="__codelineno-36-77" name="__codelineno-36-77" href="#__codelineno-36-77"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-78"><a id="__codelineno-36-78" name="__codelineno-36-78" href="#__codelineno-36-78"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-79"><a id="__codelineno-36-79" name="__codelineno-36-79" href="#__codelineno-36-79"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ (sq (</span><span class="m">1₂</span><span class="err"> , s)) ,</span>
</span><span id="__span-36-80"><a id="__codelineno-36-80" name="__codelineno-36-80" href="#__codelineno-36-80"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-81"><a id="__codelineno-36-81" name="__codelineno-36-81" href="#__codelineno-36-81"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-36-82"><a id="__codelineno-36-82" name="__codelineno-36-82" href="#__codelineno-36-82"></a><span class="err">    </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-36-83"><a id="__codelineno-36-83" name="__codelineno-36-83" href="#__codelineno-36-83"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-84"><a id="__codelineno-36-84" name="__codelineno-36-84" href="#__codelineno-36-84"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-85"><a id="__codelineno-36-85" name="__codelineno-36-85" href="#__codelineno-36-85"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-36-86"><a id="__codelineno-36-86" name="__codelineno-36-86" href="#__codelineno-36-86"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-87"><a id="__codelineno-36-87" name="__codelineno-36-87" href="#__codelineno-36-87"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-36-88"><a id="__codelineno-36-88" name="__codelineno-36-88" href="#__codelineno-36-88"></a><span class="err">  :=</span>
</span><span id="__span-36-89"><a id="__codelineno-36-89" name="__codelineno-36-89" href="#__codelineno-36-89"></a><span class="err">    total-equiv-pullback-is-equiv</span>
</span><span id="__span-36-90"><a id="__codelineno-36-90" name="__codelineno-36-90" href="#__codelineno-36-90"></a><span class="err">    ( ( (t , s) : ∂□) →</span>
</span><span id="__span-36-91"><a id="__codelineno-36-91" name="__codelineno-36-91" href="#__codelineno-36-91"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-92"><a id="__codelineno-36-92" name="__codelineno-36-92" href="#__codelineno-36-92"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-93"><a id="__codelineno-36-93" name="__codelineno-36-93" href="#__codelineno-36-93"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-36-94"><a id="__codelineno-36-94" name="__codelineno-36-94" href="#__codelineno-36-94"></a><span class="err">    ( hom A a y)</span>
</span><span id="__span-36-95"><a id="__codelineno-36-95" name="__codelineno-36-95" href="#__codelineno-36-95"></a><span class="err">    ( </span><span class="s">first</span><span class="err"> (base-hom-expansion A a x y f u))</span>
</span><span id="__span-36-96"><a id="__codelineno-36-96" name="__codelineno-36-96" href="#__codelineno-36-96"></a><span class="err">    ( </span><span class="s">second</span><span class="err"> (base-hom-expansion A a x y f u))</span>
</span><span id="__span-36-97"><a id="__codelineno-36-97" name="__codelineno-36-97" href="#__codelineno-36-97"></a><span class="err">    ( </span><span class="p">\ </span>v <span class="err">→</span>
</span><span id="__span-36-98"><a id="__codelineno-36-98" name="__codelineno-36-98" href="#__codelineno-36-98"></a><span class="err">      ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-99"><a id="__codelineno-36-99" name="__codelineno-36-99" href="#__codelineno-36-99"></a><span class="err">        A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-100"><a id="__codelineno-36-100" name="__codelineno-36-100" href="#__codelineno-36-100"></a><span class="err">            (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-36-101"><a id="__codelineno-36-101" name="__codelineno-36-101" href="#__codelineno-36-101"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-102"><a id="__codelineno-36-102" name="__codelineno-36-102" href="#__codelineno-36-102"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-36-103"><a id="__codelineno-36-103" name="__codelineno-36-103" href="#__codelineno-36-103"></a>
</span><span id="__span-36-104"><a id="__codelineno-36-104" name="__codelineno-36-104" href="#__codelineno-36-104"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-from-composite-expansion" id="define:representable-dhom-from-composite-expansion" style="visibility: visible; position: relative; color: inherit">representable-dhom-from-composite-expansion</a></span>
</span><span id="__span-36-105"><a id="__codelineno-36-105" name="__codelineno-36-105" href="#__codelineno-36-105"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-36-106"><a id="__codelineno-36-106" name="__codelineno-36-106" href="#__codelineno-36-106"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-107"><a id="__codelineno-36-107" name="__codelineno-36-107" href="#__codelineno-36-107"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-108"><a id="__codelineno-36-108" name="__codelineno-36-108" href="#__codelineno-36-108"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-36-109"><a id="__codelineno-36-109" name="__codelineno-36-109" href="#__codelineno-36-109"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-110"><a id="__codelineno-36-110" name="__codelineno-36-110" href="#__codelineno-36-110"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-36-111"><a id="__codelineno-36-111" name="__codelineno-36-111" href="#__codelineno-36-111"></a><span class="err">    </span><span class="p">( </span>Σ ( sq <span class="p">:</span>
</span><span id="__span-36-112"><a id="__codelineno-36-112" name="__codelineno-36-112" href="#__codelineno-36-112"></a><span class="err">          ( (t , s) : ∂□) →</span>
</span><span id="__span-36-113"><a id="__codelineno-36-113" name="__codelineno-36-113" href="#__codelineno-36-113"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-114"><a id="__codelineno-36-114" name="__codelineno-36-114" href="#__codelineno-36-114"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-115"><a id="__codelineno-36-115" name="__codelineno-36-115" href="#__codelineno-36-115"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]) ,</span>
</span><span id="__span-36-116"><a id="__codelineno-36-116" name="__codelineno-36-116" href="#__codelineno-36-116"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-117"><a id="__codelineno-36-117" name="__codelineno-36-117" href="#__codelineno-36-117"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-118"><a id="__codelineno-36-118" name="__codelineno-36-118" href="#__codelineno-36-118"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ (sq (</span><span class="m">1₂</span><span class="err"> , s)) ,</span>
</span><span id="__span-36-119"><a id="__codelineno-36-119" name="__codelineno-36-119" href="#__codelineno-36-119"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-120"><a id="__codelineno-36-120" name="__codelineno-36-120" href="#__codelineno-36-120"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-36-121"><a id="__codelineno-36-121" name="__codelineno-36-121" href="#__codelineno-36-121"></a><span class="err">  :=</span>
</span><span id="__span-36-122"><a id="__codelineno-36-122" name="__codelineno-36-122" href="#__codelineno-36-122"></a><span class="err">    equiv-right-cancel</span>
</span><span id="__span-36-123"><a id="__codelineno-36-123" name="__codelineno-36-123" href="#__codelineno-36-123"></a><span class="err">      ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-36-124"><a id="__codelineno-36-124" name="__codelineno-36-124" href="#__codelineno-36-124"></a><span class="err">      </span><span class="p">( </span>Σ ( sq <span class="p">:</span>
</span><span id="__span-36-125"><a id="__codelineno-36-125" name="__codelineno-36-125" href="#__codelineno-36-125"></a><span class="err">            ( (t , s) : ∂□) →</span>
</span><span id="__span-36-126"><a id="__codelineno-36-126" name="__codelineno-36-126" href="#__codelineno-36-126"></a><span class="err">            A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-127"><a id="__codelineno-36-127" name="__codelineno-36-127" href="#__codelineno-36-127"></a><span class="err">                (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-128"><a id="__codelineno-36-128" name="__codelineno-36-128" href="#__codelineno-36-128"></a><span class="err">                (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]) ,</span>
</span><span id="__span-36-129"><a id="__codelineno-36-129" name="__codelineno-36-129" href="#__codelineno-36-129"></a><span class="err">          ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-130"><a id="__codelineno-36-130" name="__codelineno-36-130" href="#__codelineno-36-130"></a><span class="err">            A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-131"><a id="__codelineno-36-131" name="__codelineno-36-131" href="#__codelineno-36-131"></a><span class="err">                (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ (sq (</span><span class="m">1₂</span><span class="err"> , s)) ,</span>
</span><span id="__span-36-132"><a id="__codelineno-36-132" name="__codelineno-36-132" href="#__codelineno-36-132"></a><span class="err">                (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-133"><a id="__codelineno-36-133" name="__codelineno-36-133" href="#__codelineno-36-133"></a><span class="err">                (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-36-134"><a id="__codelineno-36-134" name="__codelineno-36-134" href="#__codelineno-36-134"></a><span class="err">      </span><span class="p">( </span>Σ ( v <span class="p">:</span><span class="err"> hom A a y) ,</span>
</span><span id="__span-36-135"><a id="__codelineno-36-135" name="__codelineno-36-135" href="#__codelineno-36-135"></a><span class="err">          ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-136"><a id="__codelineno-36-136" name="__codelineno-36-136" href="#__codelineno-36-136"></a><span class="err">            A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-137"><a id="__codelineno-36-137" name="__codelineno-36-137" href="#__codelineno-36-137"></a><span class="err">                (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-36-138"><a id="__codelineno-36-138" name="__codelineno-36-138" href="#__codelineno-36-138"></a><span class="err">                (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-139"><a id="__codelineno-36-139" name="__codelineno-36-139" href="#__codelineno-36-139"></a><span class="err">                (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-36-140"><a id="__codelineno-36-140" name="__codelineno-36-140" href="#__codelineno-36-140"></a><span class="err">      ( uncurried-dhom-from-representable A a x y f u)</span>
</span><span id="__span-36-141"><a id="__codelineno-36-141" name="__codelineno-36-141" href="#__codelineno-36-141"></a><span class="err">      ( representable-dhom-from-expansion A a x y f u)</span>
</span><span id="__span-36-142"><a id="__codelineno-36-142" name="__codelineno-36-142" href="#__codelineno-36-142"></a>
</span><span id="__span-36-143"><a id="__codelineno-36-143" name="__codelineno-36-143" href="#__codelineno-36-143"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-from-cofibration-composition" id="define:representable-dhom-from-cofibration-composition" style="visibility: visible; position: relative; color: inherit">representable-dhom-from-cofibration-composition</a></span>
</span><span id="__span-36-144"><a id="__codelineno-36-144" name="__codelineno-36-144" href="#__codelineno-36-144"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-36-145"><a id="__codelineno-36-145" name="__codelineno-36-145" href="#__codelineno-36-145"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-146"><a id="__codelineno-36-146" name="__codelineno-36-146" href="#__codelineno-36-146"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-147"><a id="__codelineno-36-147" name="__codelineno-36-147" href="#__codelineno-36-147"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-36-148"><a id="__codelineno-36-148" name="__codelineno-36-148" href="#__codelineno-36-148"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-149"><a id="__codelineno-36-149" name="__codelineno-36-149" href="#__codelineno-36-149"></a><span class="err">    ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-150"><a id="__codelineno-36-150" name="__codelineno-36-150" href="#__codelineno-36-150"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-151"><a id="__codelineno-36-151" name="__codelineno-36-151" href="#__codelineno-36-151"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-152"><a id="__codelineno-36-152" name="__codelineno-36-152" href="#__codelineno-36-152"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-36-153"><a id="__codelineno-36-153" name="__codelineno-36-153" href="#__codelineno-36-153"></a><span class="err">    </span><span class="p">( </span>Σ ( sq <span class="p">:</span>
</span><span id="__span-36-154"><a id="__codelineno-36-154" name="__codelineno-36-154" href="#__codelineno-36-154"></a><span class="err">          ( (t , s) : ∂□) →</span>
</span><span id="__span-36-155"><a id="__codelineno-36-155" name="__codelineno-36-155" href="#__codelineno-36-155"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-156"><a id="__codelineno-36-156" name="__codelineno-36-156" href="#__codelineno-36-156"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-157"><a id="__codelineno-36-157" name="__codelineno-36-157" href="#__codelineno-36-157"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]) ,</span>
</span><span id="__span-36-158"><a id="__codelineno-36-158" name="__codelineno-36-158" href="#__codelineno-36-158"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-159"><a id="__codelineno-36-159" name="__codelineno-36-159" href="#__codelineno-36-159"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-160"><a id="__codelineno-36-160" name="__codelineno-36-160" href="#__codelineno-36-160"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ (sq (</span><span class="m">1₂</span><span class="err"> , s)) ,</span>
</span><span id="__span-36-161"><a id="__codelineno-36-161" name="__codelineno-36-161" href="#__codelineno-36-161"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-162"><a id="__codelineno-36-162" name="__codelineno-36-162" href="#__codelineno-36-162"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-36-163"><a id="__codelineno-36-163" name="__codelineno-36-163" href="#__codelineno-36-163"></a><span class="err">  :=</span>
</span><span id="__span-36-164"><a id="__codelineno-36-164" name="__codelineno-36-164" href="#__codelineno-36-164"></a><span class="err">    cofibration-composition (</span><span class="kt">2</span><span class="err"> × </span><span class="kt">2</span><span class="err">) Δ¹×Δ¹ ∂□</span>
</span><span id="__span-36-165"><a id="__codelineno-36-165" name="__codelineno-36-165" href="#__codelineno-36-165"></a><span class="err">      ( \ (t , s) →</span>
</span><span id="__span-36-166"><a id="__codelineno-36-166" name="__codelineno-36-166" href="#__codelineno-36-166"></a><span class="err">        ( (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s)) </span><span class="sx">∨</span><span class="err"> ((Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">)) </span><span class="sx">∨</span><span class="err"> ((Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">)))</span>
</span><span id="__span-36-167"><a id="__codelineno-36-167" name="__codelineno-36-167" href="#__codelineno-36-167"></a><span class="err">      ( </span><span class="p">\ </span>ts <span class="err">→ A)</span>
</span><span id="__span-36-168"><a id="__codelineno-36-168" name="__codelineno-36-168" href="#__codelineno-36-168"></a><span class="err">      ( \ (t , s) →</span>
</span><span id="__span-36-169"><a id="__codelineno-36-169" name="__codelineno-36-169" href="#__codelineno-36-169"></a><span class="err">        </span><span class="s">recOR</span>
</span><span id="__span-36-170"><a id="__codelineno-36-170" name="__codelineno-36-170" href="#__codelineno-36-170"></a><span class="err">          ( (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-171"><a id="__codelineno-36-171" name="__codelineno-36-171" href="#__codelineno-36-171"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-172"><a id="__codelineno-36-172" name="__codelineno-36-172" href="#__codelineno-36-172"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t))</span>
</span><span id="__span-36-173"><a id="__codelineno-36-173" name="__codelineno-36-173" href="#__codelineno-36-173"></a>
</span><span id="__span-36-174"><a id="__codelineno-36-174" name="__codelineno-36-174" href="#__codelineno-36-174"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-from-as-extension-type" id="define:representable-dhom-from-as-extension-type" style="visibility: visible; position: relative; color: inherit">representable-dhom-from-as-extension-type</a></span>
</span><span id="__span-36-175"><a id="__codelineno-36-175" name="__codelineno-36-175" href="#__codelineno-36-175"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-36-176"><a id="__codelineno-36-176" name="__codelineno-36-176" href="#__codelineno-36-176"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-36-177"><a id="__codelineno-36-177" name="__codelineno-36-177" href="#__codelineno-36-177"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-36-178"><a id="__codelineno-36-178" name="__codelineno-36-178" href="#__codelineno-36-178"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-36-179"><a id="__codelineno-36-179" name="__codelineno-36-179" href="#__codelineno-36-179"></a><span class="err">  : Equiv</span>
</span><span id="__span-36-180"><a id="__codelineno-36-180" name="__codelineno-36-180" href="#__codelineno-36-180"></a><span class="err">      ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-36-181"><a id="__codelineno-36-181" name="__codelineno-36-181" href="#__codelineno-36-181"></a><span class="err">      ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-182"><a id="__codelineno-36-182" name="__codelineno-36-182" href="#__codelineno-36-182"></a><span class="err">        A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-183"><a id="__codelineno-36-183" name="__codelineno-36-183" href="#__codelineno-36-183"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-184"><a id="__codelineno-36-184" name="__codelineno-36-184" href="#__codelineno-36-184"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-36-185"><a id="__codelineno-36-185" name="__codelineno-36-185" href="#__codelineno-36-185"></a><span class="err">  :=</span>
</span><span id="__span-36-186"><a id="__codelineno-36-186" name="__codelineno-36-186" href="#__codelineno-36-186"></a><span class="err">    equiv-right-cancel</span>
</span><span id="__span-36-187"><a id="__codelineno-36-187" name="__codelineno-36-187" href="#__codelineno-36-187"></a><span class="err">    ( dhom-from-representable A a x y f u)</span>
</span><span id="__span-36-188"><a id="__codelineno-36-188" name="__codelineno-36-188" href="#__codelineno-36-188"></a><span class="err">    ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-189"><a id="__codelineno-36-189" name="__codelineno-36-189" href="#__codelineno-36-189"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-190"><a id="__codelineno-36-190" name="__codelineno-36-190" href="#__codelineno-36-190"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-191"><a id="__codelineno-36-191" name="__codelineno-36-191" href="#__codelineno-36-191"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t])</span>
</span><span id="__span-36-192"><a id="__codelineno-36-192" name="__codelineno-36-192" href="#__codelineno-36-192"></a><span class="err">    </span><span class="p">( </span>Σ ( sq <span class="p">:</span>
</span><span id="__span-36-193"><a id="__codelineno-36-193" name="__codelineno-36-193" href="#__codelineno-36-193"></a><span class="err">          ( (t , s) : ∂□) →</span>
</span><span id="__span-36-194"><a id="__codelineno-36-194" name="__codelineno-36-194" href="#__codelineno-36-194"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-195"><a id="__codelineno-36-195" name="__codelineno-36-195" href="#__codelineno-36-195"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-196"><a id="__codelineno-36-196" name="__codelineno-36-196" href="#__codelineno-36-196"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]) ,</span>
</span><span id="__span-36-197"><a id="__codelineno-36-197" name="__codelineno-36-197" href="#__codelineno-36-197"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-36-198"><a id="__codelineno-36-198" name="__codelineno-36-198" href="#__codelineno-36-198"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-36-199"><a id="__codelineno-36-199" name="__codelineno-36-199" href="#__codelineno-36-199"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ (sq (</span><span class="m">1₂</span><span class="err"> , s)) ,</span>
</span><span id="__span-36-200"><a id="__codelineno-36-200" name="__codelineno-36-200" href="#__codelineno-36-200"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ a ,</span>
</span><span id="__span-36-201"><a id="__codelineno-36-201" name="__codelineno-36-201" href="#__codelineno-36-201"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ f t]))</span>
</span><span id="__span-36-202"><a id="__codelineno-36-202" name="__codelineno-36-202" href="#__codelineno-36-202"></a><span class="err">    ( representable-dhom-from-composite-expansion A a x y f u)</span>
</span><span id="__span-36-203"><a id="__codelineno-36-203" name="__codelineno-36-203" href="#__codelineno-36-203"></a><span class="err">    ( representable-dhom-from-cofibration-composition A a x y f u)</span>
</span></code></pre></div>
<h2 id="covariant-lifts-transport-and-uniqueness">Covariant lifts, transport, and uniqueness<a class="headerlink" href="#covariant-lifts-transport-and-uniqueness" title="Permanent link">&para;</a></h2>
<p>In a covariant family C over a base type A , a term u : C x may be transported
along an arrow f : hom A x y to give a term in C y.</p>
<div class="language-rzk highlight"><span class="filename">RS17, covariant transport from beginning of Section 8.2</span><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:covariant-transport" id="define:covariant-transport" style="visibility: visible; position: relative; color: inherit">covariant-transport</a></span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="err">  : C y</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="err">  :=</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="err">    </span><span class="s">first</span><span class="err"> (center-contraction (dhom-from A x y f C u) (is-covariant-C x y f u))</span>
</span></code></pre></div>
<p>For example, if <code>A</code> is a Segal type and <code>a : A</code>, the family <code>C x := hom A a x</code>
is covariant as shown above. Transport of an <code>e : C x</code> along an arrow
<code>f : hom A x y</code> just yields composition of <code>f</code> with <code>e</code>.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Example 8.14</span><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:compute-covariant-transport-of-hom-family-is-segal" id="define:compute-covariant-transport-of-hom-family-is-segal" style="visibility: visible; position: relative; color: inherit">compute-covariant-transport-of-hom-family-is-segal</a></span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="err">  </span><span class="p">( </span>e <span class="p">:</span><span class="err"> hom A a x)</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="err">  : covariant-transport A x y f</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="err">      (hom A a) (is-covariant-representable-is-segal A is-segal-A a) e =</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="err">    comp-is-segal A is-segal-A a x y e f</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="err">  :=</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="err">    </span><span class="s">refl</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, covariant lift from beginning of Section 8.2</span><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:covariant-lift" id="define:covariant-lift" style="visibility: visible; position: relative; color: inherit">covariant-lift</a></span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="err">  : ( dhom A x y f C u (covariant-transport A x y f C is-covariant-C u))</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="err">  :=</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="err">    </span><span class="s">second</span><span class="err"> (center-contraction (dhom-from A x y f C u) (is-covariant-C x y f u))</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a>
</span><span id="__span-39-12"><a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:covariant-uniqueness" id="define:covariant-uniqueness" style="visibility: visible; position: relative; color: inherit">covariant-uniqueness</a></span>
</span><span id="__span-39-13"><a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-39-14"><a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-39-15"><a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-39-16"><a id="__codelineno-39-16" name="__codelineno-39-16" href="#__codelineno-39-16"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-39-17"><a id="__codelineno-39-17" name="__codelineno-39-17" href="#__codelineno-39-17"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-39-18"><a id="__codelineno-39-18" name="__codelineno-39-18" href="#__codelineno-39-18"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-39-19"><a id="__codelineno-39-19" name="__codelineno-39-19" href="#__codelineno-39-19"></a><span class="err">  </span><span class="p">( </span>lift <span class="p">:</span><span class="err"> dhom-from A x y f C u)</span>
</span><span id="__span-39-20"><a id="__codelineno-39-20" name="__codelineno-39-20" href="#__codelineno-39-20"></a><span class="err">  : ( covariant-transport A x y f C is-covariant-C u) = (</span><span class="s">first</span><span class="err"> lift)</span>
</span><span id="__span-39-21"><a id="__codelineno-39-21" name="__codelineno-39-21" href="#__codelineno-39-21"></a><span class="err">  :=</span>
</span><span id="__span-39-22"><a id="__codelineno-39-22" name="__codelineno-39-22" href="#__codelineno-39-22"></a><span class="err">    first-path-Σ</span>
</span><span id="__span-39-23"><a id="__codelineno-39-23" name="__codelineno-39-23" href="#__codelineno-39-23"></a><span class="err">    ( C y)</span>
</span><span id="__span-39-24"><a id="__codelineno-39-24" name="__codelineno-39-24" href="#__codelineno-39-24"></a><span class="err">    ( </span><span class="p">\ </span>v <span class="err">→ dhom A x y f C u v)</span>
</span><span id="__span-39-25"><a id="__codelineno-39-25" name="__codelineno-39-25" href="#__codelineno-39-25"></a><span class="err">    ( center-contraction (dhom-from A x y f C u) (is-covariant-C x y f u))</span>
</span><span id="__span-39-26"><a id="__codelineno-39-26" name="__codelineno-39-26" href="#__codelineno-39-26"></a><span class="err">    ( lift)</span>
</span><span id="__span-39-27"><a id="__codelineno-39-27" name="__codelineno-39-27" href="#__codelineno-39-27"></a><span class="err">    ( homotopy-contraction (dhom-from A x y f C u) (is-covariant-C x y f u) lift)</span>
</span><span id="__span-39-28"><a id="__codelineno-39-28" name="__codelineno-39-28" href="#__codelineno-39-28"></a>
</span><span id="__span-39-29"><a id="__codelineno-39-29" name="__codelineno-39-29" href="#__codelineno-39-29"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:covariant-uniqueness-curried" id="define:covariant-uniqueness-curried" style="visibility: visible; position: relative; color: inherit">covariant-uniqueness-curried</a></span>
</span><span id="__span-39-30"><a id="__codelineno-39-30" name="__codelineno-39-30" href="#__codelineno-39-30"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-39-31"><a id="__codelineno-39-31" name="__codelineno-39-31" href="#__codelineno-39-31"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-39-32"><a id="__codelineno-39-32" name="__codelineno-39-32" href="#__codelineno-39-32"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-39-33"><a id="__codelineno-39-33" name="__codelineno-39-33" href="#__codelineno-39-33"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-39-34"><a id="__codelineno-39-34" name="__codelineno-39-34" href="#__codelineno-39-34"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-39-35"><a id="__codelineno-39-35" name="__codelineno-39-35" href="#__codelineno-39-35"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-39-36"><a id="__codelineno-39-36" name="__codelineno-39-36" href="#__codelineno-39-36"></a><span class="err">  : </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-39-37"><a id="__codelineno-39-37" name="__codelineno-39-37" href="#__codelineno-39-37"></a><span class="err">  → ( dhom A x y f C u v)</span>
</span><span id="__span-39-38"><a id="__codelineno-39-38" name="__codelineno-39-38" href="#__codelineno-39-38"></a><span class="err">  → ( covariant-transport A x y f C is-covariant-C u) = v</span>
</span><span id="__span-39-39"><a id="__codelineno-39-39" name="__codelineno-39-39" href="#__codelineno-39-39"></a><span class="err">  :=</span>
</span><span id="__span-39-40"><a id="__codelineno-39-40" name="__codelineno-39-40" href="#__codelineno-39-40"></a><span class="err">    </span><span class="p">\ </span>v g <span class="err">→ covariant-uniqueness A x y f C is-covariant-C u (v, g)</span>
</span></code></pre></div>
<p>We show that for each <code>v : C y</code>, the map <code>covariant-uniqueness</code> is an
equivalence. This follows from the fact that the total types (summed over
<code>v : C y</code>) of both sides are contractible.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Lemma 8.15</span><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-equiv-total-map-covariant-uniqueness-curried" id="define:is-equiv-total-map-covariant-uniqueness-curried" style="visibility: visible; position: relative; color: inherit">is-equiv-total-map-covariant-uniqueness-curried</a></span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="err">  : is-equiv</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="err">      </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> C y), dhom A x y f C u v)</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="err">      </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> C y), covariant-transport A x y f C is-covariant-C u = v)</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="err">      ( total-map (C y)</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="err">        (dhom A x y f C u)</span>
</span><span id="__span-40-13"><a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="err">        (</span><span class="p">\ </span>v <span class="err">→ covariant-transport A x y f C is-covariant-C u = v)</span>
</span><span id="__span-40-14"><a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="err">        (covariant-uniqueness-curried A x y f C is-covariant-C u)</span>
</span><span id="__span-40-15"><a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="err">      )</span>
</span><span id="__span-40-16"><a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="err">  :=</span>
</span><span id="__span-40-17"><a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="err">    is-equiv-are-contr</span>
</span><span id="__span-40-18"><a id="__codelineno-40-18" name="__codelineno-40-18" href="#__codelineno-40-18"></a><span class="err">      </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> C y), dhom A x y f C u v)</span>
</span><span id="__span-40-19"><a id="__codelineno-40-19" name="__codelineno-40-19" href="#__codelineno-40-19"></a><span class="err">      </span><span class="p">(</span>Σ (v <span class="p">:</span><span class="err"> C y), covariant-transport A x y f C is-covariant-C u = v)</span>
</span><span id="__span-40-20"><a id="__codelineno-40-20" name="__codelineno-40-20" href="#__codelineno-40-20"></a><span class="err">      (is-covariant-C x y f u)</span>
</span><span id="__span-40-21"><a id="__codelineno-40-21" name="__codelineno-40-21" href="#__codelineno-40-21"></a><span class="err">      (is-contr-based-paths (C y) (covariant-transport A x y f C is-covariant-C u))</span>
</span><span id="__span-40-22"><a id="__codelineno-40-22" name="__codelineno-40-22" href="#__codelineno-40-22"></a><span class="err">      ( total-map (C y)</span>
</span><span id="__span-40-23"><a id="__codelineno-40-23" name="__codelineno-40-23" href="#__codelineno-40-23"></a><span class="err">        (dhom A x y f C u)</span>
</span><span id="__span-40-24"><a id="__codelineno-40-24" name="__codelineno-40-24" href="#__codelineno-40-24"></a><span class="err">        (</span><span class="p">\ </span>v <span class="err">→ covariant-transport A x y f C is-covariant-C u = v)</span>
</span><span id="__span-40-25"><a id="__codelineno-40-25" name="__codelineno-40-25" href="#__codelineno-40-25"></a><span class="err">        (covariant-uniqueness-curried A x y f C is-covariant-C u)</span>
</span><span id="__span-40-26"><a id="__codelineno-40-26" name="__codelineno-40-26" href="#__codelineno-40-26"></a><span class="err">      )</span>
</span><span id="__span-40-27"><a id="__codelineno-40-27" name="__codelineno-40-27" href="#__codelineno-40-27"></a>
</span><span id="__span-40-28"><a id="__codelineno-40-28" name="__codelineno-40-28" href="#__codelineno-40-28"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-equiv-covariant-uniqueness-curried" id="define:is-equiv-covariant-uniqueness-curried" style="visibility: visible; position: relative; color: inherit">is-equiv-covariant-uniqueness-curried</a></span>
</span><span id="__span-40-29"><a id="__codelineno-40-29" name="__codelineno-40-29" href="#__codelineno-40-29"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-40-30"><a id="__codelineno-40-30" name="__codelineno-40-30" href="#__codelineno-40-30"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-40-31"><a id="__codelineno-40-31" name="__codelineno-40-31" href="#__codelineno-40-31"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-40-32"><a id="__codelineno-40-32" name="__codelineno-40-32" href="#__codelineno-40-32"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-40-33"><a id="__codelineno-40-33" name="__codelineno-40-33" href="#__codelineno-40-33"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-40-34"><a id="__codelineno-40-34" name="__codelineno-40-34" href="#__codelineno-40-34"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-40-35"><a id="__codelineno-40-35" name="__codelineno-40-35" href="#__codelineno-40-35"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-40-36"><a id="__codelineno-40-36" name="__codelineno-40-36" href="#__codelineno-40-36"></a><span class="err">  : is-equiv</span>
</span><span id="__span-40-37"><a id="__codelineno-40-37" name="__codelineno-40-37" href="#__codelineno-40-37"></a><span class="err">      (dhom A x y f C u v)</span>
</span><span id="__span-40-38"><a id="__codelineno-40-38" name="__codelineno-40-38" href="#__codelineno-40-38"></a><span class="err">      (covariant-transport A x y f C is-covariant-C u = v)</span>
</span><span id="__span-40-39"><a id="__codelineno-40-39" name="__codelineno-40-39" href="#__codelineno-40-39"></a><span class="err">      (covariant-uniqueness-curried A x y f C is-covariant-C u v)</span>
</span><span id="__span-40-40"><a id="__codelineno-40-40" name="__codelineno-40-40" href="#__codelineno-40-40"></a><span class="err">  :=</span>
</span><span id="__span-40-41"><a id="__codelineno-40-41" name="__codelineno-40-41" href="#__codelineno-40-41"></a>
</span><span id="__span-40-42"><a id="__codelineno-40-42" name="__codelineno-40-42" href="#__codelineno-40-42"></a><span class="err">    total-equiv-family-of-equiv</span>
</span><span id="__span-40-43"><a id="__codelineno-40-43" name="__codelineno-40-43" href="#__codelineno-40-43"></a><span class="err">      (C y)</span>
</span><span id="__span-40-44"><a id="__codelineno-40-44" name="__codelineno-40-44" href="#__codelineno-40-44"></a><span class="err">      (dhom A x y f C u)</span>
</span><span id="__span-40-45"><a id="__codelineno-40-45" name="__codelineno-40-45" href="#__codelineno-40-45"></a><span class="err">      (</span><span class="p">\ </span>v&#39; <span class="err">→ covariant-transport A x y f C is-covariant-C u = v&#39;)</span>
</span><span id="__span-40-46"><a id="__codelineno-40-46" name="__codelineno-40-46" href="#__codelineno-40-46"></a><span class="err">      (covariant-uniqueness-curried A x y f C is-covariant-C u)</span>
</span><span id="__span-40-47"><a id="__codelineno-40-47" name="__codelineno-40-47" href="#__codelineno-40-47"></a><span class="err">      (is-equiv-total-map-covariant-uniqueness-curried A x y f C is-covariant-C u)</span>
</span><span id="__span-40-48"><a id="__codelineno-40-48" name="__codelineno-40-48" href="#__codelineno-40-48"></a><span class="err">      v</span>
</span></code></pre></div>
<h2 id="covariant-functoriality">Covariant functoriality<a class="headerlink" href="#covariant-functoriality" title="Permanent link">&para;</a></h2>
<p>The covariant transport operation defines a covariantly functorial action of
arrows in the base on terms in the fibers. In particular, there is an identity
transport law.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:id-dhom" id="define:id-dhom" style="visibility: visible; position: relative; color: inherit">id-dhom</a></span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="err">  </span><span class="p">( </span>x <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="err">  : dhom A x x (id-hom A x) C u u</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="err">  := </span><span class="p">\ </span>t <span class="err">→ u</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.16, Part 2, Covariant families preserve identities</span><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:id-arr-covariant-transport" id="define:id-arr-covariant-transport" style="visibility: visible; position: relative; color: inherit">id-arr-covariant-transport</a></span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="err">  </span><span class="p">( </span>x <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-42-6"><a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-42-7"><a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="err">  : ( covariant-transport A x x (id-hom A x) C is-covariant-C u) = u</span>
</span><span id="__span-42-8"><a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="err">  :=</span>
</span><span id="__span-42-9"><a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="err">    covariant-uniqueness</span>
</span><span id="__span-42-10"><a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="err">      A x x (id-hom A x) C is-covariant-C u (u , id-dhom A x C u)</span>
</span></code></pre></div>
<h2 id="natural-transformations">Natural transformations<a class="headerlink" href="#natural-transformations" title="Permanent link">&para;</a></h2>
<p>A fiberwise map between covariant families is automatically "natural" commuting
with the covariant lifts.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.17, Covariant naturality</span><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:covariant-fiberwise-transformation-application" id="define:covariant-fiberwise-transformation-application" style="visibility: visible; position: relative; color: inherit">covariant-fiberwise-transformation-application</a></span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="err">  </span><span class="p">( </span>C D <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> </span><span class="p">(</span>z <span class="p">:</span><span class="err"> A) → C z → D z)</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="err">  : dhom-from A x y f D (ϕ x u)</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="err">  :=</span>
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="err">    ( ( ϕ y (covariant-transport A x y f C is-covariant-C u)) ,</span>
</span><span id="__span-43-12"><a id="__codelineno-43-12" name="__codelineno-43-12" href="#__codelineno-43-12"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ ϕ (f t) (covariant-lift A x y f C is-covariant-C u t)))</span>
</span><span id="__span-43-13"><a id="__codelineno-43-13" name="__codelineno-43-13" href="#__codelineno-43-13"></a>
</span><span id="__span-43-14"><a id="__codelineno-43-14" name="__codelineno-43-14" href="#__codelineno-43-14"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:naturality-covariant-fiberwise-transformation" id="define:naturality-covariant-fiberwise-transformation" style="visibility: visible; position: relative; color: inherit">naturality-covariant-fiberwise-transformation</a></span>
</span><span id="__span-43-15"><a id="__codelineno-43-15" name="__codelineno-43-15" href="#__codelineno-43-15"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-43-16"><a id="__codelineno-43-16" name="__codelineno-43-16" href="#__codelineno-43-16"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-43-17"><a id="__codelineno-43-17" name="__codelineno-43-17" href="#__codelineno-43-17"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-43-18"><a id="__codelineno-43-18" name="__codelineno-43-18" href="#__codelineno-43-18"></a><span class="err">  </span><span class="p">( </span>C D <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-43-19"><a id="__codelineno-43-19" name="__codelineno-43-19" href="#__codelineno-43-19"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-43-20"><a id="__codelineno-43-20" name="__codelineno-43-20" href="#__codelineno-43-20"></a><span class="err">  </span><span class="p">( </span>is-covariant-D <span class="p">:</span><span class="err"> is-covariant A D)</span>
</span><span id="__span-43-21"><a id="__codelineno-43-21" name="__codelineno-43-21" href="#__codelineno-43-21"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> </span><span class="p">(</span>z <span class="p">:</span><span class="err"> A) → C z → D z)</span>
</span><span id="__span-43-22"><a id="__codelineno-43-22" name="__codelineno-43-22" href="#__codelineno-43-22"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-43-23"><a id="__codelineno-43-23" name="__codelineno-43-23" href="#__codelineno-43-23"></a><span class="err">  : ( covariant-transport A x y f D is-covariant-D (ϕ x u)) =</span>
</span><span id="__span-43-24"><a id="__codelineno-43-24" name="__codelineno-43-24" href="#__codelineno-43-24"></a><span class="err">    ( ϕ y (covariant-transport A x y f C is-covariant-C u))</span>
</span><span id="__span-43-25"><a id="__codelineno-43-25" name="__codelineno-43-25" href="#__codelineno-43-25"></a><span class="err">  :=</span>
</span><span id="__span-43-26"><a id="__codelineno-43-26" name="__codelineno-43-26" href="#__codelineno-43-26"></a><span class="err">    covariant-uniqueness A x y f D is-covariant-D (ϕ x u)</span>
</span><span id="__span-43-27"><a id="__codelineno-43-27" name="__codelineno-43-27" href="#__codelineno-43-27"></a><span class="err">      ( covariant-fiberwise-transformation-application</span>
</span><span id="__span-43-28"><a id="__codelineno-43-28" name="__codelineno-43-28" href="#__codelineno-43-28"></a><span class="err">          A x y f C D is-covariant-C ϕ u)</span>
</span></code></pre></div>
<h2 id="covariant-equivalence">Covariant equivalence<a class="headerlink" href="#covariant-equivalence" title="Permanent link">&para;</a></h2>
<p>A family of types that is equivalent to a covariant family is itself covariant.</p>
<p>To prove this we first show that the corresponding types of lifts with fixed
domain are equivalent:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-covariant-total-dhom" id="define:equiv-covariant-total-dhom" style="visibility: visible; position: relative; color: inherit">equiv-covariant-total-dhom</a></span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="err">  : Equiv</span>
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t))</span>
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="err">    </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> C x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u]))</span>
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="err">  :=</span>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="err">    ( ( </span><span class="p">\ </span>h <span class="err">→ (h </span><span class="m">0₂</span><span class="err"> , </span><span class="p">\ </span>t <span class="err">→ h t)) ,</span>
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a><span class="err">      ( ( </span><span class="p">\ </span>k t <span class="err">→ (</span><span class="s">second</span><span class="err"> k) t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">) ,</span>
</span><span id="__span-44-12"><a id="__codelineno-44-12" name="__codelineno-44-12" href="#__codelineno-44-12"></a><span class="err">        ( ( </span><span class="p">\ </span>k t <span class="err">→ (</span><span class="s">second</span><span class="err"> k) t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">))))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="nd">#section</span><span class="n"> dhom-from-equivalence</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="kr">#variable</span><span class="p"> </span>A<span class="err"> : U</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="kr">#variables</span><span class="p"> </span>B C<span class="err"> : A → U</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="kr">#variable</span><span class="p"> </span>equiv-BC<span class="err"> : </span><span class="p">(</span>a <span class="p">:</span><span class="err"> A) → Equiv (B a) (C a)</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="kr">#variables</span><span class="p"> </span>x y<span class="err"> : A</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="kr">#variable</span><span class="p"> </span>f<span class="err"> : hom A x y</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a>
</span><span id="__span-45-9"><a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-total-dhom-equiv" id="define:equiv-total-dhom-equiv" style="visibility: visible; position: relative; color: inherit">equiv-total-dhom-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>A x y<span class="p">)</span>
</span><span id="__span-45-10"><a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="err">  : Equiv </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t)) </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t))</span>
</span><span id="__span-45-11"><a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="err">  :=</span>
</span><span id="__span-45-12"><a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="err">    equiv-extension-equiv-family</span>
</span><span id="__span-45-13"><a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a><span class="err">      ( extext)</span>
</span><span id="__span-45-14"><a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="err">      ( </span><span class="kt">2</span><span class="err">)</span>
</span><span id="__span-45-15"><a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="err">      ( Δ¹)</span>
</span><span id="__span-45-16"><a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ B (f t))</span>
</span><span id="__span-45-17"><a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ C (f t))</span>
</span><span id="__span-45-18"><a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a><span class="err">      ( </span><span class="p">\ </span>t <span class="err">→ equiv-BC (f t))</span>
</span><span id="__span-45-19"><a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a>
</span><span id="__span-45-20"><a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-total-covariant-dhom-equiv" id="define:equiv-total-covariant-dhom-equiv" style="visibility: visible; position: relative; color: inherit">equiv-total-covariant-dhom-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext equiv-BC<span class="p">)</span>
</span><span id="__span-45-21"><a id="__codelineno-45-21" name="__codelineno-45-21" href="#__codelineno-45-21"></a><span class="err">  : Equiv</span>
</span><span id="__span-45-22"><a id="__codelineno-45-22" name="__codelineno-45-22" href="#__codelineno-45-22"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ i]))</span>
</span><span id="__span-45-23"><a id="__codelineno-45-23" name="__codelineno-45-23" href="#__codelineno-45-23"></a><span class="err">    </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> C x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u]))</span>
</span><span id="__span-45-24"><a id="__codelineno-45-24" name="__codelineno-45-24" href="#__codelineno-45-24"></a><span class="err">  :=</span>
</span><span id="__span-45-25"><a id="__codelineno-45-25" name="__codelineno-45-25" href="#__codelineno-45-25"></a><span class="err">    equiv-triple-comp</span>
</span><span id="__span-45-26"><a id="__codelineno-45-26" name="__codelineno-45-26" href="#__codelineno-45-26"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ i]))</span>
</span><span id="__span-45-27"><a id="__codelineno-45-27" name="__codelineno-45-27" href="#__codelineno-45-27"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t))</span>
</span><span id="__span-45-28"><a id="__codelineno-45-28" name="__codelineno-45-28" href="#__codelineno-45-28"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t))</span>
</span><span id="__span-45-29"><a id="__codelineno-45-29" name="__codelineno-45-29" href="#__codelineno-45-29"></a><span class="err">    </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> C x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u]))</span>
</span><span id="__span-45-30"><a id="__codelineno-45-30" name="__codelineno-45-30" href="#__codelineno-45-30"></a><span class="err">    </span><span class="p">( </span>inv-equiv
</span><span id="__span-45-31"><a id="__codelineno-45-31" name="__codelineno-45-31" href="#__codelineno-45-31"></a>      ( (t <span class="p">:</span><span class="err"> Δ¹) → B (f t))</span>
</span><span id="__span-45-32"><a id="__codelineno-45-32" name="__codelineno-45-32" href="#__codelineno-45-32"></a><span class="err">      </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ i]))</span>
</span><span id="__span-45-33"><a id="__codelineno-45-33" name="__codelineno-45-33" href="#__codelineno-45-33"></a><span class="err">      ( equiv-covariant-total-dhom A B x y f))</span>
</span><span id="__span-45-34"><a id="__codelineno-45-34" name="__codelineno-45-34" href="#__codelineno-45-34"></a><span class="err">    ( equiv-total-dhom-equiv)</span>
</span><span id="__span-45-35"><a id="__codelineno-45-35" name="__codelineno-45-35" href="#__codelineno-45-35"></a><span class="err">    ( equiv-covariant-total-dhom A C x y f)</span>
</span><span id="__span-45-36"><a id="__codelineno-45-36" name="__codelineno-45-36" href="#__codelineno-45-36"></a>
</span><span id="__span-45-37"><a id="__codelineno-45-37" name="__codelineno-45-37" href="#__codelineno-45-37"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-pullback-total-covariant-dhom-equiv" id="define:equiv-pullback-total-covariant-dhom-equiv" style="visibility: visible; position: relative; color: inherit">equiv-pullback-total-covariant-dhom-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>A y<span class="p">)</span>
</span><span id="__span-45-38"><a id="__codelineno-45-38" name="__codelineno-45-38" href="#__codelineno-45-38"></a><span class="err">  : Equiv</span>
</span><span id="__span-45-39"><a id="__codelineno-45-39" name="__codelineno-45-39" href="#__codelineno-45-39"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ (</span><span class="s">first</span><span class="err"> (equiv-BC x)) i]))</span>
</span><span id="__span-45-40"><a id="__codelineno-45-40" name="__codelineno-45-40" href="#__codelineno-45-40"></a><span class="err">    </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> C x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u]))</span>
</span><span id="__span-45-41"><a id="__codelineno-45-41" name="__codelineno-45-41" href="#__codelineno-45-41"></a><span class="err">  :=</span>
</span><span id="__span-45-42"><a id="__codelineno-45-42" name="__codelineno-45-42" href="#__codelineno-45-42"></a><span class="err">    total-equiv-pullback-is-equiv</span>
</span><span id="__span-45-43"><a id="__codelineno-45-43" name="__codelineno-45-43" href="#__codelineno-45-43"></a><span class="err">      ( B x)</span>
</span><span id="__span-45-44"><a id="__codelineno-45-44" name="__codelineno-45-44" href="#__codelineno-45-44"></a><span class="err">      ( C x)</span>
</span><span id="__span-45-45"><a id="__codelineno-45-45" name="__codelineno-45-45" href="#__codelineno-45-45"></a><span class="err">      ( </span><span class="s">first</span><span class="err"> (equiv-BC x))</span>
</span><span id="__span-45-46"><a id="__codelineno-45-46" name="__codelineno-45-46" href="#__codelineno-45-46"></a><span class="err">      ( </span><span class="s">second</span><span class="err"> (equiv-BC x))</span>
</span><span id="__span-45-47"><a id="__codelineno-45-47" name="__codelineno-45-47" href="#__codelineno-45-47"></a><span class="err">      </span><span class="p">( </span>\ u → ((t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u]))</span>
</span><span id="__span-45-48"><a id="__codelineno-45-48" name="__codelineno-45-48" href="#__codelineno-45-48"></a>
</span><span id="__span-45-49"><a id="__codelineno-45-49" name="__codelineno-45-49" href="#__codelineno-45-49"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-equiv-to-pullback-total-covariant-dhom-equiv" id="define:is-equiv-to-pullback-total-covariant-dhom-equiv" style="visibility: visible; position: relative; color: inherit">is-equiv-to-pullback-total-covariant-dhom-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext A y<span class="p">)</span>
</span><span id="__span-45-50"><a id="__codelineno-45-50" name="__codelineno-45-50" href="#__codelineno-45-50"></a><span class="err">  : is-equiv</span>
</span><span id="__span-45-51"><a id="__codelineno-45-51" name="__codelineno-45-51" href="#__codelineno-45-51"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ i]))</span>
</span><span id="__span-45-52"><a id="__codelineno-45-52" name="__codelineno-45-52" href="#__codelineno-45-52"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ (</span><span class="s">first</span><span class="err"> (equiv-BC x)) i]))</span>
</span><span id="__span-45-53"><a id="__codelineno-45-53" name="__codelineno-45-53" href="#__codelineno-45-53"></a><span class="err">    ( \ (i , h) → (i , </span><span class="p">\ </span>t <span class="err">→ (</span><span class="s">first</span><span class="err"> (equiv-BC (f t))) (h t)))</span>
</span><span id="__span-45-54"><a id="__codelineno-45-54" name="__codelineno-45-54" href="#__codelineno-45-54"></a><span class="err">  :=</span>
</span><span id="__span-45-55"><a id="__codelineno-45-55" name="__codelineno-45-55" href="#__codelineno-45-55"></a><span class="err">    is-equiv-right-factor</span>
</span><span id="__span-45-56"><a id="__codelineno-45-56" name="__codelineno-45-56" href="#__codelineno-45-56"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ i]))</span>
</span><span id="__span-45-57"><a id="__codelineno-45-57" name="__codelineno-45-57" href="#__codelineno-45-57"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ (</span><span class="s">first</span><span class="err"> (equiv-BC x)) i]))</span>
</span><span id="__span-45-58"><a id="__codelineno-45-58" name="__codelineno-45-58" href="#__codelineno-45-58"></a><span class="err">    </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> C x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ u]))</span>
</span><span id="__span-45-59"><a id="__codelineno-45-59" name="__codelineno-45-59" href="#__codelineno-45-59"></a><span class="err">    ( \ (i , h) → (i , </span><span class="p">\ </span>t <span class="err">→ (</span><span class="s">first</span><span class="err"> (equiv-BC (f t))) (h t)))</span>
</span><span id="__span-45-60"><a id="__codelineno-45-60" name="__codelineno-45-60" href="#__codelineno-45-60"></a><span class="err">    ( </span><span class="s">first</span><span class="err"> (equiv-pullback-total-covariant-dhom-equiv))</span>
</span><span id="__span-45-61"><a id="__codelineno-45-61" name="__codelineno-45-61" href="#__codelineno-45-61"></a><span class="err">    ( </span><span class="s">second</span><span class="err"> (equiv-pullback-total-covariant-dhom-equiv))</span>
</span><span id="__span-45-62"><a id="__codelineno-45-62" name="__codelineno-45-62" href="#__codelineno-45-62"></a><span class="err">    ( </span><span class="s">second</span><span class="err"> (equiv-total-covariant-dhom-equiv))</span>
</span><span id="__span-45-63"><a id="__codelineno-45-63" name="__codelineno-45-63" href="#__codelineno-45-63"></a>
</span><span id="__span-45-64"><a id="__codelineno-45-64" name="__codelineno-45-64" href="#__codelineno-45-64"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-to-pullback-total-covariant-dhom-equiv" id="define:equiv-to-pullback-total-covariant-dhom-equiv" style="visibility: visible; position: relative; color: inherit">equiv-to-pullback-total-covariant-dhom-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext A y<span class="p">)</span>
</span><span id="__span-45-65"><a id="__codelineno-45-65" name="__codelineno-45-65" href="#__codelineno-45-65"></a><span class="err">  : Equiv</span>
</span><span id="__span-45-66"><a id="__codelineno-45-66" name="__codelineno-45-66" href="#__codelineno-45-66"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ i]))</span>
</span><span id="__span-45-67"><a id="__codelineno-45-67" name="__codelineno-45-67" href="#__codelineno-45-67"></a><span class="err">    </span><span class="p">( </span>Σ (i <span class="p">:</span><span class="err"> B x) , </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ (</span><span class="s">first</span><span class="err"> (equiv-BC x)) i]))</span>
</span><span id="__span-45-68"><a id="__codelineno-45-68" name="__codelineno-45-68" href="#__codelineno-45-68"></a><span class="err">  :=</span>
</span><span id="__span-45-69"><a id="__codelineno-45-69" name="__codelineno-45-69" href="#__codelineno-45-69"></a><span class="err">    ( \ (i , h) → (i , </span><span class="p">\ </span>t <span class="err">→ (</span><span class="s">first</span><span class="err"> (equiv-BC (f t))) (h t)) ,</span>
</span><span id="__span-45-70"><a id="__codelineno-45-70" name="__codelineno-45-70" href="#__codelineno-45-70"></a><span class="err">      is-equiv-to-pullback-total-covariant-dhom-equiv)</span>
</span><span id="__span-45-71"><a id="__codelineno-45-71" name="__codelineno-45-71" href="#__codelineno-45-71"></a>
</span><span id="__span-45-72"><a id="__codelineno-45-72" name="__codelineno-45-72" href="#__codelineno-45-72"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:family-equiv-dhom-family-equiv" id="define:family-equiv-dhom-family-equiv" style="visibility: visible; position: relative; color: inherit">family-equiv-dhom-family-equiv</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext A y<span class="p">)</span>
</span><span id="__span-45-73"><a id="__codelineno-45-73" name="__codelineno-45-73" href="#__codelineno-45-73"></a><span class="err">  </span><span class="p">(</span>i <span class="p">:</span><span class="err"> B x)</span>
</span><span id="__span-45-74"><a id="__codelineno-45-74" name="__codelineno-45-74" href="#__codelineno-45-74"></a><span class="err">  : Equiv</span>
</span><span id="__span-45-75"><a id="__codelineno-45-75" name="__codelineno-45-75" href="#__codelineno-45-75"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ i])</span>
</span><span id="__span-45-76"><a id="__codelineno-45-76" name="__codelineno-45-76" href="#__codelineno-45-76"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ (</span><span class="s">first</span><span class="err"> (equiv-BC x)) i])</span>
</span><span id="__span-45-77"><a id="__codelineno-45-77" name="__codelineno-45-77" href="#__codelineno-45-77"></a><span class="err">  :=</span>
</span><span id="__span-45-78"><a id="__codelineno-45-78" name="__codelineno-45-78" href="#__codelineno-45-78"></a><span class="err">    family-equiv-total-equiv</span>
</span><span id="__span-45-79"><a id="__codelineno-45-79" name="__codelineno-45-79" href="#__codelineno-45-79"></a><span class="err">    ( B x)</span>
</span><span id="__span-45-80"><a id="__codelineno-45-80" name="__codelineno-45-80" href="#__codelineno-45-80"></a><span class="err">    </span><span class="p">( </span>\ ii → ((t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ ii]))</span>
</span><span id="__span-45-81"><a id="__codelineno-45-81" name="__codelineno-45-81" href="#__codelineno-45-81"></a><span class="err">    </span><span class="p">( </span>\ ii → ((t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ (</span><span class="s">first</span><span class="err"> (equiv-BC x)) ii]))</span>
</span><span id="__span-45-82"><a id="__codelineno-45-82" name="__codelineno-45-82" href="#__codelineno-45-82"></a><span class="err">    ( </span><span class="p">\ </span>ii h t <span class="err">→ (</span><span class="s">first</span><span class="err"> (equiv-BC (f t))) (h t))</span>
</span><span id="__span-45-83"><a id="__codelineno-45-83" name="__codelineno-45-83" href="#__codelineno-45-83"></a><span class="err">    ( is-equiv-to-pullback-total-covariant-dhom-equiv)</span>
</span><span id="__span-45-84"><a id="__codelineno-45-84" name="__codelineno-45-84" href="#__codelineno-45-84"></a><span class="err">    ( i)</span>
</span><span id="__span-45-85"><a id="__codelineno-45-85" name="__codelineno-45-85" href="#__codelineno-45-85"></a>
</span><span id="__span-45-86"><a id="__codelineno-45-86" name="__codelineno-45-86" href="#__codelineno-45-86"></a><span class="nd">#end</span><span class="n"> dhom-from-equivalence</span>
</span></code></pre></div>
<p>Now we introduce the hypothesis that <code class="language-rzk highlight"><span class="err">C</span></code> is covariant in the form of
<code class="language-rzk highlight"><span class="err">has-unique-fixed-domain-lifts</span></code>.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-has-unique-fixed-domain-lifts" id="define:equiv-has-unique-fixed-domain-lifts" style="visibility: visible; position: relative; color: inherit">equiv-has-unique-fixed-domain-lifts</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="err">  </span><span class="p">( </span>B C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="err">  </span><span class="p">( </span>equiv-BC <span class="p">:</span><span class="err"> </span><span class="p">(</span>a <span class="p">:</span><span class="err"> A) → Equiv (B a) (C a))</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="err">  </span><span class="p">( </span>has-unique-fixed-domain-lifts-C <span class="p">:</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="err">    has-unique-fixed-domain-lifts A C)</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="err">  : has-unique-fixed-domain-lifts A B</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="err">  :=</span>
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a><span class="err">    </span><span class="p">\ </span>x y f i <span class="err">→</span>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a><span class="err">    is-contr-equiv-is-contr&#39;</span>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → B (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ i])</span>
</span><span id="__span-46-12"><a id="__codelineno-46-12" name="__codelineno-46-12" href="#__codelineno-46-12"></a><span class="err">    </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ (</span><span class="s">first</span><span class="err"> (equiv-BC x)) i])</span>
</span><span id="__span-46-13"><a id="__codelineno-46-13" name="__codelineno-46-13" href="#__codelineno-46-13"></a><span class="err">    ( family-equiv-dhom-family-equiv A B C equiv-BC x y f i)</span>
</span><span id="__span-46-14"><a id="__codelineno-46-14" name="__codelineno-46-14" href="#__codelineno-46-14"></a><span class="err">    ( has-unique-fixed-domain-lifts-C x y f ((</span><span class="s">first</span><span class="err"> (equiv-BC x)) i))</span>
</span><span id="__span-46-15"><a id="__codelineno-46-15" name="__codelineno-46-15" href="#__codelineno-46-15"></a>
</span><span id="__span-46-16"><a id="__codelineno-46-16" name="__codelineno-46-16" href="#__codelineno-46-16"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-is-covariant" id="define:equiv-is-covariant" style="visibility: visible; position: relative; color: inherit">equiv-is-covariant</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>extext<span class="p">)</span>
</span><span id="__span-46-17"><a id="__codelineno-46-17" name="__codelineno-46-17" href="#__codelineno-46-17"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-46-18"><a id="__codelineno-46-18" name="__codelineno-46-18" href="#__codelineno-46-18"></a><span class="err">  </span><span class="p">( </span>B C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-46-19"><a id="__codelineno-46-19" name="__codelineno-46-19" href="#__codelineno-46-19"></a><span class="err">  </span><span class="p">( </span>equiv-BC <span class="p">:</span><span class="err"> </span><span class="p">(</span>a <span class="p">:</span><span class="err"> A) → Equiv (B a) (C a))</span>
</span><span id="__span-46-20"><a id="__codelineno-46-20" name="__codelineno-46-20" href="#__codelineno-46-20"></a><span class="err">  </span><span class="p">( </span>is-covariant-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-46-21"><a id="__codelineno-46-21" name="__codelineno-46-21" href="#__codelineno-46-21"></a><span class="err">  : is-covariant A B</span>
</span><span id="__span-46-22"><a id="__codelineno-46-22" name="__codelineno-46-22" href="#__codelineno-46-22"></a><span class="err">  :=</span>
</span><span id="__span-46-23"><a id="__codelineno-46-23" name="__codelineno-46-23" href="#__codelineno-46-23"></a><span class="err">    ( </span><span class="s">first</span><span class="err"> (has-unique-fixed-domain-lifts-iff-is-covariant A B))</span>
</span><span id="__span-46-24"><a id="__codelineno-46-24" name="__codelineno-46-24" href="#__codelineno-46-24"></a><span class="err">      ( equiv-has-unique-fixed-domain-lifts</span>
</span><span id="__span-46-25"><a id="__codelineno-46-25" name="__codelineno-46-25" href="#__codelineno-46-25"></a><span class="err">        A B C equiv-BC</span>
</span><span id="__span-46-26"><a id="__codelineno-46-26" name="__codelineno-46-26" href="#__codelineno-46-26"></a><span class="err">        ( (</span><span class="s">second</span><span class="err"> (has-unique-fixed-domain-lifts-iff-is-covariant A C))</span>
</span><span id="__span-46-27"><a id="__codelineno-46-27" name="__codelineno-46-27" href="#__codelineno-46-27"></a><span class="err">          is-covariant-C))</span>
</span></code></pre></div>
<h2 id="contravariant-families">Contravariant families<a class="headerlink" href="#contravariant-families" title="Permanent link">&para;</a></h2>
<p>A family of types over a base type is contravariant if every arrow in the base
has a unique lift with specified codomain.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:dhom-to" id="define:dhom-to" style="visibility: visible; position: relative; color: inherit">dhom-to</a></span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="err">  : U</span>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="err">  := </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> C x) , dhom A x y f C u v)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Definition 8.2, dual form</span><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-contravariant" id="define:is-contravariant" style="visibility: visible; position: relative; color: inherit">is-contravariant</a></span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="err">  : U</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="err">  :=</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="err">    </span><span class="p">( </span>x <span class="p">:</span><span class="err"> A) → </span><span class="p">(</span>y <span class="p">:</span><span class="err"> A) → </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y) → </span><span class="p">(</span>v <span class="p">:</span><span class="err"> C y) →</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="err">    is-contr (dhom-to A x y f C v)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">The type of contravariant families over a fixed type</span><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:contravariant-family" id="define:contravariant-family" style="visibility: visible; position: relative; color: inherit">contravariant-family</a></span><span class="err"> </span><span class="p">(</span>A <span class="p">:</span><span class="err"> U) : U</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="err">  := </span><span class="p">( </span>Σ (C <span class="p">:</span><span class="err"> A → U) , is-contravariant A C)</span>
</span></code></pre></div>
<p>The notion of a contravariant family is stable under substitution into the base.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Remark 8.3, dual form</span><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-contravariant-substitution-is-contravariant" id="define:is-contravariant-substitution-is-contravariant" style="visibility: visible; position: relative; color: inherit">is-contravariant-substitution-is-contravariant</a></span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="err">  </span><span class="p">( </span>is-contravariant-C <span class="p">:</span><span class="err"> is-contravariant A C)</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="err">  </span><span class="p">( </span>g <span class="p">:</span><span class="err"> B → A)</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="err">  : is-contravariant B (</span><span class="p">\ </span>b <span class="err">→ C (g b))</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="err">  := </span><span class="p">\ </span>x y f v <span class="err">→ is-contravariant-C (g x) (g y) (ap-hom B A g x y f) v</span>
</span></code></pre></div>
<p>The notion of having a unique lift with a fixed codomain may also be expressed
by contractibility of the type of extensions along the codomain inclusion into
the 1-simplex.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-unique-fixed-codomain-lifts" id="define:has-unique-fixed-codomain-lifts" style="visibility: visible; position: relative; color: inherit">has-unique-fixed-codomain-lifts</a></span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="err">  : U</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="err">  :=</span>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="err">    </span><span class="p">( </span>x <span class="p">:</span><span class="err"> A) → </span><span class="p">(</span>y <span class="p">:</span><span class="err"> A) → </span><span class="p">(</span>f <span class="p">:</span><span class="err"> hom A x y) → </span><span class="p">(</span>v <span class="p">:</span><span class="err"> C y) →</span>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="err">    is-contr </span><span class="p">(</span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err"> ↦ v])</span>
</span></code></pre></div>
<p>These two notions of covariance are equivalent because the two types of lifts of
a base arrow with fixed codomain are equivalent. Note that this is not quite an
instance of Theorem 4.4 but its proof, with a very small modification, works
here.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:equiv-lifts-with-fixed-codomain" id="define:equiv-lifts-with-fixed-codomain" style="visibility: visible; position: relative; color: inherit">equiv-lifts-with-fixed-codomain</a></span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="err">  : Equiv</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err"> ↦ v])</span>
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="err">      ( dhom-to A x y f C v)</span>
</span><span id="__span-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a><span class="err">  :=</span>
</span><span id="__span-52-11"><a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a><span class="err">    ( ( </span><span class="p">\ </span>h <span class="err">→ (h </span><span class="m">0₂</span><span class="err"> , </span><span class="p">\ </span>t <span class="err">→ h t)) ,</span>
</span><span id="__span-52-12"><a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="err">      ( ( </span><span class="p">\ </span>fg t <span class="err">→ (</span><span class="s">second</span><span class="err"> fg) t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">) ,</span>
</span><span id="__span-52-13"><a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a><span class="err">        ( ( </span><span class="p">\ </span>fg t <span class="err">→ (</span><span class="s">second</span><span class="err"> fg) t , </span><span class="p">\ </span>h <span class="err">→ </span><span class="s">refl</span><span class="err">))))</span>
</span></code></pre></div>
<p>By the equivalence-invariance of contractibility, this proves the desired
logical equivalence</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-contravariant-has-unique-fixed-codomain-lifts" id="define:is-contravariant-has-unique-fixed-codomain-lifts" style="visibility: visible; position: relative; color: inherit">is-contravariant-has-unique-fixed-codomain-lifts</a></span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="err">  : (has-unique-fixed-codomain-lifts A C) → ( is-contravariant A C)</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="err">  :=</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="err">    </span><span class="p">\ </span>C-has-unique-lifts x y f v <span class="err">→</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="err">      is-contr-equiv-is-contr</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err"> ↦ v])</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="err">      ( dhom-to A x y f C v)</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="err">      ( equiv-lifts-with-fixed-codomain A C x y f v)</span>
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="err">      ( C-has-unique-lifts x y f v)</span>
</span><span id="__span-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a>
</span><span id="__span-53-13"><a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-unique-fixed-codomain-lifts-is-contravariant" id="define:has-unique-fixed-codomain-lifts-is-contravariant" style="visibility: visible; position: relative; color: inherit">has-unique-fixed-codomain-lifts-is-contravariant</a></span>
</span><span id="__span-53-14"><a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-53-15"><a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-53-16"><a id="__codelineno-53-16" name="__codelineno-53-16" href="#__codelineno-53-16"></a><span class="err">  : (is-contravariant A C) → (has-unique-fixed-codomain-lifts A C)</span>
</span><span id="__span-53-17"><a id="__codelineno-53-17" name="__codelineno-53-17" href="#__codelineno-53-17"></a><span class="err">  :=</span>
</span><span id="__span-53-18"><a id="__codelineno-53-18" name="__codelineno-53-18" href="#__codelineno-53-18"></a><span class="err">    </span><span class="p">\ </span>is-contravariant-C x y f v <span class="err">→</span>
</span><span id="__span-53-19"><a id="__codelineno-53-19" name="__codelineno-53-19" href="#__codelineno-53-19"></a><span class="err">      is-contr-equiv-is-contr&#39;</span>
</span><span id="__span-53-20"><a id="__codelineno-53-20" name="__codelineno-53-20" href="#__codelineno-53-20"></a><span class="err">      </span><span class="p">( </span>(t <span class="p">:</span><span class="err"> Δ¹) → C (f t) [t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err"> ↦ v])</span>
</span><span id="__span-53-21"><a id="__codelineno-53-21" name="__codelineno-53-21" href="#__codelineno-53-21"></a><span class="err">      ( dhom-to A x y f C v)</span>
</span><span id="__span-53-22"><a id="__codelineno-53-22" name="__codelineno-53-22" href="#__codelineno-53-22"></a><span class="err">      ( equiv-lifts-with-fixed-codomain A C x y f v)</span>
</span><span id="__span-53-23"><a id="__codelineno-53-23" name="__codelineno-53-23" href="#__codelineno-53-23"></a><span class="err">      ( is-contravariant-C x y f v)</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.4</span><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:has-unique-fixed-codomain-lifts-iff-is-contravariant" id="define:has-unique-fixed-codomain-lifts-iff-is-contravariant" style="visibility: visible; position: relative; color: inherit">has-unique-fixed-codomain-lifts-iff-is-contravariant</a></span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a><span class="err">  : iff</span>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="err">      ( has-unique-fixed-codomain-lifts A C)</span>
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="err">      ( is-contravariant A C)</span>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="err">  :=</span>
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a><span class="err">    ( is-contravariant-has-unique-fixed-codomain-lifts A C,</span>
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="err">      has-unique-fixed-codomain-lifts-is-contravariant A C)</span>
</span></code></pre></div>
<h2 id="representable-contravariant-families">Representable contravariant families<a class="headerlink" href="#representable-contravariant-families" title="Permanent link">&para;</a></h2>
<p>If A is a Segal type and a : A is any term, then the family \ x → hom A x a
defines a contravariant family over A , and conversely if this family is
contravariant for every a : A , then A must be a Segal type. The proof involves
a rather lengthy composition of equivalences.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:dhom-contra-representable" id="define:dhom-contra-representable" style="visibility: visible; position: relative; color: inherit">dhom-contra-representable</a></span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A x a)</span>
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="err">  : U</span>
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="err">  := dhom A x y f (</span><span class="p">\ </span>z <span class="err">→ hom A z a) u v</span>
</span></code></pre></div>
<p>By uncurrying (RS 4.2) we have an equivalence:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:uncurried-dhom-contra-representable" id="define:uncurried-dhom-contra-representable" style="visibility: visible; position: relative; color: inherit">uncurried-dhom-contra-representable</a></span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> hom A x a)</span>
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="err">  : Equiv</span>
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="err">    ( dhom-contra-representable A a x y f u v)</span>
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="err">    ( ((t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="err">      A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ f t ,</span>
</span><span id="__span-56-13"><a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ a])</span>
</span><span id="__span-56-14"><a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a><span class="err">  :=</span>
</span><span id="__span-56-15"><a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a><span class="err">    curry-uncurry </span><span class="kt">2</span><span class="err"> </span><span class="kt">2</span><span class="err"> Δ¹ ∂Δ¹ Δ¹ ∂Δ¹ (</span><span class="p">\ </span>t s <span class="err">→ A)</span>
</span><span id="__span-56-16"><a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a><span class="err">      ( \ (t , s) →</span>
</span><span id="__span-56-17"><a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a><span class="err">        </span><span class="s">recOR</span>
</span><span id="__span-56-18"><a id="__codelineno-56-18" name="__codelineno-56-18" href="#__codelineno-56-18"></a><span class="err">        ( (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-56-19"><a id="__codelineno-56-19" name="__codelineno-56-19" href="#__codelineno-56-19"></a><span class="err">          (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-56-20"><a id="__codelineno-56-20" name="__codelineno-56-20" href="#__codelineno-56-20"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ f t ,</span>
</span><span id="__span-56-21"><a id="__codelineno-56-21" name="__codelineno-56-21" href="#__codelineno-56-21"></a><span class="err">          (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ a))</span>
</span><span id="__span-56-22"><a id="__codelineno-56-22" name="__codelineno-56-22" href="#__codelineno-56-22"></a>
</span><span id="__span-56-23"><a id="__codelineno-56-23" name="__codelineno-56-23" href="#__codelineno-56-23"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:dhom-to-representable" id="define:dhom-to-representable" style="visibility: visible; position: relative; color: inherit">dhom-to-representable</a></span>
</span><span id="__span-56-24"><a id="__codelineno-56-24" name="__codelineno-56-24" href="#__codelineno-56-24"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-56-25"><a id="__codelineno-56-25" name="__codelineno-56-25" href="#__codelineno-56-25"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-56-26"><a id="__codelineno-56-26" name="__codelineno-56-26" href="#__codelineno-56-26"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-56-27"><a id="__codelineno-56-27" name="__codelineno-56-27" href="#__codelineno-56-27"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-56-28"><a id="__codelineno-56-28" name="__codelineno-56-28" href="#__codelineno-56-28"></a><span class="err">  : U</span>
</span><span id="__span-56-29"><a id="__codelineno-56-29" name="__codelineno-56-29" href="#__codelineno-56-29"></a><span class="err">  := dhom-to A x y f (</span><span class="p">\ </span>z <span class="err">→ hom A z a) v</span>
</span></code></pre></div>
<p>By uncurrying (RS 4.2) we have an equivalence:</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:uncurried-dhom-to-representable" id="define:uncurried-dhom-to-representable" style="visibility: visible; position: relative; color: inherit">uncurried-dhom-to-representable</a></span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="err">  : Equiv</span>
</span><span id="__span-57-7"><a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-57-8"><a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="err">    </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-9"><a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-57-10"><a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-57-11"><a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-57-12"><a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ f t ,</span>
</span><span id="__span-57-13"><a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ a]))</span>
</span><span id="__span-57-14"><a id="__codelineno-57-14" name="__codelineno-57-14" href="#__codelineno-57-14"></a><span class="err">  :=</span>
</span><span id="__span-57-15"><a id="__codelineno-57-15" name="__codelineno-57-15" href="#__codelineno-57-15"></a><span class="err">    total-equiv-family-equiv</span>
</span><span id="__span-57-16"><a id="__codelineno-57-16" name="__codelineno-57-16" href="#__codelineno-57-16"></a><span class="err">    ( hom A x a)</span>
</span><span id="__span-57-17"><a id="__codelineno-57-17" name="__codelineno-57-17" href="#__codelineno-57-17"></a><span class="err">    ( </span><span class="p">\ </span>u <span class="err">→ dhom-contra-representable A a x y f u v)</span>
</span><span id="__span-57-18"><a id="__codelineno-57-18" name="__codelineno-57-18" href="#__codelineno-57-18"></a><span class="err">    ( </span><span class="p">\ </span>u <span class="err">→</span>
</span><span id="__span-57-19"><a id="__codelineno-57-19" name="__codelineno-57-19" href="#__codelineno-57-19"></a><span class="err">      ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-57-20"><a id="__codelineno-57-20" name="__codelineno-57-20" href="#__codelineno-57-20"></a><span class="err">        A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-57-21"><a id="__codelineno-57-21" name="__codelineno-57-21" href="#__codelineno-57-21"></a><span class="err">            (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-57-22"><a id="__codelineno-57-22" name="__codelineno-57-22" href="#__codelineno-57-22"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ f t ,</span>
</span><span id="__span-57-23"><a id="__codelineno-57-23" name="__codelineno-57-23" href="#__codelineno-57-23"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ a]))</span>
</span><span id="__span-57-24"><a id="__codelineno-57-24" name="__codelineno-57-24" href="#__codelineno-57-24"></a><span class="err">    ( </span><span class="p">\ </span>u <span class="err">→ uncurried-dhom-contra-representable A a x y f u v)</span>
</span><span id="__span-57-25"><a id="__codelineno-57-25" name="__codelineno-57-25" href="#__codelineno-57-25"></a>
</span><span id="__span-57-26"><a id="__codelineno-57-26" name="__codelineno-57-26" href="#__codelineno-57-26"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-to-uncurry-hom2" id="define:representable-dhom-to-uncurry-hom2" style="visibility: visible; position: relative; color: inherit">representable-dhom-to-uncurry-hom2</a></span>
</span><span id="__span-57-27"><a id="__codelineno-57-27" name="__codelineno-57-27" href="#__codelineno-57-27"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-57-28"><a id="__codelineno-57-28" name="__codelineno-57-28" href="#__codelineno-57-28"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-57-29"><a id="__codelineno-57-29" name="__codelineno-57-29" href="#__codelineno-57-29"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-57-30"><a id="__codelineno-57-30" name="__codelineno-57-30" href="#__codelineno-57-30"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-57-31"><a id="__codelineno-57-31" name="__codelineno-57-31" href="#__codelineno-57-31"></a><span class="err">  : Equiv</span>
</span><span id="__span-57-32"><a id="__codelineno-57-32" name="__codelineno-57-32" href="#__codelineno-57-32"></a><span class="err">    </span><span class="p">( </span>Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-33"><a id="__codelineno-57-33" name="__codelineno-57-33" href="#__codelineno-57-33"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-57-34"><a id="__codelineno-57-34" name="__codelineno-57-34" href="#__codelineno-57-34"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-57-35"><a id="__codelineno-57-35" name="__codelineno-57-35" href="#__codelineno-57-35"></a><span class="err">            (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-57-36"><a id="__codelineno-57-36" name="__codelineno-57-36" href="#__codelineno-57-36"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ f t ,</span>
</span><span id="__span-57-37"><a id="__codelineno-57-37" name="__codelineno-57-37" href="#__codelineno-57-37"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ a]))</span>
</span><span id="__span-57-38"><a id="__codelineno-57-38" name="__codelineno-57-38" href="#__codelineno-57-38"></a><span class="err">    </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-39"><a id="__codelineno-57-39" name="__codelineno-57-39" href="#__codelineno-57-39"></a><span class="err">      </span><span class="p">(</span>Σ (d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-40"><a id="__codelineno-57-40" name="__codelineno-57-40" href="#__codelineno-57-40"></a><span class="err">        product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d)))</span>
</span><span id="__span-57-41"><a id="__codelineno-57-41" name="__codelineno-57-41" href="#__codelineno-57-41"></a><span class="err">  :=</span>
</span><span id="__span-57-42"><a id="__codelineno-57-42" name="__codelineno-57-42" href="#__codelineno-57-42"></a><span class="err">    total-equiv-family-equiv (hom A x a)</span>
</span><span id="__span-57-43"><a id="__codelineno-57-43" name="__codelineno-57-43" href="#__codelineno-57-43"></a><span class="err">    ( </span><span class="p">\ </span>u <span class="err">→</span>
</span><span id="__span-57-44"><a id="__codelineno-57-44" name="__codelineno-57-44" href="#__codelineno-57-44"></a><span class="err">      ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-57-45"><a id="__codelineno-57-45" name="__codelineno-57-45" href="#__codelineno-57-45"></a><span class="err">        A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-57-46"><a id="__codelineno-57-46" name="__codelineno-57-46" href="#__codelineno-57-46"></a><span class="err">            (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-57-47"><a id="__codelineno-57-47" name="__codelineno-57-47" href="#__codelineno-57-47"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ f t ,</span>
</span><span id="__span-57-48"><a id="__codelineno-57-48" name="__codelineno-57-48" href="#__codelineno-57-48"></a><span class="err">            (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ a]))</span>
</span><span id="__span-57-49"><a id="__codelineno-57-49" name="__codelineno-57-49" href="#__codelineno-57-49"></a><span class="err">    </span><span class="p">( </span>\ u →
</span><span id="__span-57-50"><a id="__codelineno-57-50" name="__codelineno-57-50" href="#__codelineno-57-50"></a>      Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-51"><a id="__codelineno-57-51" name="__codelineno-57-51" href="#__codelineno-57-51"></a><span class="err">        ( product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d)))</span>
</span><span id="__span-57-52"><a id="__codelineno-57-52" name="__codelineno-57-52" href="#__codelineno-57-52"></a><span class="err">    ( </span><span class="p">\ </span>u <span class="err">→ equiv-square-hom2-pushout A x a y a u (id-hom A a) f v)</span>
</span><span id="__span-57-53"><a id="__codelineno-57-53" name="__codelineno-57-53" href="#__codelineno-57-53"></a>
</span><span id="__span-57-54"><a id="__codelineno-57-54" name="__codelineno-57-54" href="#__codelineno-57-54"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-to-hom2" id="define:representable-dhom-to-hom2" style="visibility: visible; position: relative; color: inherit">representable-dhom-to-hom2</a></span>
</span><span id="__span-57-55"><a id="__codelineno-57-55" name="__codelineno-57-55" href="#__codelineno-57-55"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-57-56"><a id="__codelineno-57-56" name="__codelineno-57-56" href="#__codelineno-57-56"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-57-57"><a id="__codelineno-57-57" name="__codelineno-57-57" href="#__codelineno-57-57"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-57-58"><a id="__codelineno-57-58" name="__codelineno-57-58" href="#__codelineno-57-58"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-57-59"><a id="__codelineno-57-59" name="__codelineno-57-59" href="#__codelineno-57-59"></a><span class="err">  : Equiv</span>
</span><span id="__span-57-60"><a id="__codelineno-57-60" name="__codelineno-57-60" href="#__codelineno-57-60"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-57-61"><a id="__codelineno-57-61" name="__codelineno-57-61" href="#__codelineno-57-61"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-62"><a id="__codelineno-57-62" name="__codelineno-57-62" href="#__codelineno-57-62"></a><span class="err">      </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-63"><a id="__codelineno-57-63" name="__codelineno-57-63" href="#__codelineno-57-63"></a><span class="err">        product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d)))</span>
</span><span id="__span-57-64"><a id="__codelineno-57-64" name="__codelineno-57-64" href="#__codelineno-57-64"></a><span class="err">  :=</span>
</span><span id="__span-57-65"><a id="__codelineno-57-65" name="__codelineno-57-65" href="#__codelineno-57-65"></a><span class="err">    equiv-triple-comp</span>
</span><span id="__span-57-66"><a id="__codelineno-57-66" name="__codelineno-57-66" href="#__codelineno-57-66"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-57-67"><a id="__codelineno-57-67" name="__codelineno-57-67" href="#__codelineno-57-67"></a><span class="err">    </span><span class="p">( </span>Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-68"><a id="__codelineno-57-68" name="__codelineno-57-68" href="#__codelineno-57-68"></a><span class="err">        ( ( (t , s) : Δ¹×Δ¹) →</span>
</span><span id="__span-57-69"><a id="__codelineno-57-69" name="__codelineno-57-69" href="#__codelineno-57-69"></a><span class="err">          A [ (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ u s ,</span>
</span><span id="__span-57-70"><a id="__codelineno-57-70" name="__codelineno-57-70" href="#__codelineno-57-70"></a><span class="err">              (t </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) </span><span class="sx">∧</span><span class="err"> (Δ¹ s) ↦ v s ,</span>
</span><span id="__span-57-71"><a id="__codelineno-57-71" name="__codelineno-57-71" href="#__codelineno-57-71"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) ↦ f t ,</span>
</span><span id="__span-57-72"><a id="__codelineno-57-72" name="__codelineno-57-72" href="#__codelineno-57-72"></a><span class="err">              (Δ¹ t) </span><span class="sx">∧</span><span class="err"> (s </span><span class="sx">≡</span><span class="err"> </span><span class="m">1₂</span><span class="err">) ↦ a]))</span>
</span><span id="__span-57-73"><a id="__codelineno-57-73" name="__codelineno-57-73" href="#__codelineno-57-73"></a><span class="err">    </span><span class="p">( </span>Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-74"><a id="__codelineno-57-74" name="__codelineno-57-74" href="#__codelineno-57-74"></a><span class="err">        </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-75"><a id="__codelineno-57-75" name="__codelineno-57-75" href="#__codelineno-57-75"></a><span class="err">            ( product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d))))</span>
</span><span id="__span-57-76"><a id="__codelineno-57-76" name="__codelineno-57-76" href="#__codelineno-57-76"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-77"><a id="__codelineno-57-77" name="__codelineno-57-77" href="#__codelineno-57-77"></a><span class="err">        </span><span class="p">( </span>Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-78"><a id="__codelineno-57-78" name="__codelineno-57-78" href="#__codelineno-57-78"></a><span class="err">            ( product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d))))</span>
</span><span id="__span-57-79"><a id="__codelineno-57-79" name="__codelineno-57-79" href="#__codelineno-57-79"></a><span class="err">    ( uncurried-dhom-to-representable A a x y f v)</span>
</span><span id="__span-57-80"><a id="__codelineno-57-80" name="__codelineno-57-80" href="#__codelineno-57-80"></a><span class="err">    ( representable-dhom-to-uncurry-hom2 A a x y f v)</span>
</span><span id="__span-57-81"><a id="__codelineno-57-81" name="__codelineno-57-81" href="#__codelineno-57-81"></a><span class="err">    ( fubini-Σ (hom A x a) (hom A x a)</span>
</span><span id="__span-57-82"><a id="__codelineno-57-82" name="__codelineno-57-82" href="#__codelineno-57-82"></a><span class="err">      ( </span><span class="p">\ </span>u d <span class="err">→ product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d)))</span>
</span><span id="__span-57-83"><a id="__codelineno-57-83" name="__codelineno-57-83" href="#__codelineno-57-83"></a>
</span><span id="__span-57-84"><a id="__codelineno-57-84" name="__codelineno-57-84" href="#__codelineno-57-84"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-to-hom2-swap" id="define:representable-dhom-to-hom2-swap" style="visibility: visible; position: relative; color: inherit">representable-dhom-to-hom2-swap</a></span>
</span><span id="__span-57-85"><a id="__codelineno-57-85" name="__codelineno-57-85" href="#__codelineno-57-85"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-57-86"><a id="__codelineno-57-86" name="__codelineno-57-86" href="#__codelineno-57-86"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-57-87"><a id="__codelineno-57-87" name="__codelineno-57-87" href="#__codelineno-57-87"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-57-88"><a id="__codelineno-57-88" name="__codelineno-57-88" href="#__codelineno-57-88"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-57-89"><a id="__codelineno-57-89" name="__codelineno-57-89" href="#__codelineno-57-89"></a><span class="err">  : Equiv</span>
</span><span id="__span-57-90"><a id="__codelineno-57-90" name="__codelineno-57-90" href="#__codelineno-57-90"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-57-91"><a id="__codelineno-57-91" name="__codelineno-57-91" href="#__codelineno-57-91"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-92"><a id="__codelineno-57-92" name="__codelineno-57-92" href="#__codelineno-57-92"></a><span class="err">        </span><span class="p">( </span>Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-93"><a id="__codelineno-57-93" name="__codelineno-57-93" href="#__codelineno-57-93"></a><span class="err">            ( product (hom2 A x y a f v d) (hom2 A x a a u (id-hom A a) d))))</span>
</span><span id="__span-57-94"><a id="__codelineno-57-94" name="__codelineno-57-94" href="#__codelineno-57-94"></a><span class="err">  :=</span>
</span><span id="__span-57-95"><a id="__codelineno-57-95" name="__codelineno-57-95" href="#__codelineno-57-95"></a><span class="err">    equiv-comp</span>
</span><span id="__span-57-96"><a id="__codelineno-57-96" name="__codelineno-57-96" href="#__codelineno-57-96"></a><span class="err">      ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-57-97"><a id="__codelineno-57-97" name="__codelineno-57-97" href="#__codelineno-57-97"></a><span class="err">      </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-98"><a id="__codelineno-57-98" name="__codelineno-57-98" href="#__codelineno-57-98"></a><span class="err">          </span><span class="p">( </span>Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-99"><a id="__codelineno-57-99" name="__codelineno-57-99" href="#__codelineno-57-99"></a><span class="err">              ( product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d))))</span>
</span><span id="__span-57-100"><a id="__codelineno-57-100" name="__codelineno-57-100" href="#__codelineno-57-100"></a><span class="err">      </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-101"><a id="__codelineno-57-101" name="__codelineno-57-101" href="#__codelineno-57-101"></a><span class="err">          </span><span class="p">( </span>Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-102"><a id="__codelineno-57-102" name="__codelineno-57-102" href="#__codelineno-57-102"></a><span class="err">              ( product (hom2 A x y a f v d) (hom2 A x a a u (id-hom A a) d))))</span>
</span><span id="__span-57-103"><a id="__codelineno-57-103" name="__codelineno-57-103" href="#__codelineno-57-103"></a><span class="err">      ( representable-dhom-to-hom2 A a x y f v)</span>
</span><span id="__span-57-104"><a id="__codelineno-57-104" name="__codelineno-57-104" href="#__codelineno-57-104"></a><span class="err">      ( total-equiv-family-equiv (hom A x a)</span>
</span><span id="__span-57-105"><a id="__codelineno-57-105" name="__codelineno-57-105" href="#__codelineno-57-105"></a><span class="err">        </span><span class="p">(</span>\ d →
</span><span id="__span-57-106"><a id="__codelineno-57-106" name="__codelineno-57-106" href="#__codelineno-57-106"></a>          Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-107"><a id="__codelineno-57-107" name="__codelineno-57-107" href="#__codelineno-57-107"></a><span class="err">            ( product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d)))</span>
</span><span id="__span-57-108"><a id="__codelineno-57-108" name="__codelineno-57-108" href="#__codelineno-57-108"></a><span class="err">        </span><span class="p">( </span>\ d →
</span><span id="__span-57-109"><a id="__codelineno-57-109" name="__codelineno-57-109" href="#__codelineno-57-109"></a>          Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-110"><a id="__codelineno-57-110" name="__codelineno-57-110" href="#__codelineno-57-110"></a><span class="err">            ( product (hom2 A x y a f v d) (hom2 A x a a u (id-hom A a) d)))</span>
</span><span id="__span-57-111"><a id="__codelineno-57-111" name="__codelineno-57-111" href="#__codelineno-57-111"></a><span class="err">        ( </span><span class="p">\ </span>d <span class="err">→ total-equiv-family-equiv (hom A x a)</span>
</span><span id="__span-57-112"><a id="__codelineno-57-112" name="__codelineno-57-112" href="#__codelineno-57-112"></a><span class="err">          ( </span><span class="p">\ </span>u <span class="err">→ product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d))</span>
</span><span id="__span-57-113"><a id="__codelineno-57-113" name="__codelineno-57-113" href="#__codelineno-57-113"></a><span class="err">          ( </span><span class="p">\ </span>u <span class="err">→ product (hom2 A x y a f v d) (hom2 A x a a u (id-hom A a) d))</span>
</span><span id="__span-57-114"><a id="__codelineno-57-114" name="__codelineno-57-114" href="#__codelineno-57-114"></a><span class="err">          ( </span><span class="p">\ </span>u <span class="err">→</span>
</span><span id="__span-57-115"><a id="__codelineno-57-115" name="__codelineno-57-115" href="#__codelineno-57-115"></a><span class="err">            sym-product (hom2 A x a a u (id-hom A a) d) (hom2 A x y a f v d))))</span>
</span><span id="__span-57-116"><a id="__codelineno-57-116" name="__codelineno-57-116" href="#__codelineno-57-116"></a>
</span><span id="__span-57-117"><a id="__codelineno-57-117" name="__codelineno-57-117" href="#__codelineno-57-117"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-to-hom2-dist" id="define:representable-dhom-to-hom2-dist" style="visibility: visible; position: relative; color: inherit">representable-dhom-to-hom2-dist</a></span>
</span><span id="__span-57-118"><a id="__codelineno-57-118" name="__codelineno-57-118" href="#__codelineno-57-118"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-57-119"><a id="__codelineno-57-119" name="__codelineno-57-119" href="#__codelineno-57-119"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-57-120"><a id="__codelineno-57-120" name="__codelineno-57-120" href="#__codelineno-57-120"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-57-121"><a id="__codelineno-57-121" name="__codelineno-57-121" href="#__codelineno-57-121"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-57-122"><a id="__codelineno-57-122" name="__codelineno-57-122" href="#__codelineno-57-122"></a><span class="err">  : Equiv</span>
</span><span id="__span-57-123"><a id="__codelineno-57-123" name="__codelineno-57-123" href="#__codelineno-57-123"></a><span class="err">      ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-57-124"><a id="__codelineno-57-124" name="__codelineno-57-124" href="#__codelineno-57-124"></a><span class="err">      </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-125"><a id="__codelineno-57-125" name="__codelineno-57-125" href="#__codelineno-57-125"></a><span class="err">          ( product</span>
</span><span id="__span-57-126"><a id="__codelineno-57-126" name="__codelineno-57-126" href="#__codelineno-57-126"></a><span class="err">            ( hom2 A x y a f v d)</span>
</span><span id="__span-57-127"><a id="__codelineno-57-127" name="__codelineno-57-127" href="#__codelineno-57-127"></a><span class="err">            </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , hom2 A x a a u (id-hom A a) d)))</span>
</span><span id="__span-57-128"><a id="__codelineno-57-128" name="__codelineno-57-128" href="#__codelineno-57-128"></a><span class="err">  :=</span>
</span><span id="__span-57-129"><a id="__codelineno-57-129" name="__codelineno-57-129" href="#__codelineno-57-129"></a><span class="err">    equiv-right-cancel</span>
</span><span id="__span-57-130"><a id="__codelineno-57-130" name="__codelineno-57-130" href="#__codelineno-57-130"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-57-131"><a id="__codelineno-57-131" name="__codelineno-57-131" href="#__codelineno-57-131"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-132"><a id="__codelineno-57-132" name="__codelineno-57-132" href="#__codelineno-57-132"></a><span class="err">        ( product</span>
</span><span id="__span-57-133"><a id="__codelineno-57-133" name="__codelineno-57-133" href="#__codelineno-57-133"></a><span class="err">          ( hom2 A x y a f v d)</span>
</span><span id="__span-57-134"><a id="__codelineno-57-134" name="__codelineno-57-134" href="#__codelineno-57-134"></a><span class="err">          </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , hom2 A x a a u (id-hom A a) d)))</span>
</span><span id="__span-57-135"><a id="__codelineno-57-135" name="__codelineno-57-135" href="#__codelineno-57-135"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-136"><a id="__codelineno-57-136" name="__codelineno-57-136" href="#__codelineno-57-136"></a><span class="err">        </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-137"><a id="__codelineno-57-137" name="__codelineno-57-137" href="#__codelineno-57-137"></a><span class="err">          product</span>
</span><span id="__span-57-138"><a id="__codelineno-57-138" name="__codelineno-57-138" href="#__codelineno-57-138"></a><span class="err">          ( hom2 A x y a f v d)</span>
</span><span id="__span-57-139"><a id="__codelineno-57-139" name="__codelineno-57-139" href="#__codelineno-57-139"></a><span class="err">          ( hom2 A x a a u (id-hom A a) d)))</span>
</span><span id="__span-57-140"><a id="__codelineno-57-140" name="__codelineno-57-140" href="#__codelineno-57-140"></a><span class="err">    ( representable-dhom-to-hom2-swap A a x y f v)</span>
</span><span id="__span-57-141"><a id="__codelineno-57-141" name="__codelineno-57-141" href="#__codelineno-57-141"></a><span class="err">    ( total-equiv-family-equiv (hom A x a)</span>
</span><span id="__span-57-142"><a id="__codelineno-57-142" name="__codelineno-57-142" href="#__codelineno-57-142"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→</span>
</span><span id="__span-57-143"><a id="__codelineno-57-143" name="__codelineno-57-143" href="#__codelineno-57-143"></a><span class="err">        ( product</span>
</span><span id="__span-57-144"><a id="__codelineno-57-144" name="__codelineno-57-144" href="#__codelineno-57-144"></a><span class="err">          ( hom2 A x y a f v d)</span>
</span><span id="__span-57-145"><a id="__codelineno-57-145" name="__codelineno-57-145" href="#__codelineno-57-145"></a><span class="err">          </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , hom2 A x a a u (id-hom A a) d)))</span>
</span><span id="__span-57-146"><a id="__codelineno-57-146" name="__codelineno-57-146" href="#__codelineno-57-146"></a><span class="err">      </span><span class="p">( </span>\ d →
</span><span id="__span-57-147"><a id="__codelineno-57-147" name="__codelineno-57-147" href="#__codelineno-57-147"></a>        ( Σ ( u <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-57-148"><a id="__codelineno-57-148" name="__codelineno-57-148" href="#__codelineno-57-148"></a><span class="err">            ( product (hom2 A x y a f v d) (hom2 A x a a u (id-hom A a) d))))</span>
</span><span id="__span-57-149"><a id="__codelineno-57-149" name="__codelineno-57-149" href="#__codelineno-57-149"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→</span>
</span><span id="__span-57-150"><a id="__codelineno-57-150" name="__codelineno-57-150" href="#__codelineno-57-150"></a><span class="err">        ( distributive-product-Σ</span>
</span><span id="__span-57-151"><a id="__codelineno-57-151" name="__codelineno-57-151" href="#__codelineno-57-151"></a><span class="err">          ( hom2 A x y a f v d)</span>
</span><span id="__span-57-152"><a id="__codelineno-57-152" name="__codelineno-57-152" href="#__codelineno-57-152"></a><span class="err">          ( hom A x a)</span>
</span><span id="__span-57-153"><a id="__codelineno-57-153" name="__codelineno-57-153" href="#__codelineno-57-153"></a><span class="err">          ( </span><span class="p">\ </span>u <span class="err">→ hom2 A x a a u (id-hom A a) d))))</span>
</span></code></pre></div>
<p>Now we introduce the hypothesis that A is Segal type.</p>
<div class="language-rzk highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:representable-dhom-to-path-space-is-segal" id="define:representable-dhom-to-path-space-is-segal" style="visibility: visible; position: relative; color: inherit">representable-dhom-to-path-space-is-segal</a></span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-58-7"><a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="err">  : Equiv</span>
</span><span id="__span-58-8"><a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-58-9"><a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-58-10"><a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a><span class="err">        ( product (hom2 A x y a f v d) </span><span class="p">(</span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , (u = d))))</span>
</span><span id="__span-58-11"><a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a><span class="err">  :=</span>
</span><span id="__span-58-12"><a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a><span class="err">    equiv-right-cancel</span>
</span><span id="__span-58-13"><a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-58-14"><a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-58-15"><a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a><span class="err">        ( product (hom2 A x y a f v d) </span><span class="p">(</span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , (u = d))))</span>
</span><span id="__span-58-16"><a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-58-17"><a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a><span class="err">        ( product</span>
</span><span id="__span-58-18"><a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a><span class="err">          ( hom2 A x y a f v d)</span>
</span><span id="__span-58-19"><a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a><span class="err">          </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , (hom2 A x a a u (id-hom A a) d))))</span>
</span><span id="__span-58-20"><a id="__codelineno-58-20" name="__codelineno-58-20" href="#__codelineno-58-20"></a><span class="err">    ( representable-dhom-to-hom2-dist A a x y f v)</span>
</span><span id="__span-58-21"><a id="__codelineno-58-21" name="__codelineno-58-21" href="#__codelineno-58-21"></a><span class="err">    ( total-equiv-family-equiv (hom A x a)</span>
</span><span id="__span-58-22"><a id="__codelineno-58-22" name="__codelineno-58-22" href="#__codelineno-58-22"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→ product (hom2 A x y a f v d) </span><span class="p">(</span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , (u = d)))</span>
</span><span id="__span-58-23"><a id="__codelineno-58-23" name="__codelineno-58-23" href="#__codelineno-58-23"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→</span>
</span><span id="__span-58-24"><a id="__codelineno-58-24" name="__codelineno-58-24" href="#__codelineno-58-24"></a><span class="err">        product</span>
</span><span id="__span-58-25"><a id="__codelineno-58-25" name="__codelineno-58-25" href="#__codelineno-58-25"></a><span class="err">          ( hom2 A x y a f v d)</span>
</span><span id="__span-58-26"><a id="__codelineno-58-26" name="__codelineno-58-26" href="#__codelineno-58-26"></a><span class="err">          </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , hom2 A x a a u (id-hom A a) d))</span>
</span><span id="__span-58-27"><a id="__codelineno-58-27" name="__codelineno-58-27" href="#__codelineno-58-27"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→</span>
</span><span id="__span-58-28"><a id="__codelineno-58-28" name="__codelineno-58-28" href="#__codelineno-58-28"></a><span class="err">        total-equiv-family-equiv</span>
</span><span id="__span-58-29"><a id="__codelineno-58-29" name="__codelineno-58-29" href="#__codelineno-58-29"></a><span class="err">          ( hom2 A x y a f v d)</span>
</span><span id="__span-58-30"><a id="__codelineno-58-30" name="__codelineno-58-30" href="#__codelineno-58-30"></a><span class="err">          </span><span class="p">( </span>\ α → (Σ (u <span class="p">:</span><span class="err"> hom A x a) , (u = d)))</span>
</span><span id="__span-58-31"><a id="__codelineno-58-31" name="__codelineno-58-31" href="#__codelineno-58-31"></a><span class="err">          </span><span class="p">( </span>\ α → (Σ (u <span class="p">:</span><span class="err"> hom A x a) , hom2 A x a a u (id-hom A a) d))</span>
</span><span id="__span-58-32"><a id="__codelineno-58-32" name="__codelineno-58-32" href="#__codelineno-58-32"></a><span class="err">          ( </span><span class="p">\ </span>α <span class="err">→</span>
</span><span id="__span-58-33"><a id="__codelineno-58-33" name="__codelineno-58-33" href="#__codelineno-58-33"></a><span class="err">          ( total-equiv-family-equiv</span>
</span><span id="__span-58-34"><a id="__codelineno-58-34" name="__codelineno-58-34" href="#__codelineno-58-34"></a><span class="err">            ( hom A x a)</span>
</span><span id="__span-58-35"><a id="__codelineno-58-35" name="__codelineno-58-35" href="#__codelineno-58-35"></a><span class="err">            ( </span><span class="p">\ </span>u <span class="err">→ (u = d))</span>
</span><span id="__span-58-36"><a id="__codelineno-58-36" name="__codelineno-58-36" href="#__codelineno-58-36"></a><span class="err">            ( </span><span class="p">\ </span>u <span class="err">→ hom2 A x a a u (id-hom A a) d)</span>
</span><span id="__span-58-37"><a id="__codelineno-58-37" name="__codelineno-58-37" href="#__codelineno-58-37"></a><span class="err">            ( </span><span class="p">\ </span>u <span class="err">→ equiv-homotopy-hom2&#39;-is-segal A is-segal-A x a u d)))))</span>
</span><span id="__span-58-38"><a id="__codelineno-58-38" name="__codelineno-58-38" href="#__codelineno-58-38"></a>
</span><span id="__span-58-39"><a id="__codelineno-58-39" name="__codelineno-58-39" href="#__codelineno-58-39"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-segal-representable-dhom-to-hom2" id="define:is-segal-representable-dhom-to-hom2" style="visibility: visible; position: relative; color: inherit">is-segal-representable-dhom-to-hom2</a></span>
</span><span id="__span-58-40"><a id="__codelineno-58-40" name="__codelineno-58-40" href="#__codelineno-58-40"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-58-41"><a id="__codelineno-58-41" name="__codelineno-58-41" href="#__codelineno-58-41"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-58-42"><a id="__codelineno-58-42" name="__codelineno-58-42" href="#__codelineno-58-42"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-58-43"><a id="__codelineno-58-43" name="__codelineno-58-43" href="#__codelineno-58-43"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-58-44"><a id="__codelineno-58-44" name="__codelineno-58-44" href="#__codelineno-58-44"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-58-45"><a id="__codelineno-58-45" name="__codelineno-58-45" href="#__codelineno-58-45"></a><span class="err">  : Equiv</span>
</span><span id="__span-58-46"><a id="__codelineno-58-46" name="__codelineno-58-46" href="#__codelineno-58-46"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-58-47"><a id="__codelineno-58-47" name="__codelineno-58-47" href="#__codelineno-58-47"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A x a) , (hom2 A x y a f v d))</span>
</span><span id="__span-58-48"><a id="__codelineno-58-48" name="__codelineno-58-48" href="#__codelineno-58-48"></a><span class="err">  :=</span>
</span><span id="__span-58-49"><a id="__codelineno-58-49" name="__codelineno-58-49" href="#__codelineno-58-49"></a><span class="err">    equiv-comp</span>
</span><span id="__span-58-50"><a id="__codelineno-58-50" name="__codelineno-58-50" href="#__codelineno-58-50"></a><span class="err">    ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-58-51"><a id="__codelineno-58-51" name="__codelineno-58-51" href="#__codelineno-58-51"></a><span class="err">    </span><span class="p">( </span>Σ ( d <span class="p">:</span><span class="err"> hom A x a) ,</span>
</span><span id="__span-58-52"><a id="__codelineno-58-52" name="__codelineno-58-52" href="#__codelineno-58-52"></a><span class="err">        ( product (hom2 A x y a f v d) </span><span class="p">(</span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , (u = d))))</span>
</span><span id="__span-58-53"><a id="__codelineno-58-53" name="__codelineno-58-53" href="#__codelineno-58-53"></a><span class="err">    </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A x a) , (hom2 A x y a f v d))</span>
</span><span id="__span-58-54"><a id="__codelineno-58-54" name="__codelineno-58-54" href="#__codelineno-58-54"></a><span class="err">    ( representable-dhom-to-path-space-is-segal A is-segal-A a x y f v)</span>
</span><span id="__span-58-55"><a id="__codelineno-58-55" name="__codelineno-58-55" href="#__codelineno-58-55"></a><span class="err">    ( total-equiv-family-equiv</span>
</span><span id="__span-58-56"><a id="__codelineno-58-56" name="__codelineno-58-56" href="#__codelineno-58-56"></a><span class="err">      ( hom A x a)</span>
</span><span id="__span-58-57"><a id="__codelineno-58-57" name="__codelineno-58-57" href="#__codelineno-58-57"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→ product (hom2 A x y a f v d) </span><span class="p">(</span>Σ (u <span class="p">:</span><span class="err"> hom A x a) , (u = d)))</span>
</span><span id="__span-58-58"><a id="__codelineno-58-58" name="__codelineno-58-58" href="#__codelineno-58-58"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→ hom2 A x y a f v d)</span>
</span><span id="__span-58-59"><a id="__codelineno-58-59" name="__codelineno-58-59" href="#__codelineno-58-59"></a><span class="err">      ( </span><span class="p">\ </span>d <span class="err">→ codomain-based-paths-contraction A x y a v f d))</span>
</span><span id="__span-58-60"><a id="__codelineno-58-60" name="__codelineno-58-60" href="#__codelineno-58-60"></a>
</span><span id="__span-58-61"><a id="__codelineno-58-61" name="__codelineno-58-61" href="#__codelineno-58-61"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-segal-representable-dhom-to-contractible" id="define:is-segal-representable-dhom-to-contractible" style="visibility: visible; position: relative; color: inherit">is-segal-representable-dhom-to-contractible</a></span>
</span><span id="__span-58-62"><a id="__codelineno-58-62" name="__codelineno-58-62" href="#__codelineno-58-62"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-58-63"><a id="__codelineno-58-63" name="__codelineno-58-63" href="#__codelineno-58-63"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-58-64"><a id="__codelineno-58-64" name="__codelineno-58-64" href="#__codelineno-58-64"></a><span class="err">  </span><span class="p">( </span>a x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-58-65"><a id="__codelineno-58-65" name="__codelineno-58-65" href="#__codelineno-58-65"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-58-66"><a id="__codelineno-58-66" name="__codelineno-58-66" href="#__codelineno-58-66"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> hom A y a)</span>
</span><span id="__span-58-67"><a id="__codelineno-58-67" name="__codelineno-58-67" href="#__codelineno-58-67"></a><span class="err">  : is-contr (dhom-to-representable A a x y f v)</span>
</span><span id="__span-58-68"><a id="__codelineno-58-68" name="__codelineno-58-68" href="#__codelineno-58-68"></a><span class="err">  :=</span>
</span><span id="__span-58-69"><a id="__codelineno-58-69" name="__codelineno-58-69" href="#__codelineno-58-69"></a><span class="err">    is-contr-equiv-is-contr&#39;</span>
</span><span id="__span-58-70"><a id="__codelineno-58-70" name="__codelineno-58-70" href="#__codelineno-58-70"></a><span class="err">      ( dhom-to-representable A a x y f v)</span>
</span><span id="__span-58-71"><a id="__codelineno-58-71" name="__codelineno-58-71" href="#__codelineno-58-71"></a><span class="err">      </span><span class="p">( </span>Σ (d <span class="p">:</span><span class="err"> hom A x a) , (hom2 A x y a f v d))</span>
</span><span id="__span-58-72"><a id="__codelineno-58-72" name="__codelineno-58-72" href="#__codelineno-58-72"></a><span class="err">      ( is-segal-representable-dhom-to-hom2 A is-segal-A a x y f v)</span>
</span><span id="__span-58-73"><a id="__codelineno-58-73" name="__codelineno-58-73" href="#__codelineno-58-73"></a><span class="err">      ( is-segal-A x y a f v)</span>
</span></code></pre></div>
<p>Finally, we see that contravariant hom families in a Segal type are
contravariant.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.13(<-), dual</span><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-contravariant-representable-is-segal" id="define:is-contravariant-representable-is-segal" style="visibility: visible; position: relative; color: inherit">is-contravariant-representable-is-segal</a></span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="err">  </span><span class="p">( </span>a <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="err">  : is-contravariant A (</span><span class="p">\ </span>x <span class="err">→ hom A x a)</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="err">  := is-segal-representable-dhom-to-contractible A is-segal-A a</span>
</span></code></pre></div>
<p>The proof of the claimed converse result given in the original source is
circular - using Proposition 5.10, which holds only for Segal types - so instead
we argue as follows:</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.13(→), dual</span><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-segal-is-contravariant-representable" id="define:is-segal-is-contravariant-representable" style="visibility: visible; position: relative; color: inherit">is-segal-is-contravariant-representable</a></span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="err">  </span><span class="p">( </span>representable-family-is-contravariant <span class="p">:</span><span class="err"> </span><span class="p">(</span>a <span class="p">:</span><span class="err"> A) →</span>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="err">    is-contravariant A (</span><span class="p">\ </span>x <span class="err">→ hom A x a))</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="err">  : is-segal A</span>
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="err">  :=</span>
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="err">    </span><span class="p">\ </span>x y z f g <span class="err">→</span>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="err">      is-contr-base-is-contr-Σ</span>
</span><span id="__span-60-9"><a id="__codelineno-60-9" name="__codelineno-60-9" href="#__codelineno-60-9"></a><span class="err">      </span><span class="p">( </span>Σ (h <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x y z f g h))</span>
</span><span id="__span-60-10"><a id="__codelineno-60-10" name="__codelineno-60-10" href="#__codelineno-60-10"></a><span class="err">      </span><span class="p">( </span>\ hk → Σ (u <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x z z u (id-hom A z) (</span><span class="s">first</span><span class="err"> hk)))</span>
</span><span id="__span-60-11"><a id="__codelineno-60-11" name="__codelineno-60-11" href="#__codelineno-60-11"></a><span class="err">      ( </span><span class="p">\ </span>hk <span class="err">→ (</span><span class="s">first</span><span class="err"> hk , \ (t , s) → </span><span class="s">first</span><span class="err"> hk t))</span>
</span><span id="__span-60-12"><a id="__codelineno-60-12" name="__codelineno-60-12" href="#__codelineno-60-12"></a><span class="err">      </span><span class="p">( </span>is-contr-equiv-is-contr&#39;
</span><span id="__span-60-13"><a id="__codelineno-60-13" name="__codelineno-60-13" href="#__codelineno-60-13"></a>        ( Σ ( hk <span class="p">:</span><span class="err"> </span><span class="kt">Σ</span><span class="err"> </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x y z f g h)) ,</span>
</span><span id="__span-60-14"><a id="__codelineno-60-14" name="__codelineno-60-14" href="#__codelineno-60-14"></a><span class="err">            </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x z) , hom2 A x z z u (id-hom A z) (</span><span class="s">first</span><span class="err"> hk)))</span>
</span><span id="__span-60-15"><a id="__codelineno-60-15" name="__codelineno-60-15" href="#__codelineno-60-15"></a><span class="err">        ( dhom-to-representable A z x y f g)</span>
</span><span id="__span-60-16"><a id="__codelineno-60-16" name="__codelineno-60-16" href="#__codelineno-60-16"></a><span class="err">        ( inv-equiv</span>
</span><span id="__span-60-17"><a id="__codelineno-60-17" name="__codelineno-60-17" href="#__codelineno-60-17"></a><span class="err">          ( dhom-to-representable A z x y f g)</span>
</span><span id="__span-60-18"><a id="__codelineno-60-18" name="__codelineno-60-18" href="#__codelineno-60-18"></a><span class="err">          </span><span class="p">( </span>Σ ( hk <span class="p">:</span><span class="err"> </span><span class="kt">Σ</span><span class="err"> </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x y z f g h)) ,</span>
</span><span id="__span-60-19"><a id="__codelineno-60-19" name="__codelineno-60-19" href="#__codelineno-60-19"></a><span class="err">              </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x z) , hom2 A x z z u (id-hom A z) (</span><span class="s">first</span><span class="err"> hk)))</span>
</span><span id="__span-60-20"><a id="__codelineno-60-20" name="__codelineno-60-20" href="#__codelineno-60-20"></a><span class="err">          ( equiv-comp</span>
</span><span id="__span-60-21"><a id="__codelineno-60-21" name="__codelineno-60-21" href="#__codelineno-60-21"></a><span class="err">            ( dhom-to-representable A z x y f g)</span>
</span><span id="__span-60-22"><a id="__codelineno-60-22" name="__codelineno-60-22" href="#__codelineno-60-22"></a><span class="err">            </span><span class="p">( </span>Σ ( h <span class="p">:</span><span class="err"> hom A x z) ,</span>
</span><span id="__span-60-23"><a id="__codelineno-60-23" name="__codelineno-60-23" href="#__codelineno-60-23"></a><span class="err">                ( product</span>
</span><span id="__span-60-24"><a id="__codelineno-60-24" name="__codelineno-60-24" href="#__codelineno-60-24"></a><span class="err">                  ( hom2 A x y z f g h)</span>
</span><span id="__span-60-25"><a id="__codelineno-60-25" name="__codelineno-60-25" href="#__codelineno-60-25"></a><span class="err">                  </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x z) , hom2 A x z z u (id-hom A z) h)))</span>
</span><span id="__span-60-26"><a id="__codelineno-60-26" name="__codelineno-60-26" href="#__codelineno-60-26"></a><span class="err">            </span><span class="p">( </span>Σ ( hk <span class="p">:</span><span class="err"> </span><span class="kt">Σ</span><span class="err"> </span><span class="p">(</span>h <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x y z f g h)) ,</span>
</span><span id="__span-60-27"><a id="__codelineno-60-27" name="__codelineno-60-27" href="#__codelineno-60-27"></a><span class="err">                </span><span class="p">( </span>Σ (u <span class="p">:</span><span class="err"> hom A x z) , hom2 A x z z u (id-hom A z) (</span><span class="s">first</span><span class="err"> hk)))</span>
</span><span id="__span-60-28"><a id="__codelineno-60-28" name="__codelineno-60-28" href="#__codelineno-60-28"></a><span class="err">            ( representable-dhom-to-hom2-dist A z x y f g)</span>
</span><span id="__span-60-29"><a id="__codelineno-60-29" name="__codelineno-60-29" href="#__codelineno-60-29"></a><span class="err">            ( associative-Σ</span>
</span><span id="__span-60-30"><a id="__codelineno-60-30" name="__codelineno-60-30" href="#__codelineno-60-30"></a><span class="err">              ( hom A x z)</span>
</span><span id="__span-60-31"><a id="__codelineno-60-31" name="__codelineno-60-31" href="#__codelineno-60-31"></a><span class="err">              ( </span><span class="p">\ </span>h <span class="err">→ hom2 A x y z f g h)</span>
</span><span id="__span-60-32"><a id="__codelineno-60-32" name="__codelineno-60-32" href="#__codelineno-60-32"></a><span class="err">              </span><span class="p">( </span>\ h _ → Σ (u <span class="p">:</span><span class="err"> hom A x z) , (hom2 A x z z u (id-hom A z) h)))))</span>
</span><span id="__span-60-33"><a id="__codelineno-60-33" name="__codelineno-60-33" href="#__codelineno-60-33"></a><span class="err">              ( representable-family-is-contravariant z x y f g))</span>
</span></code></pre></div>
<h2 id="contravariant-lifts-transport-and-uniqueness">Contravariant lifts, transport, and uniqueness<a class="headerlink" href="#contravariant-lifts-transport-and-uniqueness" title="Permanent link">&para;</a></h2>
<p>In a contravariant family C over a base type A, a term v : C y may be
transported along an arrow f : hom A x y to give a term in C x.</p>
<div class="language-rzk highlight"><span class="filename">RS17, contravariant transport from beginning of Section 8.2</span><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:contravariant-transport" id="define:contravariant-transport" style="visibility: visible; position: relative; color: inherit">contravariant-transport</a></span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="err">  </span><span class="p">( </span>is-contravariant-C <span class="p">:</span><span class="err"> is-contravariant A C)</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="err">  : C x</span>
</span><span id="__span-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="err">  :=</span>
</span><span id="__span-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="err">    </span><span class="s">first</span>
</span><span id="__span-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="err">      ( center-contraction (dhom-to A x y f C v) (is-contravariant-C x y f v))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, contravariant lift from beginning of Section 8.2</span><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:contravariant-lift" id="define:contravariant-lift" style="visibility: visible; position: relative; color: inherit">contravariant-lift</a></span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="err">  </span><span class="p">( </span>is-contravariant-C <span class="p">:</span><span class="err"> is-contravariant A C)</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="err">  : ( dhom A x y f C (contravariant-transport A x y f C is-contravariant-C v) v)</span>
</span><span id="__span-62-9"><a id="__codelineno-62-9" name="__codelineno-62-9" href="#__codelineno-62-9"></a><span class="err">  :=</span>
</span><span id="__span-62-10"><a id="__codelineno-62-10" name="__codelineno-62-10" href="#__codelineno-62-10"></a><span class="err">    </span><span class="s">second</span>
</span><span id="__span-62-11"><a id="__codelineno-62-11" name="__codelineno-62-11" href="#__codelineno-62-11"></a><span class="err">      ( center-contraction (dhom-to A x y f C v) (is-contravariant-C x y f v))</span>
</span><span id="__span-62-12"><a id="__codelineno-62-12" name="__codelineno-62-12" href="#__codelineno-62-12"></a>
</span><span id="__span-62-13"><a id="__codelineno-62-13" name="__codelineno-62-13" href="#__codelineno-62-13"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:contravariant-uniqueness" id="define:contravariant-uniqueness" style="visibility: visible; position: relative; color: inherit">contravariant-uniqueness</a></span>
</span><span id="__span-62-14"><a id="__codelineno-62-14" name="__codelineno-62-14" href="#__codelineno-62-14"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-62-15"><a id="__codelineno-62-15" name="__codelineno-62-15" href="#__codelineno-62-15"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-62-16"><a id="__codelineno-62-16" name="__codelineno-62-16" href="#__codelineno-62-16"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-62-17"><a id="__codelineno-62-17" name="__codelineno-62-17" href="#__codelineno-62-17"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-62-18"><a id="__codelineno-62-18" name="__codelineno-62-18" href="#__codelineno-62-18"></a><span class="err">  </span><span class="p">( </span>is-contravariant-C <span class="p">:</span><span class="err"> is-contravariant A C)</span>
</span><span id="__span-62-19"><a id="__codelineno-62-19" name="__codelineno-62-19" href="#__codelineno-62-19"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-62-20"><a id="__codelineno-62-20" name="__codelineno-62-20" href="#__codelineno-62-20"></a><span class="err">  </span><span class="p">( </span>lift <span class="p">:</span><span class="err"> dhom-to A x y f C v)</span>
</span><span id="__span-62-21"><a id="__codelineno-62-21" name="__codelineno-62-21" href="#__codelineno-62-21"></a><span class="err">  : ( contravariant-transport A x y f C is-contravariant-C v) = (</span><span class="s">first</span><span class="err"> lift)</span>
</span><span id="__span-62-22"><a id="__codelineno-62-22" name="__codelineno-62-22" href="#__codelineno-62-22"></a><span class="err">  :=</span>
</span><span id="__span-62-23"><a id="__codelineno-62-23" name="__codelineno-62-23" href="#__codelineno-62-23"></a><span class="err">    first-path-Σ</span>
</span><span id="__span-62-24"><a id="__codelineno-62-24" name="__codelineno-62-24" href="#__codelineno-62-24"></a><span class="err">    ( C x)</span>
</span><span id="__span-62-25"><a id="__codelineno-62-25" name="__codelineno-62-25" href="#__codelineno-62-25"></a><span class="err">    ( </span><span class="p">\ </span>u <span class="err">→ dhom A x y f C u v)</span>
</span><span id="__span-62-26"><a id="__codelineno-62-26" name="__codelineno-62-26" href="#__codelineno-62-26"></a><span class="err">    ( center-contraction</span>
</span><span id="__span-62-27"><a id="__codelineno-62-27" name="__codelineno-62-27" href="#__codelineno-62-27"></a><span class="err">      ( dhom-to A x y f C v)</span>
</span><span id="__span-62-28"><a id="__codelineno-62-28" name="__codelineno-62-28" href="#__codelineno-62-28"></a><span class="err">      ( is-contravariant-C x y f v))</span>
</span><span id="__span-62-29"><a id="__codelineno-62-29" name="__codelineno-62-29" href="#__codelineno-62-29"></a><span class="err">    ( lift)</span>
</span><span id="__span-62-30"><a id="__codelineno-62-30" name="__codelineno-62-30" href="#__codelineno-62-30"></a><span class="err">    ( homotopy-contraction</span>
</span><span id="__span-62-31"><a id="__codelineno-62-31" name="__codelineno-62-31" href="#__codelineno-62-31"></a><span class="err">      ( dhom-to A x y f C v)</span>
</span><span id="__span-62-32"><a id="__codelineno-62-32" name="__codelineno-62-32" href="#__codelineno-62-32"></a><span class="err">      ( is-contravariant-C x y f v)</span>
</span><span id="__span-62-33"><a id="__codelineno-62-33" name="__codelineno-62-33" href="#__codelineno-62-33"></a><span class="err">      ( lift))</span>
</span></code></pre></div>
<h2 id="contravariant-functoriality">Contravariant functoriality<a class="headerlink" href="#contravariant-functoriality" title="Permanent link">&para;</a></h2>
<p>The contravariant transport operation defines a comtravariantly functorial
action of arrows in the base on terms in the fibers. In particular, there is an
identity transport law.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.16, Part 2, dual, Contravariant families preserve identities</span><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:id-arr-contravariant-transport" id="define:id-arr-contravariant-transport" style="visibility: visible; position: relative; color: inherit">id-arr-contravariant-transport</a></span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="err">  </span><span class="p">( </span>x <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="err">  </span><span class="p">( </span>is-contravariant-C <span class="p">:</span><span class="err"> is-contravariant A C)</span>
</span><span id="__span-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="err">  </span><span class="p">( </span>u <span class="p">:</span><span class="err"> C x)</span>
</span><span id="__span-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="err">  : ( contravariant-transport A x x (id-hom A x) C is-contravariant-C u) = u</span>
</span><span id="__span-63-8"><a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="err">  :=</span>
</span><span id="__span-63-9"><a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="err">    contravariant-uniqueness A x x (id-hom A x) C is-contravariant-C u</span>
</span><span id="__span-63-10"><a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="err">      ( u , id-dhom A x C u)</span>
</span></code></pre></div>
<h2 id="contravariant-natural-transformations">Contravariant natural transformations<a class="headerlink" href="#contravariant-natural-transformations" title="Permanent link">&para;</a></h2>
<p>A fiberwise map between contrvariant families is automatically "natural"
commuting with the contravariant lifts.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.17, dual, Contravariant naturality</span><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:contravariant-fiberwise-transformation-application" id="define:contravariant-fiberwise-transformation-application" style="visibility: visible; position: relative; color: inherit">contravariant-fiberwise-transformation-application</a></span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-64-4"><a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-64-5"><a id="__codelineno-64-5" name="__codelineno-64-5" href="#__codelineno-64-5"></a><span class="err">  </span><span class="p">( </span>C D <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-64-6"><a id="__codelineno-64-6" name="__codelineno-64-6" href="#__codelineno-64-6"></a><span class="err">  </span><span class="p">( </span>is-contravariant-C <span class="p">:</span><span class="err"> is-contravariant A C)</span>
</span><span id="__span-64-7"><a id="__codelineno-64-7" name="__codelineno-64-7" href="#__codelineno-64-7"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> </span><span class="p">(</span>z <span class="p">:</span><span class="err"> A) → C z → D z)</span>
</span><span id="__span-64-8"><a id="__codelineno-64-8" name="__codelineno-64-8" href="#__codelineno-64-8"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-64-9"><a id="__codelineno-64-9" name="__codelineno-64-9" href="#__codelineno-64-9"></a><span class="err">  : dhom-to A x y f D (ϕ y v)</span>
</span><span id="__span-64-10"><a id="__codelineno-64-10" name="__codelineno-64-10" href="#__codelineno-64-10"></a><span class="err">  :=</span>
</span><span id="__span-64-11"><a id="__codelineno-64-11" name="__codelineno-64-11" href="#__codelineno-64-11"></a><span class="err">    ( ϕ x (contravariant-transport A x y f C is-contravariant-C v) ,</span>
</span><span id="__span-64-12"><a id="__codelineno-64-12" name="__codelineno-64-12" href="#__codelineno-64-12"></a><span class="err">      </span><span class="p">\ </span>t <span class="err">→ ϕ (f t) (contravariant-lift A x y f C is-contravariant-C v t))</span>
</span><span id="__span-64-13"><a id="__codelineno-64-13" name="__codelineno-64-13" href="#__codelineno-64-13"></a>
</span><span id="__span-64-14"><a id="__codelineno-64-14" name="__codelineno-64-14" href="#__codelineno-64-14"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:naturality-contravariant-fiberwise-transformation" id="define:naturality-contravariant-fiberwise-transformation" style="visibility: visible; position: relative; color: inherit">naturality-contravariant-fiberwise-transformation</a></span>
</span><span id="__span-64-15"><a id="__codelineno-64-15" name="__codelineno-64-15" href="#__codelineno-64-15"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-64-16"><a id="__codelineno-64-16" name="__codelineno-64-16" href="#__codelineno-64-16"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-64-17"><a id="__codelineno-64-17" name="__codelineno-64-17" href="#__codelineno-64-17"></a><span class="err">  </span><span class="p">( </span>f <span class="p">:</span><span class="err"> hom A x y)</span>
</span><span id="__span-64-18"><a id="__codelineno-64-18" name="__codelineno-64-18" href="#__codelineno-64-18"></a><span class="err">  </span><span class="p">( </span>C D <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-64-19"><a id="__codelineno-64-19" name="__codelineno-64-19" href="#__codelineno-64-19"></a><span class="err">  </span><span class="p">( </span>is-contravariant-C <span class="p">:</span><span class="err"> is-contravariant A C)</span>
</span><span id="__span-64-20"><a id="__codelineno-64-20" name="__codelineno-64-20" href="#__codelineno-64-20"></a><span class="err">  </span><span class="p">( </span>is-contravariant-D <span class="p">:</span><span class="err"> is-contravariant A D)</span>
</span><span id="__span-64-21"><a id="__codelineno-64-21" name="__codelineno-64-21" href="#__codelineno-64-21"></a><span class="err">  </span><span class="p">( </span>ϕ <span class="p">:</span><span class="err"> </span><span class="p">(</span>z <span class="p">:</span><span class="err"> A) → C z → D z)</span>
</span><span id="__span-64-22"><a id="__codelineno-64-22" name="__codelineno-64-22" href="#__codelineno-64-22"></a><span class="err">  </span><span class="p">( </span>v <span class="p">:</span><span class="err"> C y)</span>
</span><span id="__span-64-23"><a id="__codelineno-64-23" name="__codelineno-64-23" href="#__codelineno-64-23"></a><span class="err">  : ( contravariant-transport A x y f D is-contravariant-D (ϕ y v)) =</span>
</span><span id="__span-64-24"><a id="__codelineno-64-24" name="__codelineno-64-24" href="#__codelineno-64-24"></a><span class="err">    ( ϕ x (contravariant-transport A x y f C is-contravariant-C v))</span>
</span><span id="__span-64-25"><a id="__codelineno-64-25" name="__codelineno-64-25" href="#__codelineno-64-25"></a><span class="err">  :=</span>
</span><span id="__span-64-26"><a id="__codelineno-64-26" name="__codelineno-64-26" href="#__codelineno-64-26"></a><span class="err">    contravariant-uniqueness A x y f D is-contravariant-D (ϕ y v)</span>
</span><span id="__span-64-27"><a id="__codelineno-64-27" name="__codelineno-64-27" href="#__codelineno-64-27"></a><span class="err">    ( contravariant-fiberwise-transformation-application</span>
</span><span id="__span-64-28"><a id="__codelineno-64-28" name="__codelineno-64-28" href="#__codelineno-64-28"></a><span class="err">        A x y f C D is-contravariant-C ϕ v)</span>
</span></code></pre></div>
<h2 id="two-sided-discrete-fibrations">Two sided discrete fibrations<a class="headerlink" href="#two-sided-discrete-fibrations" title="Permanent link">&para;</a></h2>
<div class="language-rzk highlight"><span class="filename">RS17, Definition 8.28</span><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-two-sided-discrete" id="define:is-two-sided-discrete" style="visibility: visible; position: relative; color: inherit">is-two-sided-discrete</a></span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → B → U)</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="err">  : U</span>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="err">  :=</span>
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="err">    product</span>
</span><span id="__span-65-7"><a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="err">      </span><span class="p">( </span>(a <span class="p">:</span><span class="err"> A) → is-covariant B (</span><span class="p">\</span>b <span class="err">→ C a b))</span>
</span><span id="__span-65-8"><a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="err">      </span><span class="p">( </span>(b <span class="p">:</span><span class="err"> B) → is-contravariant A (</span><span class="p">\ </span>a <span class="err">→ C a b))</span>
</span></code></pre></div>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.29</span><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-two-sided-discrete-hom-is-segal" id="define:is-two-sided-discrete-hom-is-segal" style="visibility: visible; position: relative; color: inherit">is-two-sided-discrete-hom-is-segal</a></span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="err">  : is-two-sided-discrete A A (hom A)</span>
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="err">  :=</span>
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="err">    ( is-covariant-representable-is-segal A is-segal-A ,</span>
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="err">      is-contravariant-representable-is-segal A is-segal-A)</span>
</span></code></pre></div>
<h2 id="closure-properties-of-covariance">Closure properties of covariance<a class="headerlink" href="#closure-properties-of-covariance" title="Permanent link">&para;</a></h2>
<div class="language-rzk highlight"><span class="filename">RS17, Theorem 8.30</span><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-covariant-is-locally-covariant" id="define:is-covariant-is-locally-covariant" style="visibility: visible; position: relative; color: inherit">is-covariant-is-locally-covariant</a></span><span class="p"> </span><span class="k">uses</span><span class="p"> (</span>weakfunext<span class="p">)</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="err">  </span><span class="p">( </span>A B <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → B → U)</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="err">  </span><span class="p">( </span>is-locally-covariant <span class="p">:</span><span class="err"> </span><span class="p">(</span>b <span class="p">:</span><span class="err"> B) → is-covariant A ( </span><span class="p">\ </span>a <span class="err">→ C a b ) )</span>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="err">  : is-covariant A </span><span class="p">( </span>\ a → (( b <span class="p">:</span><span class="err"> B ) → (C a b)))</span>
</span><span id="__span-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="err">  :=</span>
</span><span id="__span-67-7"><a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="err">    is-covariant-has-unique-fixed-domain-lifts</span>
</span><span id="__span-67-8"><a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a><span class="err">      ( A)</span>
</span><span id="__span-67-9"><a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a><span class="err">      </span><span class="p">( </span>\ a → ( b <span class="p">:</span><span class="err"> B ) → (C a b) )</span>
</span><span id="__span-67-10"><a id="__codelineno-67-10" name="__codelineno-67-10" href="#__codelineno-67-10"></a><span class="err">      </span><span class="p">( </span>\ x y f g →
</span><span id="__span-67-11"><a id="__codelineno-67-11" name="__codelineno-67-11" href="#__codelineno-67-11"></a>        is-contr-equiv-is-contr&#39;
</span><span id="__span-67-12"><a id="__codelineno-67-12" name="__codelineno-67-12" href="#__codelineno-67-12"></a>          ( (t <span class="p">:</span><span class="err"> Δ¹) → </span><span class="p">(</span>(b <span class="p">:</span><span class="err"> B) → C (f t) b) [  t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ g ])</span>
</span><span id="__span-67-13"><a id="__codelineno-67-13" name="__codelineno-67-13" href="#__codelineno-67-13"></a><span class="err">          </span><span class="p">( </span>(b <span class="p">:</span><span class="err"> B) → </span><span class="p">(</span>t <span class="p">:</span><span class="err"> Δ¹) → C (f t) b [ t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ g b])</span>
</span><span id="__span-67-14"><a id="__codelineno-67-14" name="__codelineno-67-14" href="#__codelineno-67-14"></a><span class="err">          ( flip-ext-fun </span><span class="kt">2</span><span class="err"> Δ¹ (</span><span class="p">\ </span>t <span class="err">→ t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err">) B ( </span><span class="p">\ </span>t <span class="err">→  C (f t)) ( </span><span class="p">\ </span>t <span class="err">→ g))</span>
</span><span id="__span-67-15"><a id="__codelineno-67-15" name="__codelineno-67-15" href="#__codelineno-67-15"></a><span class="err">          </span><span class="p">( </span>weakfunext B
</span><span id="__span-67-16"><a id="__codelineno-67-16" name="__codelineno-67-16" href="#__codelineno-67-16"></a>            ( \ b → ( (t <span class="p">:</span><span class="err"> Δ¹) → C (f t) b [ t </span><span class="sx">≡</span><span class="err"> </span><span class="m">0₂</span><span class="err"> ↦ g b] ) )</span>
</span><span id="__span-67-17"><a id="__codelineno-67-17" name="__codelineno-67-17" href="#__codelineno-67-17"></a><span class="err">            ( </span><span class="p">\ </span>b <span class="err">→</span>
</span><span id="__span-67-18"><a id="__codelineno-67-18" name="__codelineno-67-18" href="#__codelineno-67-18"></a><span class="err">              ( has-unique-fixed-domain-lifts-is-covariant</span>
</span><span id="__span-67-19"><a id="__codelineno-67-19" name="__codelineno-67-19" href="#__codelineno-67-19"></a><span class="err">                ( A)</span>
</span><span id="__span-67-20"><a id="__codelineno-67-20" name="__codelineno-67-20" href="#__codelineno-67-20"></a><span class="err">                ( </span><span class="p">\ </span>a  <span class="err">→ (C a b))</span>
</span><span id="__span-67-21"><a id="__codelineno-67-21" name="__codelineno-67-21" href="#__codelineno-67-21"></a><span class="err">                ( is-locally-covariant b))</span>
</span><span id="__span-67-22"><a id="__codelineno-67-22" name="__codelineno-67-22" href="#__codelineno-67-22"></a><span class="err">             x y f (g b))))</span>
</span></code></pre></div>
<h2 id="discrete-fibers">Discrete fibers<a class="headerlink" href="#discrete-fibers" title="Permanent link">&para;</a></h2>
<p>The fibers of a covariant fibration over a Segal type are discrete types.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Proposition 8.18</span><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-discrete-is-covariant-segal" id="define:is-discrete-is-covariant-segal" style="visibility: visible; position: relative; color: inherit">is-discrete-is-covariant-segal</a></span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-68-3"><a id="__codelineno-68-3" name="__codelineno-68-3" href="#__codelineno-68-3"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-68-4"><a id="__codelineno-68-4" name="__codelineno-68-4" href="#__codelineno-68-4"></a><span class="err">  </span><span class="p">( </span>C <span class="p">:</span><span class="err"> A → U)</span>
</span><span id="__span-68-5"><a id="__codelineno-68-5" name="__codelineno-68-5" href="#__codelineno-68-5"></a><span class="err">  </span><span class="p">( </span>is-cov-C <span class="p">:</span><span class="err"> is-covariant A C)</span>
</span><span id="__span-68-6"><a id="__codelineno-68-6" name="__codelineno-68-6" href="#__codelineno-68-6"></a><span class="err">  </span><span class="p">( </span>x <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-68-7"><a id="__codelineno-68-7" name="__codelineno-68-7" href="#__codelineno-68-7"></a><span class="err">  : is-discrete (C x)</span>
</span><span id="__span-68-8"><a id="__codelineno-68-8" name="__codelineno-68-8" href="#__codelineno-68-8"></a><span class="err">  :=</span>
</span><span id="__span-68-9"><a id="__codelineno-68-9" name="__codelineno-68-9" href="#__codelineno-68-9"></a><span class="err">    ( </span><span class="p">\ </span>u v <span class="err">→</span>
</span><span id="__span-68-10"><a id="__codelineno-68-10" name="__codelineno-68-10" href="#__codelineno-68-10"></a><span class="err">    total-equiv-family-of-equiv</span>
</span><span id="__span-68-11"><a id="__codelineno-68-11" name="__codelineno-68-11" href="#__codelineno-68-11"></a><span class="err">      ( C x)</span>
</span><span id="__span-68-12"><a id="__codelineno-68-12" name="__codelineno-68-12" href="#__codelineno-68-12"></a><span class="err">      ( </span><span class="p">\ </span>v&#39; <span class="err">→ (u = v&#39;))</span>
</span><span id="__span-68-13"><a id="__codelineno-68-13" name="__codelineno-68-13" href="#__codelineno-68-13"></a><span class="err">      ( hom (C x) u)</span>
</span><span id="__span-68-14"><a id="__codelineno-68-14" name="__codelineno-68-14" href="#__codelineno-68-14"></a><span class="err">      ( hom-eq (C x) u)</span>
</span><span id="__span-68-15"><a id="__codelineno-68-15" name="__codelineno-68-15" href="#__codelineno-68-15"></a><span class="err">      </span><span class="p">( </span>is-equiv-are-contr
</span><span id="__span-68-16"><a id="__codelineno-68-16" name="__codelineno-68-16" href="#__codelineno-68-16"></a>        ( Σ (y <span class="p">:</span><span class="err"> (C x)) , u = y)</span>
</span><span id="__span-68-17"><a id="__codelineno-68-17" name="__codelineno-68-17" href="#__codelineno-68-17"></a><span class="err">        </span><span class="p">( </span>Σ (y <span class="p">:</span><span class="err"> (C x)) , hom (C x) u y)</span>
</span><span id="__span-68-18"><a id="__codelineno-68-18" name="__codelineno-68-18" href="#__codelineno-68-18"></a><span class="err">        ( is-contr-based-paths (C x) u)</span>
</span><span id="__span-68-19"><a id="__codelineno-68-19" name="__codelineno-68-19" href="#__codelineno-68-19"></a><span class="err">        ( is-cov-C x x (id-hom A x) u)</span>
</span><span id="__span-68-20"><a id="__codelineno-68-20" name="__codelineno-68-20" href="#__codelineno-68-20"></a><span class="err">        ( total-map</span>
</span><span id="__span-68-21"><a id="__codelineno-68-21" name="__codelineno-68-21" href="#__codelineno-68-21"></a><span class="err">          ( C x)</span>
</span><span id="__span-68-22"><a id="__codelineno-68-22" name="__codelineno-68-22" href="#__codelineno-68-22"></a><span class="err">          ( </span><span class="p">\ </span>v&#39; <span class="err">→ u = v&#39;)</span>
</span><span id="__span-68-23"><a id="__codelineno-68-23" name="__codelineno-68-23" href="#__codelineno-68-23"></a><span class="err">          ( hom (C x) u)</span>
</span><span id="__span-68-24"><a id="__codelineno-68-24" name="__codelineno-68-24" href="#__codelineno-68-24"></a><span class="err">          ( hom-eq (C x) u)))</span>
</span><span id="__span-68-25"><a id="__codelineno-68-25" name="__codelineno-68-25" href="#__codelineno-68-25"></a><span class="err">      ( v))</span>
</span></code></pre></div>
<p>In a segal type, covariant hom families are covariant,hence representable homs
are discrete.</p>
<div class="language-rzk highlight"><span class="filename">RS17, Corollary 8.19</span><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="kr">#def</span><span class="p"> </span><span class="nf"><a href="#define:is-discrete-hom-is-segal" id="define:is-discrete-hom-is-segal" style="visibility: visible; position: relative; color: inherit">is-discrete-hom-is-segal</a></span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="err">  </span><span class="p">( </span>A <span class="p">:</span><span class="err"> U)</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="err">  </span><span class="p">( </span>is-segal-A <span class="p">:</span><span class="err"> is-segal A)</span>
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="err">  </span><span class="p">( </span>x y <span class="p">:</span><span class="err"> A)</span>
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="err">  : is-discrete (hom A x y)</span>
</span><span id="__span-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="err">  :=</span>
</span><span id="__span-69-7"><a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a><span class="err">    is-discrete-is-covariant-segal</span>
</span><span id="__span-69-8"><a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a><span class="err">      ( A)</span>
</span><span id="__span-69-9"><a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="err">      ( is-segal-A)</span>
</span><span id="__span-69-10"><a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a><span class="err">      ( hom A x)</span>
</span><span id="__span-69-11"><a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a><span class="err">      ( is-covariant-representable-is-segal A is-segal-A x)</span>
</span><span id="__span-69-12"><a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a><span class="err">      ( y)</span>
</span></code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../07-discrete.rzk/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Discrete Types" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Discrete Types
              </div>
            </div>
          </a>
        
        
          
          <a href="../09-yoneda.rzk/" class="md-footer__link md-footer__link--next" aria-label="Next: The Yoneda Lemma" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                The Yoneda Lemma
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.action.edit", "navigation.footer", "navigation.sections", "navigation.path"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
        <script src="../../javascript/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>